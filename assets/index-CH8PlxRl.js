(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function SA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Xm={exports:{}},Fu={},Jm={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function vk(){if(jE)return ft;jE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function A(H,oe,de){this.props=H,this.context=oe,this.refs=S,this.updater=de||_}A.prototype.isReactComponent={},A.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=A.prototype;function O(H,oe,de){this.props=H,this.context=oe,this.refs=S,this.updater=de||_}var V=O.prototype=new P;V.constructor=O,T(V,A.prototype),V.isPureReactComponent=!0;var L=Array.isArray,R=Object.prototype.hasOwnProperty,B={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(H,oe,de){var Ge,$e={},ot=null,ct=null;if(oe!=null)for(Ge in oe.ref!==void 0&&(ct=oe.ref),oe.key!==void 0&&(ot=""+oe.key),oe)R.call(oe,Ge)&&!k.hasOwnProperty(Ge)&&($e[Ge]=oe[Ge]);var dt=arguments.length-2;if(dt===1)$e.children=de;else if(1<dt){for(var et=Array(dt),kt=0;kt<dt;kt++)et[kt]=arguments[kt+2];$e.children=et}if(H&&H.defaultProps)for(Ge in dt=H.defaultProps,dt)$e[Ge]===void 0&&($e[Ge]=dt[Ge]);return{$$typeof:t,type:H,key:ot,ref:ct,props:$e,_owner:B.current}}function D(H,oe){return{$$typeof:t,type:H.type,key:oe,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function j(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(de){return oe[de]})}var F=/\/+/g;function M(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):oe.toString(36)}function Ve(H,oe,de,Ge,$e){var ot=typeof H;(ot==="undefined"||ot==="boolean")&&(H=null);var ct=!1;if(H===null)ct=!0;else switch(ot){case"string":case"number":ct=!0;break;case"object":switch(H.$$typeof){case t:case e:ct=!0}}if(ct)return ct=H,$e=$e(ct),H=Ge===""?"."+M(ct,0):Ge,L($e)?(de="",H!=null&&(de=H.replace(F,"$&/")+"/"),Ve($e,oe,de,"",function(kt){return kt})):$e!=null&&(N($e)&&($e=D($e,de+(!$e.key||ct&&ct.key===$e.key?"":(""+$e.key).replace(F,"$&/")+"/")+H)),oe.push($e)),1;if(ct=0,Ge=Ge===""?".":Ge+":",L(H))for(var dt=0;dt<H.length;dt++){ot=H[dt];var et=Ge+M(ot,dt);ct+=Ve(ot,oe,de,et,$e)}else if(et=y(H),typeof et=="function")for(H=et.call(H),dt=0;!(ot=H.next()).done;)ot=ot.value,et=Ge+M(ot,dt++),ct+=Ve(ot,oe,de,et,$e);else if(ot==="object")throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return ct}function ue(H,oe,de){if(H==null)return H;var Ge=[],$e=0;return Ve(H,Ge,"","",function(ot){return oe.call(de,ot,$e++)}),Ge}function J(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(de){(H._status===0||H._status===-1)&&(H._status=1,H._result=de)},function(de){(H._status===0||H._status===-1)&&(H._status=2,H._result=de)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var le={current:null},te={transition:null},ve={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:te,ReactCurrentOwner:B};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:ue,forEach:function(H,oe,de){ue(H,function(){oe.apply(this,arguments)},de)},count:function(H){var oe=0;return ue(H,function(){oe++}),oe},toArray:function(H){return ue(H,function(oe){return oe})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ft.Component=A,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=O,ft.StrictMode=r,ft.Suspense=h,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,ft.act=ce,ft.cloneElement=function(H,oe,de){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ge=T({},H.props),$e=H.key,ot=H.ref,ct=H._owner;if(oe!=null){if(oe.ref!==void 0&&(ot=oe.ref,ct=B.current),oe.key!==void 0&&($e=""+oe.key),H.type&&H.type.defaultProps)var dt=H.type.defaultProps;for(et in oe)R.call(oe,et)&&!k.hasOwnProperty(et)&&(Ge[et]=oe[et]===void 0&&dt!==void 0?dt[et]:oe[et])}var et=arguments.length-2;if(et===1)Ge.children=de;else if(1<et){dt=Array(et);for(var kt=0;kt<et;kt++)dt[kt]=arguments[kt+2];Ge.children=dt}return{$$typeof:t,type:H.type,key:$e,ref:ot,props:Ge,_owner:ct}},ft.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},ft.createElement=I,ft.createFactory=function(H){var oe=I.bind(null,H);return oe.type=H,oe},ft.createRef=function(){return{current:null}},ft.forwardRef=function(H){return{$$typeof:u,render:H}},ft.isValidElement=N,ft.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:J}},ft.memo=function(H,oe){return{$$typeof:f,type:H,compare:oe===void 0?null:oe}},ft.startTransition=function(H){var oe=te.transition;te.transition={};try{H()}finally{te.transition=oe}},ft.unstable_act=ce,ft.useCallback=function(H,oe){return le.current.useCallback(H,oe)},ft.useContext=function(H){return le.current.useContext(H)},ft.useDebugValue=function(){},ft.useDeferredValue=function(H){return le.current.useDeferredValue(H)},ft.useEffect=function(H,oe){return le.current.useEffect(H,oe)},ft.useId=function(){return le.current.useId()},ft.useImperativeHandle=function(H,oe,de){return le.current.useImperativeHandle(H,oe,de)},ft.useInsertionEffect=function(H,oe){return le.current.useInsertionEffect(H,oe)},ft.useLayoutEffect=function(H,oe){return le.current.useLayoutEffect(H,oe)},ft.useMemo=function(H,oe){return le.current.useMemo(H,oe)},ft.useReducer=function(H,oe,de){return le.current.useReducer(H,oe,de)},ft.useRef=function(H){return le.current.useRef(H)},ft.useState=function(H){return le.current.useState(H)},ft.useSyncExternalStore=function(H,oe,de){return le.current.useSyncExternalStore(H,oe,de)},ft.useTransition=function(){return le.current.useTransition()},ft.version="18.3.1",ft}var BE;function Vv(){return BE||(BE=1,Jm.exports=vk()),Jm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function _k(){if(zE)return Fu;zE=1;var t=Vv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var p,g={},y=null,_=null;f!==void 0&&(y=""+f),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(_=h.ref);for(p in h)r.call(h,p)&&!o.hasOwnProperty(p)&&(g[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:e,type:u,key:y,ref:_,props:g,_owner:i.current}}return Fu.Fragment=n,Fu.jsx=l,Fu.jsxs=l,Fu}var $E;function wk(){return $E||($E=1,Xm.exports=_k()),Xm.exports}var ie=wk(),Ed={},eg={exports:{}},gr={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function Ek(){return qE||(qE=1,function(t){function e(te,ve){var ce=te.length;te.push(ve);e:for(;0<ce;){var H=ce-1>>>1,oe=te[H];if(0<i(oe,ve))te[H]=ve,te[ce]=oe,ce=H;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ve=te[0],ce=te.pop();if(ce!==ve){te[0]=ce;e:for(var H=0,oe=te.length,de=oe>>>1;H<de;){var Ge=2*(H+1)-1,$e=te[Ge],ot=Ge+1,ct=te[ot];if(0>i($e,ce))ot<oe&&0>i(ct,$e)?(te[H]=ct,te[ot]=ce,H=ot):(te[H]=$e,te[Ge]=ce,H=Ge);else if(ot<oe&&0>i(ct,ce))te[H]=ct,te[ot]=ce,H=ot;else break e}}return ve}function i(te,ve){var ce=te.sortIndex-ve.sortIndex;return ce!==0?ce:te.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,g=null,y=3,_=!1,T=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(te){for(var ve=n(f);ve!==null;){if(ve.callback===null)r(f);else if(ve.startTime<=te)r(f),ve.sortIndex=ve.expirationTime,e(h,ve);else break;ve=n(f)}}function L(te){if(S=!1,V(te),!T)if(n(h)!==null)T=!0,J(R);else{var ve=n(f);ve!==null&&le(L,ve.startTime-te)}}function R(te,ve){T=!1,S&&(S=!1,P(I),I=-1),_=!0;var ce=y;try{for(V(ve),g=n(h);g!==null&&(!(g.expirationTime>ve)||te&&!j());){var H=g.callback;if(typeof H=="function"){g.callback=null,y=g.priorityLevel;var oe=H(g.expirationTime<=ve);ve=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(h)&&r(h),V(ve)}else r(h);g=n(h)}if(g!==null)var de=!0;else{var Ge=n(f);Ge!==null&&le(L,Ge.startTime-ve),de=!1}return de}finally{g=null,y=ce,_=!1}}var B=!1,k=null,I=-1,D=5,N=-1;function j(){return!(t.unstable_now()-N<D)}function F(){if(k!==null){var te=t.unstable_now();N=te;var ve=!0;try{ve=k(!0,te)}finally{ve?M():(B=!1,k=null)}}else B=!1}var M;if(typeof O=="function")M=function(){O(F)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,ue=Ve.port2;Ve.port1.onmessage=F,M=function(){ue.postMessage(null)}}else M=function(){A(F,0)};function J(te){k=te,B||(B=!0,M())}function le(te,ve){I=A(function(){te(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,J(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ve=3;break;default:ve=y}var ce=y;y=ve;try{return te()}finally{y=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ve){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ce=y;y=te;try{return ve()}finally{y=ce}},t.unstable_scheduleCallback=function(te,ve,ce){var H=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?H+ce:H):ce=H,te){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ce+oe,te={id:p++,callback:ve,priorityLevel:te,startTime:ce,expirationTime:oe,sortIndex:-1},ce>H?(te.sortIndex=ce,e(f,te),n(h)===null&&te===n(f)&&(S?(P(I),I=-1):S=!0,le(L,ce-H))):(te.sortIndex=oe,e(h,te),T||_||(T=!0,J(R))),te},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(te){var ve=y;return function(){var ce=y;y=ve;try{return te.apply(this,arguments)}finally{y=ce}}}}(ng)),ng}var WE;function Tk(){return WE||(WE=1,tg.exports=Ek()),tg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function Sk(){if(HE)return gr;HE=1;var t=Vv(),e=Tk();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(s){return h.call(g,s)?!0:h.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function _(s,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,c,m){if(a===null||typeof a>"u"||_(s,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,c,m,v,E,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=C}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,O);A[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,O);A[a]=new S(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,O);A[a]=new S(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,a,c,m){var v=A.hasOwnProperty(a)?A[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,v,m)&&(c=null),m||v===null?y(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,m=v.attributeNamespace,c===null?s.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,m?s.setAttributeNS(m,a,c):s.setAttribute(a,c))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),B=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),te=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,H;function oe(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var de=!1;function Ge(s,a){if(!s||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var m=ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(ee){m=ee}s.call(a.prototype)}else{try{throw Error()}catch(ee){m=ee}s()}}catch(ee){if(ee&&m&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),E=m.stack.split(`
`),C=v.length-1,U=E.length-1;1<=C&&0<=U&&v[C]!==E[U];)U--;for(;1<=C&&0<=U;C--,U--)if(v[C]!==E[U]){if(C!==1||U!==1)do if(C--,U--,0>U||v[C]!==E[U]){var $=`
`+v[C].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=C&&0<=U);break}}}finally{de=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?oe(s):""}function $e(s){switch(s.tag){case 5:return oe(s.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return s=Ge(s.type,!1),s;case 11:return s=Ge(s.type.render,!1),s;case 1:return s=Ge(s.type,!0),s;default:return""}}function ot(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case B:return"Portal";case D:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case Ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return a=s.displayName||null,a!==null?a:ot(s.type)||"Memo";case J:a=s._payload,s=s._init;try{return ot(s(a))}catch{}}return null}function ct(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ot(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function dt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function et(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kt(s){var a=et(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(C){m=""+C,E.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Zt(s){s._valueTracker||(s._valueTracker=kt(s))}function sr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return s&&(m=et(s)?s.checked?"true":"false":s.value),s=m,s!==c?(a.setValue(s),!0):!1}function Xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Or(s,a){var c=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Xi(s,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=dt(a.value!=null?a.value:c),s._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ji(s,a){a=a.checked,a!=null&&V(s,"checked",a,!1)}function Vs(s,a){Ji(s,a);var c=dt(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?X(s,a.type,c):a.hasOwnProperty("defaultValue")&&X(s,a.type,dt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function z(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function X(s,a,c){(a!=="number"||Xt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var se=Array.isArray;function Ee(s,a,c,m){if(s=s.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=a.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+dt(c),a=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Te(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _e(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(se(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:dt(c)}}function Fe(s,a){var c=dt(a.value),m=dt(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),m!=null&&(s.defaultValue=""+m)}function qe(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Jt,es=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,v){MSApp.execUnsafeLocalFunction(function(){return s(a,c,m,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Jt=Jt||document.createElement("div"),Jt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Jt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function rn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(s){Mr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),or[a]=or[s]})});function Gr(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||or.hasOwnProperty(s)&&or[s]?(""+a).trim():a+"px"}function ts(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,v=Gr(c,a[c],m);c==="float"&&(c="cssFloat"),m?s.setProperty(c,v):s[c]=v}}var Qr=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(s,a){if(a){if(Qr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ls(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Fs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ns=null,ar=null,Er=null;function Zr(s){if(s=Su(s)){if(typeof ns!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Vh(a),ns(s.stateNode,s.type,a))}}function Xn(s){ar?Er?Er.push(s):Er=[s]:ar=s}function zo(){if(ar){var s=ar,a=Er;if(Er=ar=null,Zr(s),a)for(s=0;s<a.length;s++)Zr(a[s])}}function rs(s,a){return s(a)}function q(){}var G=!1;function ne(s,a,c){if(G)return s(a,c);G=!0;try{return rs(s,a,c)}finally{G=!1,(ar!==null||Er!==null)&&(q(),zo())}}function ae(s,a){var c=s.stateNode;if(c===null)return null;var m=Vh(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch{Re=!1}function We(s,a,c,m,v,E,C,U,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(me){this.onError(me)}}var Ce=!1,Oe=null,Se=!1,Ye=null,at={onError:function(s){Ce=!0,Oe=s}};function Ct(s,a,c,m,v,E,C,U,$){Ce=!1,Oe=null,We.apply(at,arguments)}function en(s,a,c,m,v,E,C,U,$){if(Ct.apply(this,arguments),Ce){if(Ce){var ee=Oe;Ce=!1,Oe=null}else throw Error(n(198));Se||(Se=!0,Ye=ee)}}function gt(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function xt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function It(s){if(gt(s)!==s)throw Error(n(188))}function Xr(s){var a=s.alternate;if(!a){if(a=gt(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,m=a;;){var v=c.return;if(v===null)break;var E=v.alternate;if(E===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===c)return It(v),s;if(E===m)return It(v),a;E=E.sibling}throw Error(n(188))}if(c.return!==m.return)c=v,m=E;else{for(var C=!1,U=v.child;U;){if(U===c){C=!0,c=v,m=E;break}if(U===m){C=!0,m=v,c=E;break}U=U.sibling}if(!C){for(U=E.child;U;){if(U===c){C=!0,c=E,m=v;break}if(U===m){C=!0,m=E,c=v;break}U=U.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Jr(s){return s=Xr(s),s!==null?Un(s):null}function Un(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Un(s);if(a!==null)return a;s=s.sibling}return null}var Cn=e.unstable_scheduleCallback,is=e.unstable_cancelCallback,Ri=e.unstable_shouldYield,ei=e.unstable_requestPaint,Pt=e.unstable_now,ss=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,Lt=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,ti=e.unstable_LowPriority,Ft=e.unstable_IdlePriority,lr=null,jn=null;function La(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(lr,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:ph,au=Math.log,fh=Math.LN2;function ph(s){return s>>>=0,s===0?32:31-(au(s)/fh|0)|0}var Fa=64,Ua=4194304;function Us(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $o(s,a){var c=s.pendingLanes;if(c===0)return 0;var m=0,v=s.suspendedLanes,E=s.pingedLanes,C=c&268435455;if(C!==0){var U=C&~v;U!==0?m=Us(U):(E&=C,E!==0&&(m=Us(E)))}else C=c&~v,C!==0?m=Us(C):E!==0&&(m=Us(E));if(m===0)return 0;if(a!==0&&a!==m&&!(a&v)&&(v=m&-m,E=a&-a,v>=E||v===16&&(E&4194240)!==0))return a;if(m&4&&(m|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)c=31-Jn(a),v=1<<c,m|=s[c],a&=~v;return m}function Ip(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(s,a){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes;0<E;){var C=31-Jn(E),U=1<<C,$=v[C];$===-1?(!(U&c)||U&m)&&(v[C]=Ip(U,a)):$<=a&&(s.expiredLanes|=U),E&=~U}}function Tr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qo(){var s=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),s}function js(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Bs(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Jn(a),s[a]=c}function Mt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-Jn(c),E=1<<v;a[v]=0,m[v]=-1,s[v]=-1,c&=~E}}function zs(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var m=31-Jn(c),v=1<<m;v&a|s[m]&a&&(s[m]|=a),c&=~v}}var yt=0;function $s(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var mh,ja,gh,yh,vh,lu=!1,Ci=[],Pn=null,ni=null,ri=null,qs=new Map,Vr=new Map,Ii=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(s,a){switch(s){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":qs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(a.pointerId)}}function ur(s,a,c,m,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:E,targetContainers:[v]},a!==null&&(a=Su(a),a!==null&&ja(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function bp(s,a,c,m,v){switch(a){case"focusin":return Pn=ur(Pn,s,a,c,m,v),!0;case"dragenter":return ni=ur(ni,s,a,c,m,v),!0;case"mouseover":return ri=ur(ri,s,a,c,m,v),!0;case"pointerover":var E=v.pointerId;return qs.set(E,ur(qs.get(E)||null,s,a,c,m,v)),!0;case"gotpointercapture":return E=v.pointerId,Vr.set(E,ur(Vr.get(E)||null,s,a,c,m,v)),!0}return!1}function wh(s){var a=Qo(s.target);if(a!==null){var c=gt(a);if(c!==null){if(a=c.tag,a===13){if(a=xt(c),a!==null){s.blockedOn=a,vh(s.priority,function(){gh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function as(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ba(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Yr=m,c.target.dispatchEvent(m),Yr=null}else return a=Su(c),a!==null&&ja(a),s.blockedOn=c,!1;a.shift()}return!0}function Wo(s,a,c){as(s)&&c.delete(a)}function Eh(){lu=!1,Pn!==null&&as(Pn)&&(Pn=null),ni!==null&&as(ni)&&(ni=null),ri!==null&&as(ri)&&(ri=null),qs.forEach(Wo),Vr.forEach(Wo)}function ii(s,a){s.blockedOn===a&&(s.blockedOn=null,lu||(lu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eh)))}function si(s){function a(v){return ii(v,s)}if(0<Ci.length){ii(Ci[0],s);for(var c=1;c<Ci.length;c++){var m=Ci[c];m.blockedOn===s&&(m.blockedOn=null)}}for(Pn!==null&&ii(Pn,s),ni!==null&&ii(ni,s),ri!==null&&ii(ri,s),qs.forEach(a),Vr.forEach(a),c=0;c<Ii.length;c++)m=Ii[c],m.blockedOn===s&&(m.blockedOn=null);for(;0<Ii.length&&(c=Ii[0],c.blockedOn===null);)wh(c),c.blockedOn===null&&Ii.shift()}var ls=L.ReactCurrentBatchConfig,Ws=!0;function $t(s,a,c,m){var v=yt,E=ls.transition;ls.transition=null;try{yt=1,uu(s,a,c,m)}finally{yt=v,ls.transition=E}}function kp(s,a,c,m){var v=yt,E=ls.transition;ls.transition=null;try{yt=4,uu(s,a,c,m)}finally{yt=v,ls.transition=E}}function uu(s,a,c,m){if(Ws){var v=Ba(s,a,c,m);if(v===null)zp(s,a,m,Ho,c),_h(s,m);else if(bp(v,s,a,c,m))m.stopPropagation();else if(_h(s,m),a&4&&-1<Pp.indexOf(s)){for(;v!==null;){var E=Su(v);if(E!==null&&mh(E),E=Ba(s,a,c,m),E===null&&zp(s,a,m,Ho,c),E===v)break;v=E}v!==null&&m.stopPropagation()}else zp(s,a,m,null,c)}}var Ho=null;function Ba(s,a,c,m){if(Ho=null,s=Fs(m),s=Qo(s),s!==null)if(a=gt(s),a===null)s=null;else if(c=a.tag,c===13){if(s=xt(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ho=s,null}function cu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ss()){case wt:return 1;case Lt:return 4;case In:case ti:return 16;case Ft:return 536870912;default:return 16}default:return 16}}var Sr=null,za=null,cr=null;function hu(){if(cr)return cr;var s,a=za,c=a.length,m,v="value"in Sr?Sr.value:Sr.textContent,E=v.length;for(s=0;s<c&&a[s]===v[s];s++);var C=c-s;for(m=1;m<=C&&a[c-m]===v[E-m];m++);return cr=v.slice(s,1<m?1-m:void 0)}function $a(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Pi(){return!0}function du(){return!1}function bn(s){function a(c,m,v,E,C){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(c=s[U],this[U]=c?c(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Pi:du,this.isPropagationStopped=du,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),a}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=bn(oi),bi=ce({},oi,{view:0,detail:0}),Dp=bn(bi),Wa,us,Hs,Ko=ce({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hs&&(Hs&&s.type==="mousemove"?(Wa=s.screenX-Hs.screenX,us=s.screenY-Hs.screenY):us=Wa=0,Hs=s),Wa)},movementY:function(s){return"movementY"in s?s.movementY:us}}),Ha=bn(Ko),fu=ce({},Ko,{dataTransfer:0}),Th=bn(fu),Ka=ce({},bi,{relatedTarget:0}),Ga=bn(Ka),Sh=ce({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=bn(Sh),xh=ce({},oi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ah=bn(xh),Rh=ce({},oi,{data:0}),pu=bn(Rh),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ch[s])?!!a[s]:!1}function ki(){return Ih}var d=ce({},bi,{key:function(s){if(s.key){var a=Qa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?er[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=bn(d),x=ce({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=bn(x),Q=ce({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),re=bn(Q),xe=ce({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dt=bn(xe),pn=ce({},Ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Et=bn(pn),En=[9,13,27,32],un=u&&"CompositionEvent"in window,Lr=null;u&&"documentMode"in document&&(Lr=document.documentMode);var xr=u&&"TextEvent"in window&&!Lr,Go=u&&(!un||Lr&&8<Lr&&11>=Lr),Ya=" ",O_=!1;function M_(s,a){switch(s){case"keyup":return En.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Za=!1;function mb(s,a){switch(s){case"compositionend":return V_(a);case"keypress":return a.which!==32?null:(O_=!0,Ya);case"textInput":return s=a.data,s===Ya&&O_?null:s;default:return null}}function gb(s,a){if(Za)return s==="compositionend"||!un&&M_(s,a)?(s=hu(),cr=za=Sr=null,Za=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Go&&a.locale!=="ko"?null:a.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!yb[s.type]:a==="textarea"}function F_(s,a,c,m){Xn(m),a=Nh(a,"onChange"),0<a.length&&(c=new qa("onChange","change",null,c,m),s.push({event:c,listeners:a}))}var mu=null,gu=null;function vb(s){nw(s,0)}function Ph(s){var a=nl(s);if(sr(a))return s}function _b(s,a){if(s==="change")return a}var U_=!1;if(u){var Np;if(u){var Op="oninput"in document;if(!Op){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),Op=typeof j_.oninput=="function"}Np=Op}else Np=!1;U_=Np&&(!document.documentMode||9<document.documentMode)}function B_(){mu&&(mu.detachEvent("onpropertychange",z_),gu=mu=null)}function z_(s){if(s.propertyName==="value"&&Ph(gu)){var a=[];F_(a,gu,s,Fs(s)),ne(vb,a)}}function wb(s,a,c){s==="focusin"?(B_(),mu=a,gu=c,mu.attachEvent("onpropertychange",z_)):s==="focusout"&&B_()}function Eb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ph(gu)}function Tb(s,a){if(s==="click")return Ph(a)}function Sb(s,a){if(s==="input"||s==="change")return Ph(a)}function xb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ai=typeof Object.is=="function"?Object.is:xb;function yu(s,a){if(ai(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!h.call(a,v)||!ai(s[v],a[v]))return!1}return!0}function $_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function q_(s,a){var c=$_(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=a&&m>=a)return{node:c,offset:a-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$_(c)}}function W_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?W_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function H_(){for(var s=window,a=Xt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Xt(s.document)}return a}function Mp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Ab(s){var a=H_(),c=s.focusedElem,m=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&W_(c.ownerDocument.documentElement,c)){if(m!==null&&Mp(c)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,E=Math.min(m.start,v);m=m.end===void 0?E:Math.min(m.end,v),!s.extend&&E>m&&(v=m,m=E,E=v),v=q_(c,E);var C=q_(c,m);v&&C&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),E>m?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Rb=u&&"documentMode"in document&&11>=document.documentMode,Xa=null,Vp=null,vu=null,Lp=!1;function K_(s,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lp||Xa==null||Xa!==Xt(m)||(m=Xa,"selectionStart"in m&&Mp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),vu&&yu(vu,m)||(vu=m,m=Nh(Vp,"onSelect"),0<m.length&&(a=new qa("onSelect","select",null,a,c),s.push({event:a,listeners:m}),a.target=Xa)))}function bh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ja={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},Fp={},G_={};u&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function kh(s){if(Fp[s])return Fp[s];if(!Ja[s])return s;var a=Ja[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in G_)return Fp[s]=a[c];return s}var Q_=kh("animationend"),Y_=kh("animationiteration"),Z_=kh("animationstart"),X_=kh("transitionend"),J_=new Map,ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(s,a){J_.set(s,a),o(a,[s])}for(var Up=0;Up<ew.length;Up++){var jp=ew[Up],Cb=jp.toLowerCase(),Ib=jp[0].toUpperCase()+jp.slice(1);Ks(Cb,"on"+Ib)}Ks(Q_,"onAnimationEnd"),Ks(Y_,"onAnimationIteration"),Ks(Z_,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(X_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function tw(s,a,c){var m=s.type||"unknown-event";s.currentTarget=c,en(m,a,void 0,s),s.currentTarget=null}function nw(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var E=void 0;if(a)for(var C=m.length-1;0<=C;C--){var U=m[C],$=U.instance,ee=U.currentTarget;if(U=U.listener,$!==E&&v.isPropagationStopped())break e;tw(v,U,ee),E=$}else for(C=0;C<m.length;C++){if(U=m[C],$=U.instance,ee=U.currentTarget,U=U.listener,$!==E&&v.isPropagationStopped())break e;tw(v,U,ee),E=$}}}if(Se)throw s=Ye,Se=!1,Ye=null,s}function Ut(s,a){var c=a[Gp];c===void 0&&(c=a[Gp]=new Set);var m=s+"__bubble";c.has(m)||(rw(a,s,2,!1),c.add(m))}function Bp(s,a,c){var m=0;a&&(m|=4),rw(c,s,m,a)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function wu(s){if(!s[Dh]){s[Dh]=!0,r.forEach(function(c){c!=="selectionchange"&&(Pb.has(c)||Bp(c,!1,s),Bp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Dh]||(a[Dh]=!0,Bp("selectionchange",!1,a))}}function rw(s,a,c,m){switch(cu(a)){case 1:var v=$t;break;case 4:v=kp;break;default:v=uu}c=v.bind(null,a,c,s),v=void 0,!Re||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(a,c,{capture:!0,passive:v}):s.addEventListener(a,c,!0):v!==void 0?s.addEventListener(a,c,{passive:v}):s.addEventListener(a,c,!1)}function zp(s,a,c,m,v){var E=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var U=m.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(C===4)for(C=m.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;C=C.return}for(;U!==null;){if(C=Qo(U),C===null)return;if($=C.tag,$===5||$===6){m=E=C;continue e}U=U.parentNode}}m=m.return}ne(function(){var ee=E,me=Fs(c),ge=[];e:{var pe=J_.get(s);if(pe!==void 0){var Ie=qa,Le=s;switch(s){case"keypress":if($a(c)===0)break e;case"keydown":case"keyup":Ie=w;break;case"focusin":Le="focus",Ie=Ga;break;case"focusout":Le="blur",Ie=Ga;break;case"beforeblur":case"afterblur":Ie=Ga;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=re;break;case Q_:case Y_:case Z_:Ie=cs;break;case X_:Ie=Dt;break;case"scroll":Ie=Dp;break;case"wheel":Ie=Et;break;case"copy":case"cut":case"paste":Ie=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=b}var Ue=(a&4)!==0,sn=!Ue&&s==="scroll",Y=Ue?pe!==null?pe+"Capture":null:pe;Ue=[];for(var K=ee,Z;K!==null;){Z=K;var we=Z.stateNode;if(Z.tag===5&&we!==null&&(Z=we,Y!==null&&(we=ae(K,Y),we!=null&&Ue.push(Eu(K,we,Z)))),sn)break;K=K.return}0<Ue.length&&(pe=new Ie(pe,Le,null,c,me),ge.push({event:pe,listeners:Ue}))}}if(!(a&7)){e:{if(pe=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",pe&&c!==Yr&&(Le=c.relatedTarget||c.fromElement)&&(Qo(Le)||Le[hs]))break e;if((Ie||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ie?(Le=c.relatedTarget||c.toElement,Ie=ee,Le=Le?Qo(Le):null,Le!==null&&(sn=gt(Le),Le!==sn||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ie=null,Le=ee),Ie!==Le)){if(Ue=Ha,we="onMouseLeave",Y="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=b,we="onPointerLeave",Y="onPointerEnter",K="pointer"),sn=Ie==null?pe:nl(Ie),Z=Le==null?pe:nl(Le),pe=new Ue(we,K+"leave",Ie,c,me),pe.target=sn,pe.relatedTarget=Z,we=null,Qo(me)===ee&&(Ue=new Ue(Y,K+"enter",Le,c,me),Ue.target=Z,Ue.relatedTarget=sn,we=Ue),sn=we,Ie&&Le)t:{for(Ue=Ie,Y=Le,K=0,Z=Ue;Z;Z=el(Z))K++;for(Z=0,we=Y;we;we=el(we))Z++;for(;0<K-Z;)Ue=el(Ue),K--;for(;0<Z-K;)Y=el(Y),Z--;for(;K--;){if(Ue===Y||Y!==null&&Ue===Y.alternate)break t;Ue=el(Ue),Y=el(Y)}Ue=null}else Ue=null;Ie!==null&&iw(ge,pe,Ie,Ue,!1),Le!==null&&sn!==null&&iw(ge,sn,Le,Ue,!0)}}e:{if(pe=ee?nl(ee):window,Ie=pe.nodeName&&pe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&pe.type==="file")var je=_b;else if(L_(pe))if(U_)je=Sb;else{je=Eb;var He=wb}else(Ie=pe.nodeName)&&Ie.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(je=Tb);if(je&&(je=je(s,ee))){F_(ge,je,c,me);break e}He&&He(s,pe,ee),s==="focusout"&&(He=pe._wrapperState)&&He.controlled&&pe.type==="number"&&X(pe,"number",pe.value)}switch(He=ee?nl(ee):window,s){case"focusin":(L_(He)||He.contentEditable==="true")&&(Xa=He,Vp=ee,vu=null);break;case"focusout":vu=Vp=Xa=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,K_(ge,c,me);break;case"selectionchange":if(Rb)break;case"keydown":case"keyup":K_(ge,c,me)}var Ke;if(un)e:{switch(s){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Za?M_(s,c)&&(tt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(tt="onCompositionStart");tt&&(Go&&c.locale!=="ko"&&(Za||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Za&&(Ke=hu()):(Sr=me,za="value"in Sr?Sr.value:Sr.textContent,Za=!0)),He=Nh(ee,tt),0<He.length&&(tt=new pu(tt,s,null,c,me),ge.push({event:tt,listeners:He}),Ke?tt.data=Ke:(Ke=V_(c),Ke!==null&&(tt.data=Ke)))),(Ke=xr?mb(s,c):gb(s,c))&&(ee=Nh(ee,"onBeforeInput"),0<ee.length&&(me=new pu("onBeforeInput","beforeinput",null,c,me),ge.push({event:me,listeners:ee}),me.data=Ke))}nw(ge,a)})}function Eu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Nh(s,a){for(var c=a+"Capture",m=[];s!==null;){var v=s,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=ae(s,c),E!=null&&m.unshift(Eu(s,E,v)),E=ae(s,a),E!=null&&m.push(Eu(s,E,v))),s=s.return}return m}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function iw(s,a,c,m,v){for(var E=a._reactName,C=[];c!==null&&c!==m;){var U=c,$=U.alternate,ee=U.stateNode;if($!==null&&$===m)break;U.tag===5&&ee!==null&&(U=ee,v?($=ae(c,E),$!=null&&C.unshift(Eu(c,$,U))):v||($=ae(c,E),$!=null&&C.push(Eu(c,$,U)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var bb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function sw(s){return(typeof s=="string"?s:""+s).replace(bb,`
`).replace(kb,"")}function Oh(s,a,c){if(a=sw(a),sw(s)!==a&&c)throw Error(n(425))}function Mh(){}var $p=null,qp=null;function Wp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(s){return ow.resolve(null).then(s).catch(Ob)}:Hp;function Ob(s){setTimeout(function(){throw s})}function Kp(s,a){var c=a,m=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(m===0){s.removeChild(v),si(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=v}while(c);si(a)}function Gs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function aw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Di="__reactFiber$"+tl,Tu="__reactProps$"+tl,hs="__reactContainer$"+tl,Gp="__reactEvents$"+tl,Mb="__reactListeners$"+tl,Vb="__reactHandles$"+tl;function Qo(s){var a=s[Di];if(a)return a;for(var c=s.parentNode;c;){if(a=c[hs]||c[Di]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=aw(s);s!==null;){if(c=s[Di])return c;s=aw(s)}return a}s=c,c=s.parentNode}return null}function Su(s){return s=s[Di]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Vh(s){return s[Tu]||null}var Qp=[],rl=-1;function Qs(s){return{current:s}}function jt(s){0>rl||(s.current=Qp[rl],Qp[rl]=null,rl--)}function Vt(s,a){rl++,Qp[rl]=s.current,s.current=a}var Ys={},Bn=Qs(Ys),hr=Qs(!1),Yo=Ys;function il(s,a){var c=s.type.contextTypes;if(!c)return Ys;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in c)v[E]=a[E];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function dr(s){return s=s.childContextTypes,s!=null}function Lh(){jt(hr),jt(Bn)}function lw(s,a,c){if(Bn.current!==Ys)throw Error(n(168));Vt(Bn,a),Vt(hr,c)}function uw(s,a,c){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(n(108,ct(s)||"Unknown",v));return ce({},c,m)}function Fh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ys,Yo=Bn.current,Vt(Bn,s),Vt(hr,hr.current),!0}function cw(s,a,c){var m=s.stateNode;if(!m)throw Error(n(169));c?(s=uw(s,a,Yo),m.__reactInternalMemoizedMergedChildContext=s,jt(hr),jt(Bn),Vt(Bn,s)):jt(hr),Vt(hr,c)}var ds=null,Uh=!1,Yp=!1;function hw(s){ds===null?ds=[s]:ds.push(s)}function Lb(s){Uh=!0,hw(s)}function Zs(){if(!Yp&&ds!==null){Yp=!0;var s=0,a=yt;try{var c=ds;for(yt=1;s<c.length;s++){var m=c[s];do m=m(!0);while(m!==null)}ds=null,Uh=!1}catch(v){throw ds!==null&&(ds=ds.slice(s+1)),Cn(wt,Zs),v}finally{yt=a,Yp=!1}}return null}var sl=[],ol=0,jh=null,Bh=0,Fr=[],Ur=0,Zo=null,fs=1,ps="";function Xo(s,a){sl[ol++]=Bh,sl[ol++]=jh,jh=s,Bh=a}function dw(s,a,c){Fr[Ur++]=fs,Fr[Ur++]=ps,Fr[Ur++]=Zo,Zo=s;var m=fs;s=ps;var v=32-Jn(m)-1;m&=~(1<<v),c+=1;var E=32-Jn(a)+v;if(30<E){var C=v-v%5;E=(m&(1<<C)-1).toString(32),m>>=C,v-=C,fs=1<<32-Jn(a)+v|c<<v|m,ps=E+s}else fs=1<<E|c<<v|m,ps=s}function Zp(s){s.return!==null&&(Xo(s,1),dw(s,1,0))}function Xp(s){for(;s===jh;)jh=sl[--ol],sl[ol]=null,Bh=sl[--ol],sl[ol]=null;for(;s===Zo;)Zo=Fr[--Ur],Fr[Ur]=null,ps=Fr[--Ur],Fr[Ur]=null,fs=Fr[--Ur],Fr[Ur]=null}var Ar=null,Rr=null,qt=!1,li=null;function fw(s,a){var c=$r(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function pw(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ar=s,Rr=Gs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ar=s,Rr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Zo!==null?{id:fs,overflow:ps}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=$r(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Ar=s,Rr=null,!0):!1;default:return!1}}function Jp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function em(s){if(qt){var a=Rr;if(a){var c=a;if(!pw(s,a)){if(Jp(s))throw Error(n(418));a=Gs(c.nextSibling);var m=Ar;a&&pw(s,a)?fw(m,c):(s.flags=s.flags&-4097|2,qt=!1,Ar=s)}}else{if(Jp(s))throw Error(n(418));s.flags=s.flags&-4097|2,qt=!1,Ar=s}}}function mw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ar=s}function zh(s){if(s!==Ar)return!1;if(!qt)return mw(s),qt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Wp(s.type,s.memoizedProps)),a&&(a=Rr)){if(Jp(s))throw gw(),Error(n(418));for(;a;)fw(s,a),a=Gs(a.nextSibling)}if(mw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Rr=Gs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Rr=null}}else Rr=Ar?Gs(s.stateNode.nextSibling):null;return!0}function gw(){for(var s=Rr;s;)s=Gs(s.nextSibling)}function al(){Rr=Ar=null,qt=!1}function tm(s){li===null?li=[s]:li.push(s)}var Fb=L.ReactCurrentBatchConfig;function xu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,s));var v=m,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(C){var U=v.refs;C===null?delete U[E]:U[E]=C},a._stringRef=E,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function $h(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function yw(s){var a=s._init;return a(s._payload)}function vw(s){function a(Y,K){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[K],Y.flags|=16):Z.push(K)}}function c(Y,K){if(!s)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function m(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function v(Y,K){return Y=so(Y,K),Y.index=0,Y.sibling=null,Y}function E(Y,K,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<K?(Y.flags|=2,K):Z):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function C(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,K,Z,we){return K===null||K.tag!==6?(K=Hm(Z,Y.mode,we),K.return=Y,K):(K=v(K,Z),K.return=Y,K)}function $(Y,K,Z,we){var je=Z.type;return je===k?me(Y,K,Z.props.children,we,Z.key):K!==null&&(K.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&yw(je)===K.type)?(we=v(K,Z.props),we.ref=xu(Y,K,Z),we.return=Y,we):(we=fd(Z.type,Z.key,Z.props,null,Y.mode,we),we.ref=xu(Y,K,Z),we.return=Y,we)}function ee(Y,K,Z,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Km(Z,Y.mode,we),K.return=Y,K):(K=v(K,Z.children||[]),K.return=Y,K)}function me(Y,K,Z,we,je){return K===null||K.tag!==7?(K=oa(Z,Y.mode,we,je),K.return=Y,K):(K=v(K,Z),K.return=Y,K)}function ge(Y,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Hm(""+K,Y.mode,Z),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case R:return Z=fd(K.type,K.key,K.props,null,Y.mode,Z),Z.ref=xu(Y,null,K),Z.return=Y,Z;case B:return K=Km(K,Y.mode,Z),K.return=Y,K;case J:var we=K._init;return ge(Y,we(K._payload),Z)}if(se(K)||ve(K))return K=oa(K,Y.mode,Z,null),K.return=Y,K;$h(Y,K)}return null}function pe(Y,K,Z,we){var je=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return je!==null?null:U(Y,K,""+Z,we);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return Z.key===je?$(Y,K,Z,we):null;case B:return Z.key===je?ee(Y,K,Z,we):null;case J:return je=Z._init,pe(Y,K,je(Z._payload),we)}if(se(Z)||ve(Z))return je!==null?null:me(Y,K,Z,we,null);$h(Y,Z)}return null}function Ie(Y,K,Z,we,je){if(typeof we=="string"&&we!==""||typeof we=="number")return Y=Y.get(Z)||null,U(K,Y,""+we,je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case R:return Y=Y.get(we.key===null?Z:we.key)||null,$(K,Y,we,je);case B:return Y=Y.get(we.key===null?Z:we.key)||null,ee(K,Y,we,je);case J:var He=we._init;return Ie(Y,K,Z,He(we._payload),je)}if(se(we)||ve(we))return Y=Y.get(Z)||null,me(K,Y,we,je,null);$h(K,we)}return null}function Le(Y,K,Z,we){for(var je=null,He=null,Ke=K,tt=K=0,xn=null;Ke!==null&&tt<Z.length;tt++){Ke.index>tt?(xn=Ke,Ke=null):xn=Ke.sibling;var Rt=pe(Y,Ke,Z[tt],we);if(Rt===null){Ke===null&&(Ke=xn);break}s&&Ke&&Rt.alternate===null&&a(Y,Ke),K=E(Rt,K,tt),He===null?je=Rt:He.sibling=Rt,He=Rt,Ke=xn}if(tt===Z.length)return c(Y,Ke),qt&&Xo(Y,tt),je;if(Ke===null){for(;tt<Z.length;tt++)Ke=ge(Y,Z[tt],we),Ke!==null&&(K=E(Ke,K,tt),He===null?je=Ke:He.sibling=Ke,He=Ke);return qt&&Xo(Y,tt),je}for(Ke=m(Y,Ke);tt<Z.length;tt++)xn=Ie(Ke,Y,tt,Z[tt],we),xn!==null&&(s&&xn.alternate!==null&&Ke.delete(xn.key===null?tt:xn.key),K=E(xn,K,tt),He===null?je=xn:He.sibling=xn,He=xn);return s&&Ke.forEach(function(oo){return a(Y,oo)}),qt&&Xo(Y,tt),je}function Ue(Y,K,Z,we){var je=ve(Z);if(typeof je!="function")throw Error(n(150));if(Z=je.call(Z),Z==null)throw Error(n(151));for(var He=je=null,Ke=K,tt=K=0,xn=null,Rt=Z.next();Ke!==null&&!Rt.done;tt++,Rt=Z.next()){Ke.index>tt?(xn=Ke,Ke=null):xn=Ke.sibling;var oo=pe(Y,Ke,Rt.value,we);if(oo===null){Ke===null&&(Ke=xn);break}s&&Ke&&oo.alternate===null&&a(Y,Ke),K=E(oo,K,tt),He===null?je=oo:He.sibling=oo,He=oo,Ke=xn}if(Rt.done)return c(Y,Ke),qt&&Xo(Y,tt),je;if(Ke===null){for(;!Rt.done;tt++,Rt=Z.next())Rt=ge(Y,Rt.value,we),Rt!==null&&(K=E(Rt,K,tt),He===null?je=Rt:He.sibling=Rt,He=Rt);return qt&&Xo(Y,tt),je}for(Ke=m(Y,Ke);!Rt.done;tt++,Rt=Z.next())Rt=Ie(Ke,Y,tt,Rt.value,we),Rt!==null&&(s&&Rt.alternate!==null&&Ke.delete(Rt.key===null?tt:Rt.key),K=E(Rt,K,tt),He===null?je=Rt:He.sibling=Rt,He=Rt);return s&&Ke.forEach(function(gk){return a(Y,gk)}),qt&&Xo(Y,tt),je}function sn(Y,K,Z,we){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:e:{for(var je=Z.key,He=K;He!==null;){if(He.key===je){if(je=Z.type,je===k){if(He.tag===7){c(Y,He.sibling),K=v(He,Z.props.children),K.return=Y,Y=K;break e}}else if(He.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&yw(je)===He.type){c(Y,He.sibling),K=v(He,Z.props),K.ref=xu(Y,He,Z),K.return=Y,Y=K;break e}c(Y,He);break}else a(Y,He);He=He.sibling}Z.type===k?(K=oa(Z.props.children,Y.mode,we,Z.key),K.return=Y,Y=K):(we=fd(Z.type,Z.key,Z.props,null,Y.mode,we),we.ref=xu(Y,K,Z),we.return=Y,Y=we)}return C(Y);case B:e:{for(He=Z.key;K!==null;){if(K.key===He)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){c(Y,K.sibling),K=v(K,Z.children||[]),K.return=Y,Y=K;break e}else{c(Y,K);break}else a(Y,K);K=K.sibling}K=Km(Z,Y.mode,we),K.return=Y,Y=K}return C(Y);case J:return He=Z._init,sn(Y,K,He(Z._payload),we)}if(se(Z))return Le(Y,K,Z,we);if(ve(Z))return Ue(Y,K,Z,we);$h(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(c(Y,K.sibling),K=v(K,Z),K.return=Y,Y=K):(c(Y,K),K=Hm(Z,Y.mode,we),K.return=Y,Y=K),C(Y)):c(Y,K)}return sn}var ll=vw(!0),_w=vw(!1),qh=Qs(null),Wh=null,ul=null,nm=null;function rm(){nm=ul=Wh=null}function im(s){var a=qh.current;jt(qh),s._currentValue=a}function sm(s,a,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===c)break;s=s.return}}function cl(s,a){Wh=s,nm=ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(fr=!0),s.firstContext=null)}function jr(s){var a=s._currentValue;if(nm!==s)if(s={context:s,memoizedValue:a,next:null},ul===null){if(Wh===null)throw Error(n(308));ul=s,Wh.dependencies={lanes:0,firstContext:s}}else ul=ul.next=s;return a}var Jo=null;function om(s){Jo===null?Jo=[s]:Jo.push(s)}function ww(s,a,c,m){var v=a.interleaved;return v===null?(c.next=c,om(a)):(c.next=v.next,v.next=c),a.interleaved=c,ms(s,m)}function ms(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Xs=!1;function am(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ew(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Js(s,a,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,At&2){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,ms(s,c)}return v=m.interleaved,v===null?(a.next=a,om(m)):(a.next=v.next,v.next=a),m.interleaved=a,ms(s,c)}function Hh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,c|=m,a.lanes=c,zs(s,c)}}function Tw(s,a){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?v=E=C:E=E.next=C,c=c.next}while(c!==null);E===null?v=E=a:E=E.next=a}else v=E=a;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:m.shared,effects:m.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Kh(s,a,c,m){var v=s.updateQueue;Xs=!1;var E=v.firstBaseUpdate,C=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var $=U,ee=$.next;$.next=null,C===null?E=ee:C.next=ee,C=$;var me=s.alternate;me!==null&&(me=me.updateQueue,U=me.lastBaseUpdate,U!==C&&(U===null?me.firstBaseUpdate=ee:U.next=ee,me.lastBaseUpdate=$))}if(E!==null){var ge=v.baseState;C=0,me=ee=$=null,U=E;do{var pe=U.lane,Ie=U.eventTime;if((m&pe)===pe){me!==null&&(me=me.next={eventTime:Ie,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Le=s,Ue=U;switch(pe=a,Ie=c,Ue.tag){case 1:if(Le=Ue.payload,typeof Le=="function"){ge=Le.call(Ie,ge,pe);break e}ge=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ue.payload,pe=typeof Le=="function"?Le.call(Ie,ge,pe):Le,pe==null)break e;ge=ce({},ge,pe);break e;case 2:Xs=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,pe=v.effects,pe===null?v.effects=[U]:pe.push(U))}else Ie={eventTime:Ie,lane:pe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},me===null?(ee=me=Ie,$=ge):me=me.next=Ie,C|=pe;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;pe=U,U=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);if(me===null&&($=ge),v.baseState=$,v.firstBaseUpdate=ee,v.lastBaseUpdate=me,a=v.shared.interleaved,a!==null){v=a;do C|=v.lane,v=v.next;while(v!==a)}else E===null&&(v.shared.lanes=0);na|=C,s.lanes=C,s.memoizedState=ge}}function Sw(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],v=m.callback;if(v!==null){if(m.callback=null,m=c,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var Au={},Ni=Qs(Au),Ru=Qs(Au),Cu=Qs(Au);function ea(s){if(s===Au)throw Error(n(174));return s}function lm(s,a){switch(Vt(Cu,a),Vt(Ru,s),Vt(Ni,Au),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ut(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ut(a,s)}jt(Ni),Vt(Ni,a)}function hl(){jt(Ni),jt(Ru),jt(Cu)}function xw(s){ea(Cu.current);var a=ea(Ni.current),c=ut(a,s.type);a!==c&&(Vt(Ru,s),Vt(Ni,c))}function um(s){Ru.current===s&&(jt(Ni),jt(Ru))}var Ht=Qs(0);function Gh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cm=[];function hm(){for(var s=0;s<cm.length;s++)cm[s]._workInProgressVersionPrimary=null;cm.length=0}var Qh=L.ReactCurrentDispatcher,dm=L.ReactCurrentBatchConfig,ta=0,Kt=null,mn=null,Tn=null,Yh=!1,Iu=!1,Pu=0,Ub=0;function zn(){throw Error(n(321))}function fm(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ai(s[c],a[c]))return!1;return!0}function pm(s,a,c,m,v,E){if(ta=E,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qh.current=s===null||s.memoizedState===null?$b:qb,s=c(m,v),Iu){E=0;do{if(Iu=!1,Pu=0,25<=E)throw Error(n(301));E+=1,Tn=mn=null,a.updateQueue=null,Qh.current=Wb,s=c(m,v)}while(Iu)}if(Qh.current=Jh,a=mn!==null&&mn.next!==null,ta=0,Tn=mn=Kt=null,Yh=!1,a)throw Error(n(300));return s}function mm(){var s=Pu!==0;return Pu=0,s}function Oi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Kt.memoizedState=Tn=s:Tn=Tn.next=s,Tn}function Br(){if(mn===null){var s=Kt.alternate;s=s!==null?s.memoizedState:null}else s=mn.next;var a=Tn===null?Kt.memoizedState:Tn.next;if(a!==null)Tn=a,mn=s;else{if(s===null)throw Error(n(310));mn=s,s={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Tn===null?Kt.memoizedState=Tn=s:Tn=Tn.next=s}return Tn}function bu(s,a){return typeof a=="function"?a(s):a}function gm(s){var a=Br(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var m=mn,v=m.baseQueue,E=c.pending;if(E!==null){if(v!==null){var C=v.next;v.next=E.next,E.next=C}m.baseQueue=v=E,c.pending=null}if(v!==null){E=v.next,m=m.baseState;var U=C=null,$=null,ee=E;do{var me=ee.lane;if((ta&me)===me)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),m=ee.hasEagerState?ee.eagerState:s(m,ee.action);else{var ge={lane:me,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(U=$=ge,C=m):$=$.next=ge,Kt.lanes|=me,na|=me}ee=ee.next}while(ee!==null&&ee!==E);$===null?C=m:$.next=U,ai(m,a.memoizedState)||(fr=!0),a.memoizedState=m,a.baseState=C,a.baseQueue=$,c.lastRenderedState=m}if(s=c.interleaved,s!==null){v=s;do E=v.lane,Kt.lanes|=E,na|=E,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ym(s){var a=Br(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,E=a.memoizedState;if(v!==null){c.pending=null;var C=v=v.next;do E=s(E,C.action),C=C.next;while(C!==v);ai(E,a.memoizedState)||(fr=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,m]}function Aw(){}function Rw(s,a){var c=Kt,m=Br(),v=a(),E=!ai(m.memoizedState,v);if(E&&(m.memoizedState=v,fr=!0),m=m.queue,vm(Pw.bind(null,c,m,s),[s]),m.getSnapshot!==a||E||Tn!==null&&Tn.memoizedState.tag&1){if(c.flags|=2048,ku(9,Iw.bind(null,c,m,v,a),void 0,null),Sn===null)throw Error(n(349));ta&30||Cw(c,a,v)}return v}function Cw(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Iw(s,a,c,m){a.value=c,a.getSnapshot=m,bw(a)&&kw(s)}function Pw(s,a,c){return c(function(){bw(a)&&kw(s)})}function bw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ai(s,c)}catch{return!0}}function kw(s){var a=ms(s,1);a!==null&&di(a,s,1,-1)}function Dw(s){var a=Oi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:s},a.queue=s,s=s.dispatch=zb.bind(null,Kt,s),[a.memoizedState,s]}function ku(s,a,c,m){return s={tag:s,create:a,destroy:c,deps:m,next:null},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,a.lastEffect=s)),s}function Nw(){return Br().memoizedState}function Zh(s,a,c,m){var v=Oi();Kt.flags|=s,v.memoizedState=ku(1|a,c,void 0,m===void 0?null:m)}function Xh(s,a,c,m){var v=Br();m=m===void 0?null:m;var E=void 0;if(mn!==null){var C=mn.memoizedState;if(E=C.destroy,m!==null&&fm(m,C.deps)){v.memoizedState=ku(a,c,E,m);return}}Kt.flags|=s,v.memoizedState=ku(1|a,c,E,m)}function Ow(s,a){return Zh(8390656,8,s,a)}function vm(s,a){return Xh(2048,8,s,a)}function Mw(s,a){return Xh(4,2,s,a)}function Vw(s,a){return Xh(4,4,s,a)}function Lw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Fw(s,a,c){return c=c!=null?c.concat([s]):null,Xh(4,4,Lw.bind(null,a,s),c)}function _m(){}function Uw(s,a){var c=Br();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&fm(a,m[1])?m[0]:(c.memoizedState=[s,a],s)}function jw(s,a){var c=Br();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&fm(a,m[1])?m[0]:(s=s(),c.memoizedState=[s,a],s)}function Bw(s,a,c){return ta&21?(ai(c,a)||(c=qo(),Kt.lanes|=c,na|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,fr=!0),s.memoizedState=c)}function jb(s,a){var c=yt;yt=c!==0&&4>c?c:4,s(!0);var m=dm.transition;dm.transition={};try{s(!1),a()}finally{yt=c,dm.transition=m}}function zw(){return Br().memoizedState}function Bb(s,a,c){var m=ro(s);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},$w(s))qw(a,c);else if(c=ww(s,a,c,m),c!==null){var v=nr();di(c,s,m,v),Ww(c,a,m)}}function zb(s,a,c){var m=ro(s),v={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if($w(s))qw(a,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var C=a.lastRenderedState,U=E(C,c);if(v.hasEagerState=!0,v.eagerState=U,ai(U,C)){var $=a.interleaved;$===null?(v.next=v,om(a)):(v.next=$.next,$.next=v),a.interleaved=v;return}}catch{}finally{}c=ww(s,a,v,m),c!==null&&(v=nr(),di(c,s,m,v),Ww(c,a,m))}}function $w(s){var a=s.alternate;return s===Kt||a!==null&&a===Kt}function qw(s,a){Iu=Yh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Ww(s,a,c){if(c&4194240){var m=a.lanes;m&=s.pendingLanes,c|=m,a.lanes=c,zs(s,c)}}var Jh={readContext:jr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},$b={readContext:jr,useCallback:function(s,a){return Oi().memoizedState=[s,a===void 0?null:a],s},useContext:jr,useEffect:Ow,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Zh(4194308,4,Lw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zh(4194308,4,s,a)},useInsertionEffect:function(s,a){return Zh(4,2,s,a)},useMemo:function(s,a){var c=Oi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var m=Oi();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=Bb.bind(null,Kt,s),[m.memoizedState,s]},useRef:function(s){var a=Oi();return s={current:s},a.memoizedState=s},useState:Dw,useDebugValue:_m,useDeferredValue:function(s){return Oi().memoizedState=s},useTransition:function(){var s=Dw(!1),a=s[0];return s=jb.bind(null,s[1]),Oi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var m=Kt,v=Oi();if(qt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Sn===null)throw Error(n(349));ta&30||Cw(m,a,c)}v.memoizedState=c;var E={value:c,getSnapshot:a};return v.queue=E,Ow(Pw.bind(null,m,E,s),[s]),m.flags|=2048,ku(9,Iw.bind(null,m,E,c,a),void 0,null),c},useId:function(){var s=Oi(),a=Sn.identifierPrefix;if(qt){var c=ps,m=fs;c=(m&~(1<<32-Jn(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Pu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Ub++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},qb={readContext:jr,useCallback:Uw,useContext:jr,useEffect:vm,useImperativeHandle:Fw,useInsertionEffect:Mw,useLayoutEffect:Vw,useMemo:jw,useReducer:gm,useRef:Nw,useState:function(){return gm(bu)},useDebugValue:_m,useDeferredValue:function(s){var a=Br();return Bw(a,mn.memoizedState,s)},useTransition:function(){var s=gm(bu)[0],a=Br().memoizedState;return[s,a]},useMutableSource:Aw,useSyncExternalStore:Rw,useId:zw,unstable_isNewReconciler:!1},Wb={readContext:jr,useCallback:Uw,useContext:jr,useEffect:vm,useImperativeHandle:Fw,useInsertionEffect:Mw,useLayoutEffect:Vw,useMemo:jw,useReducer:ym,useRef:Nw,useState:function(){return ym(bu)},useDebugValue:_m,useDeferredValue:function(s){var a=Br();return mn===null?a.memoizedState=s:Bw(a,mn.memoizedState,s)},useTransition:function(){var s=ym(bu)[0],a=Br().memoizedState;return[s,a]},useMutableSource:Aw,useSyncExternalStore:Rw,useId:zw,unstable_isNewReconciler:!1};function ui(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function wm(s,a,c,m){a=s.memoizedState,c=c(m,a),c=c==null?a:ce({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ed={isMounted:function(s){return(s=s._reactInternals)?gt(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var m=nr(),v=ro(s),E=gs(m,v);E.payload=a,c!=null&&(E.callback=c),a=Js(s,E,v),a!==null&&(di(a,s,v,m),Hh(a,s,v))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var m=nr(),v=ro(s),E=gs(m,v);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=Js(s,E,v),a!==null&&(di(a,s,v,m),Hh(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=nr(),m=ro(s),v=gs(c,m);v.tag=2,a!=null&&(v.callback=a),a=Js(s,v,m),a!==null&&(di(a,s,m,c),Hh(a,s,m))}};function Hw(s,a,c,m,v,E,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,C):a.prototype&&a.prototype.isPureReactComponent?!yu(c,m)||!yu(v,E):!0}function Kw(s,a,c){var m=!1,v=Ys,E=a.contextType;return typeof E=="object"&&E!==null?E=jr(E):(v=dr(a)?Yo:Bn.current,m=a.contextTypes,E=(m=m!=null)?il(s,v):Ys),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ed,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=E),a}function Gw(s,a,c,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==s&&ed.enqueueReplaceState(a,a.state,null)}function Em(s,a,c,m){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},am(s);var E=a.contextType;typeof E=="object"&&E!==null?v.context=jr(E):(E=dr(a)?Yo:Bn.current,v.context=il(s,E)),v.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(wm(s,a,E,c),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&ed.enqueueReplaceState(v,v.state,null),Kh(s,c,v,m),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function dl(s,a){try{var c="",m=a;do c+=$e(m),m=m.return;while(m);var v=c}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:v,digest:null}}function Tm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Sm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function Qw(s,a,c){c=gs(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){ad||(ad=!0,Fm=m),Sm(s,a)},c}function Yw(s,a,c){c=gs(-1,c),c.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;c.payload=function(){return m(v)},c.callback=function(){Sm(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Sm(s,a),typeof m!="function"&&(to===null?to=new Set([this]):to.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function Zw(s,a,c){var m=s.pingCache;if(m===null){m=s.pingCache=new Hb;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(c)||(v.add(c),s=ok.bind(null,s,a,c),a.then(s,s))}function Xw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Jw(s,a,c,m,v){return s.mode&1?(s.flags|=65536,s.lanes=v,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=gs(-1,1),a.tag=2,Js(c,a,1))),c.lanes|=1),s)}var Kb=L.ReactCurrentOwner,fr=!1;function tr(s,a,c,m){a.child=s===null?_w(a,null,c,m):ll(a,s.child,c,m)}function eE(s,a,c,m,v){c=c.render;var E=a.ref;return cl(a,v),m=pm(s,a,c,m,E,v),c=mm(),s!==null&&!fr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,ys(s,a,v)):(qt&&c&&Zp(a),a.flags|=1,tr(s,a,m,v),a.child)}function tE(s,a,c,m,v){if(s===null){var E=c.type;return typeof E=="function"&&!Wm(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,nE(s,a,E,m,v)):(s=fd(c.type,null,m,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&v)){var C=E.memoizedProps;if(c=c.compare,c=c!==null?c:yu,c(C,m)&&s.ref===a.ref)return ys(s,a,v)}return a.flags|=1,s=so(E,m),s.ref=a.ref,s.return=a,a.child=s}function nE(s,a,c,m,v){if(s!==null){var E=s.memoizedProps;if(yu(E,m)&&s.ref===a.ref)if(fr=!1,a.pendingProps=m=E,(s.lanes&v)!==0)s.flags&131072&&(fr=!0);else return a.lanes=s.lanes,ys(s,a,v)}return xm(s,a,c,m,v)}function rE(s,a,c){var m=a.pendingProps,v=m.children,E=s!==null?s.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(pl,Cr),Cr|=c;else{if(!(c&1073741824))return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Vt(pl,Cr),Cr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:c,Vt(pl,Cr),Cr|=m}else E!==null?(m=E.baseLanes|c,a.memoizedState=null):m=c,Vt(pl,Cr),Cr|=m;return tr(s,a,v,c),a.child}function iE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function xm(s,a,c,m,v){var E=dr(c)?Yo:Bn.current;return E=il(a,E),cl(a,v),c=pm(s,a,c,m,E,v),m=mm(),s!==null&&!fr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,ys(s,a,v)):(qt&&m&&Zp(a),a.flags|=1,tr(s,a,c,v),a.child)}function sE(s,a,c,m,v){if(dr(c)){var E=!0;Fh(a)}else E=!1;if(cl(a,v),a.stateNode===null)nd(s,a),Kw(a,c,m),Em(a,c,m,v),m=!0;else if(s===null){var C=a.stateNode,U=a.memoizedProps;C.props=U;var $=C.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=jr(ee):(ee=dr(c)?Yo:Bn.current,ee=il(a,ee));var me=c.getDerivedStateFromProps,ge=typeof me=="function"||typeof C.getSnapshotBeforeUpdate=="function";ge||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==m||$!==ee)&&Gw(a,C,m,ee),Xs=!1;var pe=a.memoizedState;C.state=pe,Kh(a,m,C,v),$=a.memoizedState,U!==m||pe!==$||hr.current||Xs?(typeof me=="function"&&(wm(a,c,me,m),$=a.memoizedState),(U=Xs||Hw(a,c,U,m,pe,$,ee))?(ge||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=$),C.props=m,C.state=$,C.context=ee,m=U):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,Ew(s,a),U=a.memoizedProps,ee=a.type===a.elementType?U:ui(a.type,U),C.props=ee,ge=a.pendingProps,pe=C.context,$=c.contextType,typeof $=="object"&&$!==null?$=jr($):($=dr(c)?Yo:Bn.current,$=il(a,$));var Ie=c.getDerivedStateFromProps;(me=typeof Ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==ge||pe!==$)&&Gw(a,C,m,$),Xs=!1,pe=a.memoizedState,C.state=pe,Kh(a,m,C,v);var Le=a.memoizedState;U!==ge||pe!==Le||hr.current||Xs?(typeof Ie=="function"&&(wm(a,c,Ie,m),Le=a.memoizedState),(ee=Xs||Hw(a,c,ee,m,pe,Le,$)||!1)?(me||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Le,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Le,$)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Le),C.props=m,C.state=Le,C.context=$,m=ee):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),m=!1)}return Am(s,a,c,m,E,v)}function Am(s,a,c,m,v,E){iE(s,a);var C=(a.flags&128)!==0;if(!m&&!C)return v&&cw(a,c,!1),ys(s,a,E);m=a.stateNode,Kb.current=a;var U=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&C?(a.child=ll(a,s.child,null,E),a.child=ll(a,null,U,E)):tr(s,a,U,E),a.memoizedState=m.state,v&&cw(a,c,!0),a.child}function oE(s){var a=s.stateNode;a.pendingContext?lw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&lw(s,a.context,!1),lm(s,a.containerInfo)}function aE(s,a,c,m,v){return al(),tm(v),a.flags|=256,tr(s,a,c,m),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Cm(s){return{baseLanes:s,cachePool:null,transitions:null}}function lE(s,a,c){var m=a.pendingProps,v=Ht.current,E=!1,C=(a.flags&128)!==0,U;if((U=C)||(U=s!==null&&s.memoizedState===null?!1:(v&2)!==0),U?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),Vt(Ht,v&1),s===null)return em(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(C=m.children,s=m.fallback,E?(m=a.mode,E=a.child,C={mode:"hidden",children:C},!(m&1)&&E!==null?(E.childLanes=0,E.pendingProps=C):E=pd(C,m,0,null),s=oa(s,m,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Cm(c),a.memoizedState=Rm,s):Im(a,C));if(v=s.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return Gb(s,a,C,m,U,v,c);if(E){E=m.fallback,C=a.mode,v=s.child,U=v.sibling;var $={mode:"hidden",children:m.children};return!(C&1)&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=$,a.deletions=null):(m=so(v,$),m.subtreeFlags=v.subtreeFlags&14680064),U!==null?E=so(U,E):(E=oa(E,C,c,null),E.flags|=2),E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,C=s.child.memoizedState,C=C===null?Cm(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},E.memoizedState=C,E.childLanes=s.childLanes&~c,a.memoizedState=Rm,m}return E=s.child,s=E.sibling,m=so(E,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=c),m.return=a,m.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=m,a.memoizedState=null,m}function Im(s,a){return a=pd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function td(s,a,c,m){return m!==null&&tm(m),ll(a,s.child,null,c),s=Im(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Gb(s,a,c,m,v,E,C){if(c)return a.flags&256?(a.flags&=-257,m=Tm(Error(n(422))),td(s,a,C,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=m.fallback,v=a.mode,m=pd({mode:"visible",children:m.children},v,0,null),E=oa(E,v,C,null),E.flags|=2,m.return=a,E.return=a,m.sibling=E,a.child=m,a.mode&1&&ll(a,s.child,null,C),a.child.memoizedState=Cm(C),a.memoizedState=Rm,E);if(!(a.mode&1))return td(s,a,C,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var U=m.dgst;return m=U,E=Error(n(419)),m=Tm(E,m,void 0),td(s,a,C,m)}if(U=(C&s.childLanes)!==0,fr||U){if(m=Sn,m!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(m.suspendedLanes|C)?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,ms(s,v),di(m,s,v,-1))}return qm(),m=Tm(Error(n(421))),td(s,a,C,m)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=ak.bind(null,s),v._reactRetry=a,null):(s=E.treeContext,Rr=Gs(v.nextSibling),Ar=a,qt=!0,li=null,s!==null&&(Fr[Ur++]=fs,Fr[Ur++]=ps,Fr[Ur++]=Zo,fs=s.id,ps=s.overflow,Zo=a),a=Im(a,m.children),a.flags|=4096,a)}function uE(s,a,c){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),sm(s.return,a,c)}function Pm(s,a,c,m,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=c,E.tailMode=v)}function cE(s,a,c){var m=a.pendingProps,v=m.revealOrder,E=m.tail;if(tr(s,a,m.children,c),m=Ht.current,m&2)m=m&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uE(s,c,a);else if(s.tag===19)uE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Vt(Ht,m),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)s=c.alternate,s!==null&&Gh(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),Pm(a,!1,v,c,E);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Gh(s)===null){a.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}Pm(a,!0,c,null,E);break;case"together":Pm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nd(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ys(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),na|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=so(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=so(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Qb(s,a,c){switch(a.tag){case 3:oE(a),al();break;case 5:xw(a);break;case 1:dr(a.type)&&Fh(a);break;case 4:lm(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;Vt(qh,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Vt(Ht,Ht.current&1),a.flags|=128,null):c&a.child.childLanes?lE(s,a,c):(Vt(Ht,Ht.current&1),s=ys(s,a,c),s!==null?s.sibling:null);Vt(Ht,Ht.current&1);break;case 19:if(m=(c&a.childLanes)!==0,s.flags&128){if(m)return cE(s,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Vt(Ht,Ht.current),m)break;return null;case 22:case 23:return a.lanes=0,rE(s,a,c)}return ys(s,a,c)}var hE,bm,dE,fE;hE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},bm=function(){},dE=function(s,a,c,m){var v=s.memoizedProps;if(v!==m){s=a.stateNode,ea(Ni.current);var E=null;switch(c){case"input":v=Or(s,v),m=Or(s,m),E=[];break;case"select":v=ce({},v,{value:void 0}),m=ce({},m,{value:void 0}),E=[];break;case"textarea":v=Te(s,v),m=Te(s,m),E=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Mh)}Ai(c,m);var C;c=null;for(ee in v)if(!m.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var U=v[ee];for(C in U)U.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?E||(E=[]):(E=E||[]).push(ee,null));for(ee in m){var $=m[ee];if(U=v!=null?v[ee]:void 0,m.hasOwnProperty(ee)&&$!==U&&($!=null||U!=null))if(ee==="style")if(U){for(C in U)!U.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in $)$.hasOwnProperty(C)&&U[C]!==$[C]&&(c||(c={}),c[C]=$[C])}else c||(E||(E=[]),E.push(ee,c)),c=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(E=E||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&Ut("scroll",s),E||U===$||(E=[])):(E=E||[]).push(ee,$))}c&&(E=E||[]).push("style",c);var ee=E;(a.updateQueue=ee)&&(a.flags|=4)}},fE=function(s,a,c,m){c!==m&&(a.flags|=4)};function Du(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function $n(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(a)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,a}function Yb(s,a,c){var m=a.pendingProps;switch(Xp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(a),null;case 1:return dr(a.type)&&Lh(),$n(a),null;case 3:return m=a.stateNode,hl(),jt(hr),jt(Bn),hm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(zh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,li!==null&&(Bm(li),li=null))),bm(s,a),$n(a),null;case 5:um(a);var v=ea(Cu.current);if(c=a.type,s!==null&&a.stateNode!=null)dE(s,a,c,m,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return $n(a),null}if(s=ea(Ni.current),zh(a)){m=a.stateNode,c=a.type;var E=a.memoizedProps;switch(m[Di]=a,m[Tu]=E,s=(a.mode&1)!==0,c){case"dialog":Ut("cancel",m),Ut("close",m);break;case"iframe":case"object":case"embed":Ut("load",m);break;case"video":case"audio":for(v=0;v<_u.length;v++)Ut(_u[v],m);break;case"source":Ut("error",m);break;case"img":case"image":case"link":Ut("error",m),Ut("load",m);break;case"details":Ut("toggle",m);break;case"input":Xi(m,E),Ut("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},Ut("invalid",m);break;case"textarea":_e(m,E),Ut("invalid",m)}Ai(c,E),v=null;for(var C in E)if(E.hasOwnProperty(C)){var U=E[C];C==="children"?typeof U=="string"?m.textContent!==U&&(E.suppressHydrationWarning!==!0&&Oh(m.textContent,U,s),v=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(E.suppressHydrationWarning!==!0&&Oh(m.textContent,U,s),v=["children",""+U]):i.hasOwnProperty(C)&&U!=null&&C==="onScroll"&&Ut("scroll",m)}switch(c){case"input":Zt(m),z(m,E,!0);break;case"textarea":Zt(m),qe(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Mh)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=C.createElement(c,{is:m.is}):(s=C.createElement(c),c==="select"&&(C=s,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):s=C.createElementNS(s,c),s[Di]=a,s[Tu]=m,hE(s,a,!1,!1),a.stateNode=s;e:{switch(C=Ls(c,m),c){case"dialog":Ut("cancel",s),Ut("close",s),v=m;break;case"iframe":case"object":case"embed":Ut("load",s),v=m;break;case"video":case"audio":for(v=0;v<_u.length;v++)Ut(_u[v],s);v=m;break;case"source":Ut("error",s),v=m;break;case"img":case"image":case"link":Ut("error",s),Ut("load",s),v=m;break;case"details":Ut("toggle",s),v=m;break;case"input":Xi(s,m),v=Or(s,m),Ut("invalid",s);break;case"option":v=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},v=ce({},m,{value:void 0}),Ut("invalid",s);break;case"textarea":_e(s,m),v=Te(s,m),Ut("invalid",s);break;default:v=m}Ai(c,v),U=v;for(E in U)if(U.hasOwnProperty(E)){var $=U[E];E==="style"?ts(s,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&es(s,$)):E==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&rn(s,$):typeof $=="number"&&rn(s,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?$!=null&&E==="onScroll"&&Ut("scroll",s):$!=null&&V(s,E,$,C))}switch(c){case"input":Zt(s),z(s,m,!1);break;case"textarea":Zt(s),qe(s);break;case"option":m.value!=null&&s.setAttribute("value",""+dt(m.value));break;case"select":s.multiple=!!m.multiple,E=m.value,E!=null?Ee(s,!!m.multiple,E,!1):m.defaultValue!=null&&Ee(s,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Mh)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return $n(a),null;case 6:if(s&&a.stateNode!=null)fE(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=ea(Cu.current),ea(Ni.current),zh(a)){if(m=a.stateNode,c=a.memoizedProps,m[Di]=a,(E=m.nodeValue!==c)&&(s=Ar,s!==null))switch(s.tag){case 3:Oh(m.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Oh(m.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Di]=a,a.stateNode=m}return $n(a),null;case 13:if(jt(Ht),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(qt&&Rr!==null&&a.mode&1&&!(a.flags&128))gw(),al(),a.flags|=98560,E=!1;else if(E=zh(a),m!==null&&m.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Di]=a}else al(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;$n(a),E=!1}else li!==null&&(Bm(li),li=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(s===null||Ht.current&1?gn===0&&(gn=3):qm())),a.updateQueue!==null&&(a.flags|=4),$n(a),null);case 4:return hl(),bm(s,a),s===null&&wu(a.stateNode.containerInfo),$n(a),null;case 10:return im(a.type._context),$n(a),null;case 17:return dr(a.type)&&Lh(),$n(a),null;case 19:if(jt(Ht),E=a.memoizedState,E===null)return $n(a),null;if(m=(a.flags&128)!==0,C=E.rendering,C===null)if(m)Du(E,!1);else{if(gn!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(C=Gh(s),C!==null){for(a.flags|=128,Du(E,!1),m=C.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)E=c,s=m,E.flags&=14680066,C=E.alternate,C===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=C.childLanes,E.lanes=C.lanes,E.child=C.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=C.memoizedProps,E.memoizedState=C.memoizedState,E.updateQueue=C.updateQueue,E.type=C.type,s=C.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Vt(Ht,Ht.current&1|2),a.child}s=s.sibling}E.tail!==null&&Pt()>ml&&(a.flags|=128,m=!0,Du(E,!1),a.lanes=4194304)}else{if(!m)if(s=Gh(C),s!==null){if(a.flags|=128,m=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Du(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!qt)return $n(a),null}else 2*Pt()-E.renderingStartTime>ml&&c!==1073741824&&(a.flags|=128,m=!0,Du(E,!1),a.lanes=4194304);E.isBackwards?(C.sibling=a.child,a.child=C):(c=E.last,c!==null?c.sibling=C:a.child=C,E.last=C)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Pt(),a.sibling=null,c=Ht.current,Vt(Ht,m?c&1|2:c&1),a):($n(a),null);case 22:case 23:return $m(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?Cr&1073741824&&($n(a),a.subtreeFlags&6&&(a.flags|=8192)):$n(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Zb(s,a){switch(Xp(a),a.tag){case 1:return dr(a.type)&&Lh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return hl(),jt(hr),jt(Bn),hm(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return um(a),null;case 13:if(jt(Ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));al()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return jt(Ht),null;case 4:return hl(),null;case 10:return im(a.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var rd=!1,qn=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function fl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){tn(s,a,m)}else c.current=null}function km(s,a,c){try{c()}catch(m){tn(s,a,m)}}var pE=!1;function Jb(s,a){if($p=Ws,s=H_(),Mp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var C=0,U=-1,$=-1,ee=0,me=0,ge=s,pe=null;t:for(;;){for(var Ie;ge!==c||v!==0&&ge.nodeType!==3||(U=C+v),ge!==E||m!==0&&ge.nodeType!==3||($=C+m),ge.nodeType===3&&(C+=ge.nodeValue.length),(Ie=ge.firstChild)!==null;)pe=ge,ge=Ie;for(;;){if(ge===s)break t;if(pe===c&&++ee===v&&(U=C),pe===E&&++me===m&&($=C),(Ie=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=Ie}c=U===-1||$===-1?null:{start:U,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(qp={focusedElem:s,selectionRange:c},Ws=!1,Ne=a;Ne!==null;)if(a=Ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ne=s;else for(;Ne!==null;){a=Ne;try{var Le=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ue=Le.memoizedProps,sn=Le.memoizedState,Y=a.stateNode,K=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ue:ui(a.type,Ue),sn);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(we){tn(a,a.return,we)}if(s=a.sibling,s!==null){s.return=a.return,Ne=s;break}Ne=a.return}return Le=pE,pE=!1,Le}function Nu(s,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&s)===s){var E=v.destroy;v.destroy=void 0,E!==void 0&&km(a,c,E)}v=v.next}while(v!==m)}}function id(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function Dm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function mE(s){var a=s.alternate;a!==null&&(s.alternate=null,mE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Di],delete a[Tu],delete a[Gp],delete a[Mb],delete a[Vb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function gE(s){return s.tag===5||s.tag===3||s.tag===4}function yE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Nm(s,a,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Mh));else if(m!==4&&(s=s.child,s!==null))for(Nm(s,a,c),s=s.sibling;s!==null;)Nm(s,a,c),s=s.sibling}function Om(s,a,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Om(s,a,c),s=s.sibling;s!==null;)Om(s,a,c),s=s.sibling}var kn=null,ci=!1;function eo(s,a,c){for(c=c.child;c!==null;)vE(s,a,c),c=c.sibling}function vE(s,a,c){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(lr,c)}catch{}switch(c.tag){case 5:qn||fl(c,a);case 6:var m=kn,v=ci;kn=null,eo(s,a,c),kn=m,ci=v,kn!==null&&(ci?(s=kn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):kn.removeChild(c.stateNode));break;case 18:kn!==null&&(ci?(s=kn,c=c.stateNode,s.nodeType===8?Kp(s.parentNode,c):s.nodeType===1&&Kp(s,c),si(s)):Kp(kn,c.stateNode));break;case 4:m=kn,v=ci,kn=c.stateNode.containerInfo,ci=!0,eo(s,a,c),kn=m,ci=v;break;case 0:case 11:case 14:case 15:if(!qn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var E=v,C=E.destroy;E=E.tag,C!==void 0&&(E&2||E&4)&&km(c,a,C),v=v.next}while(v!==m)}eo(s,a,c);break;case 1:if(!qn&&(fl(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(U){tn(c,a,U)}eo(s,a,c);break;case 21:eo(s,a,c);break;case 22:c.mode&1?(qn=(m=qn)||c.memoizedState!==null,eo(s,a,c),qn=m):eo(s,a,c);break;default:eo(s,a,c)}}function _E(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Xb),a.forEach(function(m){var v=lk.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}}function hi(s,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];try{var E=s,C=a,U=C;e:for(;U!==null;){switch(U.tag){case 5:kn=U.stateNode,ci=!1;break e;case 3:kn=U.stateNode.containerInfo,ci=!0;break e;case 4:kn=U.stateNode.containerInfo,ci=!0;break e}U=U.return}if(kn===null)throw Error(n(160));vE(E,C,v),kn=null,ci=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(ee){tn(v,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wE(a,s),a=a.sibling}function wE(s,a){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hi(a,s),Mi(s),m&4){try{Nu(3,s,s.return),id(3,s)}catch(Ue){tn(s,s.return,Ue)}try{Nu(5,s,s.return)}catch(Ue){tn(s,s.return,Ue)}}break;case 1:hi(a,s),Mi(s),m&512&&c!==null&&fl(c,c.return);break;case 5:if(hi(a,s),Mi(s),m&512&&c!==null&&fl(c,c.return),s.flags&32){var v=s.stateNode;try{rn(v,"")}catch(Ue){tn(s,s.return,Ue)}}if(m&4&&(v=s.stateNode,v!=null)){var E=s.memoizedProps,C=c!==null?c.memoizedProps:E,U=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{U==="input"&&E.type==="radio"&&E.name!=null&&Ji(v,E),Ls(U,C);var ee=Ls(U,E);for(C=0;C<$.length;C+=2){var me=$[C],ge=$[C+1];me==="style"?ts(v,ge):me==="dangerouslySetInnerHTML"?es(v,ge):me==="children"?rn(v,ge):V(v,me,ge,ee)}switch(U){case"input":Vs(v,E);break;case"textarea":Fe(v,E);break;case"select":var pe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var Ie=E.value;Ie!=null?Ee(v,!!E.multiple,Ie,!1):pe!==!!E.multiple&&(E.defaultValue!=null?Ee(v,!!E.multiple,E.defaultValue,!0):Ee(v,!!E.multiple,E.multiple?[]:"",!1))}v[Tu]=E}catch(Ue){tn(s,s.return,Ue)}}break;case 6:if(hi(a,s),Mi(s),m&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,E=s.memoizedProps;try{v.nodeValue=E}catch(Ue){tn(s,s.return,Ue)}}break;case 3:if(hi(a,s),Mi(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{si(a.containerInfo)}catch(Ue){tn(s,s.return,Ue)}break;case 4:hi(a,s),Mi(s);break;case 13:hi(a,s),Mi(s),v=s.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Lm=Pt())),m&4&&_E(s);break;case 22:if(me=c!==null&&c.memoizedState!==null,s.mode&1?(qn=(ee=qn)||me,hi(a,s),qn=ee):hi(a,s),Mi(s),m&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!me&&s.mode&1)for(Ne=s,me=s.child;me!==null;){for(ge=Ne=me;Ne!==null;){switch(pe=Ne,Ie=pe.child,pe.tag){case 0:case 11:case 14:case 15:Nu(4,pe,pe.return);break;case 1:fl(pe,pe.return);var Le=pe.stateNode;if(typeof Le.componentWillUnmount=="function"){m=pe,c=pe.return;try{a=m,Le.props=a.memoizedProps,Le.state=a.memoizedState,Le.componentWillUnmount()}catch(Ue){tn(m,c,Ue)}}break;case 5:fl(pe,pe.return);break;case 22:if(pe.memoizedState!==null){SE(ge);continue}}Ie!==null?(Ie.return=pe,Ne=Ie):SE(ge)}me=me.sibling}e:for(me=null,ge=s;;){if(ge.tag===5){if(me===null){me=ge;try{v=ge.stateNode,ee?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(U=ge.stateNode,$=ge.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=Gr("display",C))}catch(Ue){tn(s,s.return,Ue)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=ee?"":ge.memoizedProps}catch(Ue){tn(s,s.return,Ue)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:hi(a,s),Mi(s),m&4&&_E(s);break;case 21:break;default:hi(a,s),Mi(s)}}function Mi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(gE(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(rn(v,""),m.flags&=-33);var E=yE(s);Om(s,E,v);break;case 3:case 4:var C=m.stateNode.containerInfo,U=yE(s);Nm(s,U,C);break;default:throw Error(n(161))}}catch($){tn(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ek(s,a,c){Ne=s,EE(s)}function EE(s,a,c){for(var m=(s.mode&1)!==0;Ne!==null;){var v=Ne,E=v.child;if(v.tag===22&&m){var C=v.memoizedState!==null||rd;if(!C){var U=v.alternate,$=U!==null&&U.memoizedState!==null||qn;U=rd;var ee=qn;if(rd=C,(qn=$)&&!ee)for(Ne=v;Ne!==null;)C=Ne,$=C.child,C.tag===22&&C.memoizedState!==null?xE(v):$!==null?($.return=C,Ne=$):xE(v);for(;E!==null;)Ne=E,EE(E),E=E.sibling;Ne=v,rd=U,qn=ee}TE(s)}else v.subtreeFlags&8772&&E!==null?(E.return=v,Ne=E):TE(s)}}function TE(s){for(;Ne!==null;){var a=Ne;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:qn||id(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!qn)if(c===null)m.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:ui(a.type,c.memoizedProps);m.componentDidUpdate(v,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&Sw(a,E,m);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Sw(a,C,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var me=ee.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&si(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qn||a.flags&512&&Dm(a)}catch(pe){tn(a,a.return,pe)}}if(a===s){Ne=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function SE(s){for(;Ne!==null;){var a=Ne;if(a===s){Ne=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function xE(s){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{id(4,a)}catch($){tn(a,c,$)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch($){tn(a,v,$)}}var E=a.return;try{Dm(a)}catch($){tn(a,E,$)}break;case 5:var C=a.return;try{Dm(a)}catch($){tn(a,C,$)}}}catch($){tn(a,a.return,$)}if(a===s){Ne=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ne=U;break}Ne=a.return}}var tk=Math.ceil,sd=L.ReactCurrentDispatcher,Mm=L.ReactCurrentOwner,zr=L.ReactCurrentBatchConfig,At=0,Sn=null,cn=null,Dn=0,Cr=0,pl=Qs(0),gn=0,Ou=null,na=0,od=0,Vm=0,Mu=null,pr=null,Lm=0,ml=1/0,vs=null,ad=!1,Fm=null,to=null,ld=!1,no=null,ud=0,Vu=0,Um=null,cd=-1,hd=0;function nr(){return At&6?Pt():cd!==-1?cd:cd=Pt()}function ro(s){return s.mode&1?At&2&&Dn!==0?Dn&-Dn:Fb.transition!==null?(hd===0&&(hd=qo()),hd):(s=yt,s!==0||(s=window.event,s=s===void 0?16:cu(s.type)),s):1}function di(s,a,c,m){if(50<Vu)throw Vu=0,Um=null,Error(n(185));Bs(s,c,m),(!(At&2)||s!==Sn)&&(s===Sn&&(!(At&2)&&(od|=c),gn===4&&io(s,Dn)),mr(s,m),c===1&&At===0&&!(a.mode&1)&&(ml=Pt()+500,Uh&&Zs()))}function mr(s,a){var c=s.callbackNode;os(s,a);var m=$o(s,s===Sn?Dn:0);if(m===0)c!==null&&is(c),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(c!=null&&is(c),a===1)s.tag===0?Lb(RE.bind(null,s)):hw(RE.bind(null,s)),Nb(function(){!(At&6)&&Zs()}),c=null;else{switch($s(m)){case 1:c=wt;break;case 4:c=Lt;break;case 16:c=In;break;case 536870912:c=Ft;break;default:c=In}c=OE(c,AE.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function AE(s,a){if(cd=-1,hd=0,At&6)throw Error(n(327));var c=s.callbackNode;if(gl()&&s.callbackNode!==c)return null;var m=$o(s,s===Sn?Dn:0);if(m===0)return null;if(m&30||m&s.expiredLanes||a)a=dd(s,m);else{a=m;var v=At;At|=2;var E=IE();(Sn!==s||Dn!==a)&&(vs=null,ml=Pt()+500,ia(s,a));do try{ik();break}catch(U){CE(s,U)}while(!0);rm(),sd.current=E,At=v,cn!==null?a=0:(Sn=null,Dn=0,a=gn)}if(a!==0){if(a===2&&(v=Tr(s),v!==0&&(m=v,a=jm(s,v))),a===1)throw c=Ou,ia(s,0),io(s,m),mr(s,Pt()),c;if(a===6)io(s,m);else{if(v=s.current.alternate,!(m&30)&&!nk(v)&&(a=dd(s,m),a===2&&(E=Tr(s),E!==0&&(m=E,a=jm(s,E))),a===1))throw c=Ou,ia(s,0),io(s,m),mr(s,Pt()),c;switch(s.finishedWork=v,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:sa(s,pr,vs);break;case 3:if(io(s,m),(m&130023424)===m&&(a=Lm+500-Pt(),10<a)){if($o(s,0)!==0)break;if(v=s.suspendedLanes,(v&m)!==m){nr(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Hp(sa.bind(null,s,pr,vs),a);break}sa(s,pr,vs);break;case 4:if(io(s,m),(m&4194240)===m)break;for(a=s.eventTimes,v=-1;0<m;){var C=31-Jn(m);E=1<<C,C=a[C],C>v&&(v=C),m&=~E}if(m=v,m=Pt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*tk(m/1960))-m,10<m){s.timeoutHandle=Hp(sa.bind(null,s,pr,vs),m);break}sa(s,pr,vs);break;case 5:sa(s,pr,vs);break;default:throw Error(n(329))}}}return mr(s,Pt()),s.callbackNode===c?AE.bind(null,s):null}function jm(s,a){var c=Mu;return s.current.memoizedState.isDehydrated&&(ia(s,a).flags|=256),s=dd(s,a),s!==2&&(a=pr,pr=c,a!==null&&Bm(a)),s}function Bm(s){pr===null?pr=s:pr.push.apply(pr,s)}function nk(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var v=c[m],E=v.getSnapshot;v=v.value;try{if(!ai(E(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function io(s,a){for(a&=~Vm,a&=~od,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Jn(a),m=1<<c;s[c]=-1,a&=~m}}function RE(s){if(At&6)throw Error(n(327));gl();var a=$o(s,0);if(!(a&1))return mr(s,Pt()),null;var c=dd(s,a);if(s.tag!==0&&c===2){var m=Tr(s);m!==0&&(a=m,c=jm(s,m))}if(c===1)throw c=Ou,ia(s,0),io(s,a),mr(s,Pt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,sa(s,pr,vs),mr(s,Pt()),null}function zm(s,a){var c=At;At|=1;try{return s(a)}finally{At=c,At===0&&(ml=Pt()+500,Uh&&Zs())}}function ra(s){no!==null&&no.tag===0&&!(At&6)&&gl();var a=At;At|=1;var c=zr.transition,m=yt;try{if(zr.transition=null,yt=1,s)return s()}finally{yt=m,zr.transition=c,At=a,!(At&6)&&Zs()}}function $m(){Cr=pl.current,jt(pl)}function ia(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Db(c)),cn!==null)for(c=cn.return;c!==null;){var m=c;switch(Xp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Lh();break;case 3:hl(),jt(hr),jt(Bn),hm();break;case 5:um(m);break;case 4:hl();break;case 13:jt(Ht);break;case 19:jt(Ht);break;case 10:im(m.type._context);break;case 22:case 23:$m()}c=c.return}if(Sn=s,cn=s=so(s.current,null),Dn=Cr=a,gn=0,Ou=null,Vm=od=na=0,pr=Mu=null,Jo!==null){for(a=0;a<Jo.length;a++)if(c=Jo[a],m=c.interleaved,m!==null){c.interleaved=null;var v=m.next,E=c.pending;if(E!==null){var C=E.next;E.next=v,m.next=C}c.pending=m}Jo=null}return s}function CE(s,a){do{var c=cn;try{if(rm(),Qh.current=Jh,Yh){for(var m=Kt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Yh=!1}if(ta=0,Tn=mn=Kt=null,Iu=!1,Pu=0,Mm.current=null,c===null||c.return===null){gn=1,Ou=a,cn=null;break}e:{var E=s,C=c.return,U=c,$=a;if(a=Dn,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,me=U,ge=me.tag;if(!(me.mode&1)&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ie=Xw(C);if(Ie!==null){Ie.flags&=-257,Jw(Ie,C,U,E,a),Ie.mode&1&&Zw(E,ee,a),a=Ie,$=ee;var Le=a.updateQueue;if(Le===null){var Ue=new Set;Ue.add($),a.updateQueue=Ue}else Le.add($);break e}else{if(!(a&1)){Zw(E,ee,a),qm();break e}$=Error(n(426))}}else if(qt&&U.mode&1){var sn=Xw(C);if(sn!==null){!(sn.flags&65536)&&(sn.flags|=256),Jw(sn,C,U,E,a),tm(dl($,U));break e}}E=$=dl($,U),gn!==4&&(gn=2),Mu===null?Mu=[E]:Mu.push(E),E=C;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Y=Qw(E,$,a);Tw(E,Y);break e;case 1:U=$;var K=E.type,Z=E.stateNode;if(!(E.flags&128)&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(to===null||!to.has(Z)))){E.flags|=65536,a&=-a,E.lanes|=a;var we=Yw(E,U,a);Tw(E,we);break e}}E=E.return}while(E!==null)}bE(c)}catch(je){a=je,cn===c&&c!==null&&(cn=c=c.return);continue}break}while(!0)}function IE(){var s=sd.current;return sd.current=Jh,s===null?Jh:s}function qm(){(gn===0||gn===3||gn===2)&&(gn=4),Sn===null||!(na&268435455)&&!(od&268435455)||io(Sn,Dn)}function dd(s,a){var c=At;At|=2;var m=IE();(Sn!==s||Dn!==a)&&(vs=null,ia(s,a));do try{rk();break}catch(v){CE(s,v)}while(!0);if(rm(),At=c,sd.current=m,cn!==null)throw Error(n(261));return Sn=null,Dn=0,gn}function rk(){for(;cn!==null;)PE(cn)}function ik(){for(;cn!==null&&!Ri();)PE(cn)}function PE(s){var a=NE(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,a===null?bE(s):cn=a,Mm.current=null}function bE(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=Zb(c,a),c!==null){c.flags&=32767,cn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gn=6,cn=null;return}}else if(c=Yb(c,a,Cr),c!==null){cn=c;return}if(a=a.sibling,a!==null){cn=a;return}cn=a=s}while(a!==null);gn===0&&(gn=5)}function sa(s,a,c){var m=yt,v=zr.transition;try{zr.transition=null,yt=1,sk(s,a,c,m)}finally{zr.transition=v,yt=m}return null}function sk(s,a,c,m){do gl();while(no!==null);if(At&6)throw Error(n(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(Mt(s,E),s===Sn&&(cn=Sn=null,Dn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||ld||(ld=!0,OE(In,function(){return gl(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=zr.transition,zr.transition=null;var C=yt;yt=1;var U=At;At|=4,Mm.current=null,Jb(s,c),wE(c,s),Ab(qp),Ws=!!$p,qp=$p=null,s.current=c,ek(c),ei(),At=U,yt=C,zr.transition=E}else s.current=c;if(ld&&(ld=!1,no=s,ud=v),E=s.pendingLanes,E===0&&(to=null),La(c.stateNode),mr(s,Pt()),a!==null)for(m=s.onRecoverableError,c=0;c<a.length;c++)v=a[c],m(v.value,{componentStack:v.stack,digest:v.digest});if(ad)throw ad=!1,s=Fm,Fm=null,s;return ud&1&&s.tag!==0&&gl(),E=s.pendingLanes,E&1?s===Um?Vu++:(Vu=0,Um=s):Vu=0,Zs(),null}function gl(){if(no!==null){var s=$s(ud),a=zr.transition,c=yt;try{if(zr.transition=null,yt=16>s?16:s,no===null)var m=!1;else{if(s=no,no=null,ud=0,At&6)throw Error(n(331));var v=At;for(At|=4,Ne=s.current;Ne!==null;){var E=Ne,C=E.child;if(Ne.flags&16){var U=E.deletions;if(U!==null){for(var $=0;$<U.length;$++){var ee=U[$];for(Ne=ee;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:Nu(8,me,E)}var ge=me.child;if(ge!==null)ge.return=me,Ne=ge;else for(;Ne!==null;){me=Ne;var pe=me.sibling,Ie=me.return;if(mE(me),me===ee){Ne=null;break}if(pe!==null){pe.return=Ie,Ne=pe;break}Ne=Ie}}}var Le=E.alternate;if(Le!==null){var Ue=Le.child;if(Ue!==null){Le.child=null;do{var sn=Ue.sibling;Ue.sibling=null,Ue=sn}while(Ue!==null)}}Ne=E}}if(E.subtreeFlags&2064&&C!==null)C.return=E,Ne=C;else e:for(;Ne!==null;){if(E=Ne,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Nu(9,E,E.return)}var Y=E.sibling;if(Y!==null){Y.return=E.return,Ne=Y;break e}Ne=E.return}}var K=s.current;for(Ne=K;Ne!==null;){C=Ne;var Z=C.child;if(C.subtreeFlags&2064&&Z!==null)Z.return=C,Ne=Z;else e:for(C=K;Ne!==null;){if(U=Ne,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:id(9,U)}}catch(je){tn(U,U.return,je)}if(U===C){Ne=null;break e}var we=U.sibling;if(we!==null){we.return=U.return,Ne=we;break e}Ne=U.return}}if(At=v,Zs(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(lr,s)}catch{}m=!0}return m}finally{yt=c,zr.transition=a}}return!1}function kE(s,a,c){a=dl(c,a),a=Qw(s,a,1),s=Js(s,a,1),a=nr(),s!==null&&(Bs(s,1,a),mr(s,a))}function tn(s,a,c){if(s.tag===3)kE(s,s,c);else for(;a!==null;){if(a.tag===3){kE(a,s,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(to===null||!to.has(m))){s=dl(c,s),s=Yw(a,s,1),a=Js(a,s,1),s=nr(),a!==null&&(Bs(a,1,s),mr(a,s));break}}a=a.return}}function ok(s,a,c){var m=s.pingCache;m!==null&&m.delete(a),a=nr(),s.pingedLanes|=s.suspendedLanes&c,Sn===s&&(Dn&c)===c&&(gn===4||gn===3&&(Dn&130023424)===Dn&&500>Pt()-Lm?ia(s,0):Vm|=c),mr(s,a)}function DE(s,a){a===0&&(s.mode&1?(a=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):a=1);var c=nr();s=ms(s,a),s!==null&&(Bs(s,a,c),mr(s,c))}function ak(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),DE(s,c)}function lk(s,a){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),DE(s,c)}var NE;NE=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||hr.current)fr=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return fr=!1,Qb(s,a,c);fr=!!(s.flags&131072)}else fr=!1,qt&&a.flags&1048576&&dw(a,Bh,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;nd(s,a),s=a.pendingProps;var v=il(a,Bn.current);cl(a,c),v=pm(null,a,m,s,v,c);var E=mm();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dr(m)?(E=!0,Fh(a)):E=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,am(a),v.updater=ed,a.stateNode=v,v._reactInternals=a,Em(a,m,s,c),a=Am(null,a,m,!0,E,c)):(a.tag=0,qt&&E&&Zp(a),tr(null,a,v,c),a=a.child),a;case 16:m=a.elementType;e:{switch(nd(s,a),s=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=ck(m),s=ui(m,s),v){case 0:a=xm(null,a,m,s,c);break e;case 1:a=sE(null,a,m,s,c);break e;case 11:a=eE(null,a,m,s,c);break e;case 14:a=tE(null,a,m,ui(m.type,s),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ui(m,v),xm(s,a,m,v,c);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ui(m,v),sE(s,a,m,v,c);case 3:e:{if(oE(a),s===null)throw Error(n(387));m=a.pendingProps,E=a.memoizedState,v=E.element,Ew(s,a),Kh(a,m,null,c);var C=a.memoizedState;if(m=C.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){v=dl(Error(n(423)),a),a=aE(s,a,m,c,v);break e}else if(m!==v){v=dl(Error(n(424)),a),a=aE(s,a,m,c,v);break e}else for(Rr=Gs(a.stateNode.containerInfo.firstChild),Ar=a,qt=!0,li=null,c=_w(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(al(),m===v){a=ys(s,a,c);break e}tr(s,a,m,c)}a=a.child}return a;case 5:return xw(a),s===null&&em(a),m=a.type,v=a.pendingProps,E=s!==null?s.memoizedProps:null,C=v.children,Wp(m,v)?C=null:E!==null&&Wp(m,E)&&(a.flags|=32),iE(s,a),tr(s,a,C,c),a.child;case 6:return s===null&&em(a),null;case 13:return lE(s,a,c);case 4:return lm(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=ll(a,null,m,c):tr(s,a,m,c),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ui(m,v),eE(s,a,m,v,c);case 7:return tr(s,a,a.pendingProps,c),a.child;case 8:return tr(s,a,a.pendingProps.children,c),a.child;case 12:return tr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,E=a.memoizedProps,C=v.value,Vt(qh,m._currentValue),m._currentValue=C,E!==null)if(ai(E.value,C)){if(E.children===v.children&&!hr.current){a=ys(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var U=E.dependencies;if(U!==null){C=E.child;for(var $=U.firstContext;$!==null;){if($.context===m){if(E.tag===1){$=gs(-1,c&-c),$.tag=2;var ee=E.updateQueue;if(ee!==null){ee=ee.shared;var me=ee.pending;me===null?$.next=$:($.next=me.next,me.next=$),ee.pending=$}}E.lanes|=c,$=E.alternate,$!==null&&($.lanes|=c),sm(E.return,c,a),U.lanes|=c;break}$=$.next}}else if(E.tag===10)C=E.type===a.type?null:E.child;else if(E.tag===18){if(C=E.return,C===null)throw Error(n(341));C.lanes|=c,U=C.alternate,U!==null&&(U.lanes|=c),sm(C,c,a),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===a){C=null;break}if(E=C.sibling,E!==null){E.return=C.return,C=E;break}C=C.return}E=C}tr(s,a,v.children,c),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,cl(a,c),v=jr(v),m=m(v),a.flags|=1,tr(s,a,m,c),a.child;case 14:return m=a.type,v=ui(m,a.pendingProps),v=ui(m.type,v),tE(s,a,m,v,c);case 15:return nE(s,a,a.type,a.pendingProps,c);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ui(m,v),nd(s,a),a.tag=1,dr(m)?(s=!0,Fh(a)):s=!1,cl(a,c),Kw(a,m,v),Em(a,m,v,c),Am(null,a,m,!0,s,c);case 19:return cE(s,a,c);case 22:return rE(s,a,c)}throw Error(n(156,a.tag))};function OE(s,a){return Cn(s,a)}function uk(s,a,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,c,m){return new uk(s,a,c,m)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ck(s){if(typeof s=="function")return Wm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ue)return 14}return 2}function so(s,a){var c=s.alternate;return c===null?(c=$r(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function fd(s,a,c,m,v,E){var C=2;if(m=s,typeof s=="function")Wm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case k:return oa(c.children,v,E,a);case I:C=8,v|=8;break;case D:return s=$r(12,c,a,v|2),s.elementType=D,s.lanes=E,s;case M:return s=$r(13,c,a,v),s.elementType=M,s.lanes=E,s;case Ve:return s=$r(19,c,a,v),s.elementType=Ve,s.lanes=E,s;case le:return pd(c,v,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:C=10;break e;case j:C=9;break e;case F:C=11;break e;case ue:C=14;break e;case J:C=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=$r(C,c,a,v),a.elementType=s,a.type=m,a.lanes=E,a}function oa(s,a,c,m){return s=$r(7,s,m,a),s.lanes=c,s}function pd(s,a,c,m){return s=$r(22,s,m,a),s.elementType=le,s.lanes=c,s.stateNode={isHidden:!1},s}function Hm(s,a,c){return s=$r(6,s,null,a),s.lanes=c,s}function Km(s,a,c){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function hk(s,a,c,m,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Gm(s,a,c,m,v,E,C,U,$){return s=new hk(s,a,c,U,$),a===1?(a=1,E===!0&&(a|=8)):a=0,E=$r(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(E),s}function dk(s,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:s,containerInfo:a,implementation:c}}function ME(s){if(!s)return Ys;s=s._reactInternals;e:{if(gt(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(dr(c))return uw(s,c,a)}return a}function VE(s,a,c,m,v,E,C,U,$){return s=Gm(c,m,!0,s,v,E,C,U,$),s.context=ME(null),c=s.current,m=nr(),v=ro(c),E=gs(m,v),E.callback=a??null,Js(c,E,v),s.current.lanes=v,Bs(s,v,m),mr(s,m),s}function md(s,a,c,m){var v=a.current,E=nr(),C=ro(v);return c=ME(c),a.context===null?a.context=c:a.pendingContext=c,a=gs(E,C),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Js(v,a,C),s!==null&&(di(s,v,C,E),Hh(s,v,C)),C}function gd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function LE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Qm(s,a){LE(s,a),(s=s.alternate)&&LE(s,a)}var FE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ym(s){this._internalRoot=s}yd.prototype.render=Ym.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));md(s,a,null,null)},yd.prototype.unmount=Ym.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ra(function(){md(null,s,null,null)}),a[hs]=null}};function yd(s){this._internalRoot=s}yd.prototype.unstable_scheduleHydration=function(s){if(s){var a=yh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ii.length&&a!==0&&a<Ii[c].priority;c++);Ii.splice(c,0,s),c===0&&wh(s)}};function Zm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function UE(){}function fk(s,a,c,m,v){if(v){if(typeof m=="function"){var E=m;m=function(){var ee=gd(C);E.call(ee)}}var C=VE(a,m,s,0,null,!1,!1,"",UE);return s._reactRootContainer=C,s[hs]=C.current,wu(s.nodeType===8?s.parentNode:s),ra(),C}for(;v=s.lastChild;)s.removeChild(v);if(typeof m=="function"){var U=m;m=function(){var ee=gd($);U.call(ee)}}var $=Gm(s,0,!1,null,null,!1,!1,"",UE);return s._reactRootContainer=$,s[hs]=$.current,wu(s.nodeType===8?s.parentNode:s),ra(function(){md(a,$,c,m)}),$}function _d(s,a,c,m,v){var E=c._reactRootContainer;if(E){var C=E;if(typeof v=="function"){var U=v;v=function(){var $=gd(C);U.call($)}}md(a,C,s,v)}else C=fk(c,a,s,v,m);return gd(C)}mh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Us(a.pendingLanes);c!==0&&(zs(a,c|1),mr(a,Pt()),!(At&6)&&(ml=Pt()+500,Zs()))}break;case 13:ra(function(){var m=ms(s,1);if(m!==null){var v=nr();di(m,s,1,v)}}),Qm(s,1)}},ja=function(s){if(s.tag===13){var a=ms(s,134217728);if(a!==null){var c=nr();di(a,s,134217728,c)}Qm(s,134217728)}},gh=function(s){if(s.tag===13){var a=ro(s),c=ms(s,a);if(c!==null){var m=nr();di(c,s,a,m)}Qm(s,a)}},yh=function(){return yt},vh=function(s,a){var c=yt;try{return yt=s,a()}finally{yt=c}},ns=function(s,a,c){switch(a){case"input":if(Vs(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==s&&m.form===s.form){var v=Vh(m);if(!v)throw Error(n(90));sr(m),Vs(m,v)}}}break;case"textarea":Fe(s,c);break;case"select":a=c.value,a!=null&&Ee(s,!!c.multiple,a,!1)}},rs=zm,q=ra;var pk={usingClientEntryPoint:!1,Events:[Su,nl,Vh,Xn,zo,zm]},Lu={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mk={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Jr(s),s===null?null:s.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{lr=wd.inject(mk),jn=wd}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk,gr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zm(a))throw Error(n(200));return dk(s,a,null,c)},gr.createRoot=function(s,a){if(!Zm(s))throw Error(n(299));var c=!1,m="",v=FE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Gm(s,1,!1,null,null,c,!1,m,v),s[hs]=a.current,wu(s.nodeType===8?s.parentNode:s),new Ym(a)},gr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Jr(a),s=s===null?null:s.stateNode,s},gr.flushSync=function(s){return ra(s)},gr.hydrate=function(s,a,c){if(!vd(a))throw Error(n(200));return _d(null,s,a,!0,c)},gr.hydrateRoot=function(s,a,c){if(!Zm(s))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,v=!1,E="",C=FE;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=VE(a,null,s,1,c??null,v,!1,E,C),s[hs]=a.current,wu(s),m)for(s=0;s<m.length;s++)c=m[s],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new yd(a)},gr.render=function(s,a,c){if(!vd(a))throw Error(n(200));return _d(null,s,a,!1,c)},gr.unmountComponentAtNode=function(s){if(!vd(s))throw Error(n(40));return s._reactRootContainer?(ra(function(){_d(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},gr.unstable_batchedUpdates=zm,gr.unstable_renderSubtreeIntoContainer=function(s,a,c,m){if(!vd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return _d(s,a,c,!1,m)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var KE;function xk(){if(KE)return eg.exports;KE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=Sk(),eg.exports}var GE;function Ak(){if(GE)return Ed;GE=1;var t=xk();return Ed.createRoot=t.createRoot,Ed.hydrateRoot=t.hydrateRoot,Ed}var Rk=Ak(),W=Vv();const vn=SA(W);var xA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QE=vn.createContext&&vn.createContext(xA),Ck=["attr","size","title"];function Ik(t,e){if(t==null)return{};var n=Pk(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){bk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bk(t,e,n){return e=kk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kk(t){var e=Dk(t,"string");return typeof e=="symbol"?e:e+""}function Dk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AA(t){return t&&t.map((e,n)=>vn.createElement(e.tag,tf({key:n},e.attr),AA(e.child)))}function Nr(t){return e=>vn.createElement(Nk,ef({attr:tf({},t.attr)},e),AA(t.child))}function Nk(t){var e=n=>{var{attr:r,size:i,title:o}=t,l=Ik(t,Ck),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),vn.createElement("svg",ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:tf(tf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&vn.createElement("title",null,o),t.children)};return QE!==void 0?vn.createElement(QE.Consumer,null,n=>e(n)):e(xA)}function Ok(t){return Nr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Mk(t){return Nr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"},child:[]}]})(t)}function Vk(t){return Nr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Lk(t){return Nr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l224 0 0-112c0-26.5 21.5-48 48-48l112 0 0-224c0-35.3-28.7-64-64-64L64 32zM448 352l-45.3 0L336 352c-8.8 0-16 7.2-16 16l0 66.7 0 45.3 32-32 64-64 32-32z"},child:[]}]})(t)}function Fk(t){return Nr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M392 80H232a56.06 56.06 0 0 0-56 56v104h153.37l-52.68-52.69a16 16 0 0 1 22.62-22.62l80 80a16 16 0 0 1 0 22.62l-80 80a16 16 0 0 1-22.62-22.62L329.37 272H176v104c0 32.05 33.79 56 64 56h152a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zM80 240a16 16 0 0 0 0 32h96v-32z"},child:[]}]})(t)}function Uk(t){return Nr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 240h160V96a16 16 0 0 0-16-16H64a16 16 0 0 0-16 16v320a16 16 0 0 0 16 16h240a16 16 0 0 0 16-16V272H160zm299.31 4.69L368 153.37 345.37 176l64 64H320v32h89.37l-64 64L368 358.63l91.31-91.32a16 16 0 0 0 0-22.62z"},child:[]}]})(t)}const qc=W.createContext(),Wc=W.createContext(),xo=W.createContext(),jk="/Keep-Notes/assets/logoNotes-j2dNpZrA.png";var Uu={},ZE;function Bk(){if(ZE)return Uu;ZE=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.parse=l,Uu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,_){const T=new o,S=y.length;if(S<2)return T;const A=(_==null?void 0:_.decode)||p;let P=0;do{const O=y.indexOf("=",P);if(O===-1)break;const V=y.indexOf(";",P),L=V===-1?S:V;if(O>L){P=y.lastIndexOf(";",O-1)+1;continue}const R=u(y,P,O),B=h(y,O,R),k=y.slice(R,B);if(T[k]===void 0){let I=u(y,O+1,L),D=h(y,L,I);const N=A(y.slice(I,D));T[k]=N}P=L+1}while(P<S);return T}function u(y,_,T){do{const S=y.charCodeAt(_);if(S!==32&&S!==9)return _}while(++_<T);return T}function h(y,_,T){for(;_>T;){const S=y.charCodeAt(--_);if(S!==32&&S!==9)return _+1}return T}function f(y,_,T){const S=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=S(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let P=y+"="+A;if(!T)return P;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);P+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);P+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);P+="; Path="+T.path}if(T.expires){if(!g(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);P+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(P+="; HttpOnly"),T.secure&&(P+="; Secure"),T.partitioned&&(P+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return P}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return Uu}Bk();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XE="popstate";function zk(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return pc("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ao(i)}return qk(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substring(2,10)}function JE(t,e){return{usr:t.state,key:t.key,idx:e}}function pc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:n,key:e&&e.key||r||$k()}}function Ao({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=p(),P=A==null?null:A-f;f=A,h&&h({action:u,location:S.location,delta:P})}function y(A,P){u="PUSH";let O=pc(S.location,A,P);f=p()+1;let V=JE(O,f),L=S.createHref(O);try{l.pushState(V,"",L)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(L)}o&&h&&h({action:u,location:S.location,delta:1})}function _(A,P){u="REPLACE";let O=pc(S.location,A,P);f=p();let V=JE(O,f),L=S.createHref(O);l.replaceState(V,"",L),o&&h&&h({action:u,location:S.location,delta:0})}function T(A){let P=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof A=="string"?A:Ao(A);return O=O.replace(/ $/,"%20"),_t(P,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,P)}let S={get action(){return u},get location(){return t(i,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(XE,g),h=A,()=>{i.removeEventListener(XE,g),h=null}},createHref(A){return e(i,A)},createURL:T,encodeLocation(A){let P=T(A);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:_,go(A){return l.go(A)}};return S}var Wk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hk(t){return t.index===!0}function nf(t,e,n=[],r={}){return t.map((i,o)=>{let l=[...n,String(o)],u=typeof i.id=="string"?i.id:l.join("-");if(_t(i.index!==!0||!i.children,"Cannot specify children on an index route"),_t(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Hk(i)){let h={...i,...e(i),id:u};return r[u]=h,h}else{let h={...i,...e(i),id:u,children:void 0};return r[u]=h,i.children&&(h.children=nf(i.children,e,l,r)),h}})}function ho(t,e,n="/"){return Vd(t,e,n,!1)}function Vd(t,e,n,r){let i=typeof e=="string"?Fo(e):e,o=Ei(i.pathname||"/",n);if(o==null)return null;let l=RA(t);Gk(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=sD(o);u=rD(l[h],f,r)}return u}function Kk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function RA(t,e=[],n=[],r=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Ui([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),RA(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:tD(f,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of CA(o.path))i(o,l,h)}),e}function CA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=CA(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function Gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Qk=/^:[\w-]+$/,Yk=3,Zk=2,Xk=1,Jk=10,eD=-2,eT=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(eT)&&(r+=eD),e&&(r+=Zk),n.filter(i=>!eT(i)).reduce((i,o)=>i+(Qk.test(o)?Yk:o===""?Xk:Jk),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rD(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),y=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ui([o,g.pathname]),pathnameBase:lD(Ui([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Ui([o,g.pathnameBase]))}return l}function rf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let T=u[y]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[y];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function iD(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:uD(r),hash:cD(i)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lv(t){let e=IA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fv(t,e,n,r=!1){let i;typeof t=="string"?i=Fo(t):(i={...t},_t(!i.pathname||!i.pathname.includes("?"),rg("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),rg("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),rg("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let h=oD(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),lD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PA=["POST","PUT","PATCH","DELETE"],hD=new Set(PA),dD=["GET",...PA],fD=new Set(dD),pD=new Set([301,302,303,307,308]),mD=new Set([307,308]),ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bA="remix-router-transitions",kA=Symbol("ResetLoaderData");function vD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";_t(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||yD,i={},o=nf(t.routes,r,void 0,i),l,u=t.basename||"/",h=t.dataStrategy||SD,f=t.patchRoutesOnNavigation,p={...t.future},g=null,y=new Set,_=null,T=null,S=null,A=t.hydrationData!=null,P=ho(o,t.history.location,u),O=null;if(P==null&&!f){let q=Kr(404,{pathname:t.history.location.pathname}),{matches:G,route:ne}=hT(o);P=G,O={[ne.id]:q}}P&&!t.hydrationData&&Zr(P,o,t.history.location.pathname).active&&(P=null);let V;if(P)if(P.some(q=>q.route.lazy))V=!1;else if(!P.some(q=>q.route.loader))V=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null;if(G){let ne=P.findIndex(ae=>G[ae.route.id]!==void 0);V=P.slice(0,ne+1).every(ae=>!zy(ae.route,q,G))}else V=P.every(ne=>!zy(ne.route,q,G))}else{V=!1,P=[];let q=Zr(null,o,t.history.location.pathname);q.active&&q.matches&&(P=q.matches)}let L,R={historyAction:t.history.action,location:t.history.location,matches:P,initialized:V,navigation:ig,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},B="POP",k=!1,I,D=!1,N=new Map,j=null,F=!1,M=!1,Ve=new Set,ue=new Map,J=0,le=-1,te=new Map,ve=new Set,ce=new Map,H=new Map,oe=new Set,de=new Map,Ge,$e=null;function ot(){if(g=t.history.listen(({action:q,location:G,delta:ne})=>{if(Ge){Ge(),Ge=void 0;return}Vn(de.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Ls({currentLocation:R.location,nextLocation:G,historyAction:q});if(ae&&ne!=null){let Re=new Promise(De=>{Ge=De});t.history.go(ne*-1),Ai(ae,{state:"blocked",location:G,proceed(){Ai(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Re.then(()=>t.history.go(ne))},reset(){let De=new Map(R.blockers);De.set(ae,ju),et({blockers:De})}});return}return Xt(q,G)}),n){OD(e,N);let q=()=>MD(e,N);e.addEventListener("pagehide",q),j=()=>e.removeEventListener("pagehide",q)}return R.initialized||Xt("POP",R.location,{initialHydration:!0}),L}function ct(){g&&g(),j&&j(),y.clear(),I&&I.abort(),R.fetchers.forEach((q,G)=>Jt(G)),R.blockers.forEach((q,G)=>Qr(G))}function dt(q){return y.add(q),()=>y.delete(q)}function et(q,G={}){R={...R,...q};let ne=[],ae=[];R.fetchers.forEach((Re,De)=>{Re.state==="idle"&&(oe.has(De)?ne.push(De):ae.push(De))}),[...y].forEach(Re=>Re(R,{deletedFetchers:ne,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),ne.forEach(Re=>Jt(Re)),ae.forEach(Re=>R.fetchers.delete(Re))}function kt(q,G,{flushSync:ne}={}){var Se,Ye;let ae=R.actionData!=null&&R.navigation.formMethod!=null&&pi(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Se=q.state)==null?void 0:Se._isRedirect)!==!0,Re;G.actionData?Object.keys(G.actionData).length>0?Re=G.actionData:Re=null:ae?Re=R.actionData:Re=null;let De=G.loaderData?uT(R.loaderData,G.loaderData,G.matches||[],G.errors):R.loaderData,We=R.blockers;We.size>0&&(We=new Map(We),We.forEach((at,Ct)=>We.set(Ct,ju)));let Ce=k===!0||R.navigation.formMethod!=null&&pi(R.navigation.formMethod)&&((Ye=q.state)==null?void 0:Ye._isRedirect)!==!0;l&&(o=l,l=void 0),F||B==="POP"||(B==="PUSH"?t.history.push(q,q.state):B==="REPLACE"&&t.history.replace(q,q.state));let Oe;if(B==="POP"){let at=N.get(R.location.pathname);at&&at.has(q.pathname)?Oe={currentLocation:R.location,nextLocation:q}:N.has(q.pathname)&&(Oe={currentLocation:q,nextLocation:R.location})}else if(D){let at=N.get(R.location.pathname);at?at.add(q.pathname):(at=new Set([q.pathname]),N.set(R.location.pathname,at)),Oe={currentLocation:R.location,nextLocation:q}}et({...G,actionData:Re,loaderData:De,historyAction:B,location:q,initialized:!0,navigation:ig,revalidation:"idle",restoreScrollPosition:Er(q,G.matches||R.matches),preventScrollReset:Ce,blockers:We},{viewTransitionOpts:Oe,flushSync:ne===!0}),B="POP",k=!1,D=!1,F=!1,M=!1,$e==null||$e.resolve(),$e=null}async function Zt(q,G){if(typeof q=="number"){t.history.go(q);return}let ne=By(R.location,R.matches,u,q,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ae,submission:Re,error:De}=tT(!1,ne,G),We=R.location,Ce=pc(R.location,ae,G&&G.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Oe=G&&G.replace!=null?G.replace:void 0,Se="PUSH";Oe===!0?Se="REPLACE":Oe===!1||Re!=null&&pi(Re.formMethod)&&Re.formAction===R.location.pathname+R.location.search&&(Se="REPLACE");let Ye=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,at=(G&&G.flushSync)===!0,Ct=Ls({currentLocation:We,nextLocation:Ce,historyAction:Se});if(Ct){Ai(Ct,{state:"blocked",location:Ce,proceed(){Ai(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),Zt(q,G)},reset(){let en=new Map(R.blockers);en.set(Ct,ju),et({blockers:en})}});return}await Xt(Se,Ce,{submission:Re,pendingError:De,preventScrollReset:Ye,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:at})}function sr(){$e||($e=VD()),Fe(),et({revalidation:"loading"});let q=$e.promise;return R.navigation.state==="submitting"?q:R.navigation.state==="idle"?(Xt(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),q):(Xt(B||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:D===!0}),q)}async function Xt(q,G,ne){I&&I.abort(),I=null,B=q,F=(ne&&ne.startUninterruptedRevalidation)===!0,ar(R.location,R.matches),k=(ne&&ne.preventScrollReset)===!0,D=(ne&&ne.enableViewTransition)===!0;let ae=l||o,Re=ne&&ne.overrideNavigation,De=ho(ae,G,u),We=(ne&&ne.flushSync)===!0,Ce=Zr(De,ae,G.pathname);if(Ce.active&&Ce.matches&&(De=Ce.matches),!De){let{error:gt,notFoundMatches:xt,route:It}=Yr(G.pathname);kt(G,{matches:xt,loaderData:{},errors:{[It.id]:gt}},{flushSync:We});return}if(R.initialized&&!M&&PD(R.location,G)&&!(ne&&ne.submission&&pi(ne.submission.formMethod))){kt(G,{matches:De},{flushSync:We});return}I=new AbortController;let Oe=yl(t.history,G,I.signal,ne&&ne.submission),Se;if(ne&&ne.pendingError)Se=[da(De).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&pi(ne.submission.formMethod)){let gt=await Or(Oe,G,ne.submission,De,Ce.active,{replace:ne.replace,flushSync:We});if(gt.shortCircuited)return;if(gt.pendingActionResult){let[xt,It]=gt.pendingActionResult;if(Ir(It)&&zf(It.error)&&It.error.status===404){I=null,kt(G,{matches:gt.matches,loaderData:{},errors:{[xt]:It.error}});return}}De=gt.matches||De,Se=gt.pendingActionResult,Re=sg(G,ne.submission),We=!1,Ce.active=!1,Oe=yl(t.history,Oe.url,Oe.signal)}let{shortCircuited:Ye,matches:at,loaderData:Ct,errors:en}=await Xi(Oe,G,De,Ce.active,Re,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,We,Se);Ye||(I=null,kt(G,{matches:at||De,...cT(Se),loaderData:Ct,errors:en}))}async function Or(q,G,ne,ae,Re,De={}){Fe();let We=DD(G,ne);if(et({navigation:We},{flushSync:De.flushSync===!0}),Re){let Se=await Xn(ae,G.pathname,q.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let Ye=da(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Ye,{type:"error",error:Se.error}]}}else if(Se.matches)ae=Se.matches;else{let{notFoundMatches:Ye,error:at,route:Ct}=Yr(G.pathname);return{matches:Ye,pendingActionResult:[Ct.id,{type:"error",error:at}]}}}let Ce,Oe=Gu(ae,G);if(!Oe.route.action&&!Oe.route.lazy)Ce={type:"error",error:Kr(405,{method:q.method,pathname:G.pathname,routeId:Oe.route.id})};else if(Ce=(await Te("action",R,q,[Oe],ae,null))[Oe.route.id],q.signal.aborted)return{shortCircuited:!0};if(fa(Ce)){let Se;return De&&De.replace!=null?Se=De.replace:Se=oT(Ce.response.headers.get("Location"),new URL(q.url),u)===R.location.pathname+R.location.search,await Ee(q,Ce,!0,{submission:ne,replace:Se}),{shortCircuited:!0}}if(Ir(Ce)){let Se=da(ae,Oe.route.id);return(De&&De.replace)!==!0&&(B="PUSH"),{matches:ae,pendingActionResult:[Se.route.id,Ce]}}return{matches:ae,pendingActionResult:[Oe.route.id,Ce]}}async function Xi(q,G,ne,ae,Re,De,We,Ce,Oe,Se,Ye){let at=Re||sg(G,De),Ct=De||We||fT(at),en=!F&&!Oe;if(ae){if(en){let Lt=Ji(Ye);et({navigation:at,...Lt!==void 0?{actionData:Lt}:{}},{flushSync:Se})}let wt=await Xn(ne,G.pathname,q.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){let Lt=da(wt.partialMatches).route.id;return{matches:wt.partialMatches,loaderData:{},errors:{[Lt]:wt.error}}}else if(wt.matches)ne=wt.matches;else{let{error:Lt,notFoundMatches:In,route:ti}=Yr(G.pathname);return{matches:In,loaderData:{},errors:{[ti.id]:Lt}}}}let gt=l||o,[xt,It]=rT(t.history,R,ne,Ct,G,Oe===!0,M,Ve,oe,ce,ve,gt,u,Ye);if(le=++J,xt.length===0&&It.length===0){let wt=Mr();return kt(G,{matches:ne,loaderData:{},errors:Ye&&Ir(Ye[1])?{[Ye[0]]:Ye[1].error}:null,...cT(Ye),...wt?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(en){let wt={};if(!ae){wt.navigation=at;let Lt=Ji(Ye);Lt!==void 0&&(wt.actionData=Lt)}It.length>0&&(wt.fetchers=Vs(It)),et(wt,{flushSync:Se})}It.forEach(wt=>{rn(wt.key),wt.controller&&ue.set(wt.key,wt.controller)});let Xr=()=>It.forEach(wt=>rn(wt.key));I&&I.signal.addEventListener("abort",Xr);let{loaderResults:Jr,fetcherResults:Un}=await _e(R,ne,xt,It,q);if(q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Xr),It.forEach(wt=>ue.delete(wt.key));let Cn=Td(Jr);if(Cn)return await Ee(q,Cn.result,!0,{replace:Ce}),{shortCircuited:!0};if(Cn=Td(Un),Cn)return ve.add(Cn.key),await Ee(q,Cn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:is,errors:Ri}=lT(R,ne,Jr,Ye,It,Un);Oe&&R.errors&&(Ri={...R.errors,...Ri});let ei=Mr(),Pt=Gr(le),ss=ei||Pt||It.length>0;return{matches:ne,loaderData:is,errors:Ri,...ss?{fetchers:new Map(R.fetchers)}:{}}}function Ji(q){if(q&&!Ir(q[1]))return{[q[0]]:q[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Vs(q){return q.forEach(G=>{let ne=R.fetchers.get(G.key),ae=Bu(void 0,ne?ne.data:void 0);R.fetchers.set(G.key,ae)}),new Map(R.fetchers)}async function z(q,G,ne,ae){rn(q);let Re=(ae&&ae.flushSync)===!0,De=l||o,We=By(R.location,R.matches,u,ne,G,ae==null?void 0:ae.relative),Ce=ho(De,We,u),Oe=Zr(Ce,De,We);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){Xe(q,G,Kr(404,{pathname:We}),{flushSync:Re});return}let{path:Se,submission:Ye,error:at}=tT(!0,We,ae);if(at){Xe(q,G,at,{flushSync:Re});return}let Ct=Gu(Ce,Se),en=(ae&&ae.preventScrollReset)===!0;if(Ye&&pi(Ye.formMethod)){await X(q,G,Se,Ct,Ce,Oe.active,Re,en,Ye);return}ce.set(q,{routeId:G,path:Se}),await se(q,G,Se,Ct,Ce,Oe.active,Re,en,Ye)}async function X(q,G,ne,ae,Re,De,We,Ce,Oe){Fe(),ce.delete(q);function Se(Ft){if(!Ft.route.action&&!Ft.route.lazy){let lr=Kr(405,{method:Oe.formMethod,pathname:ne,routeId:G});return Xe(q,G,lr,{flushSync:We}),!0}return!1}if(!De&&Se(ae))return;let Ye=R.fetchers.get(q);qe(q,ND(Oe,Ye),{flushSync:We});let at=new AbortController,Ct=yl(t.history,ne,at.signal,Oe);if(De){let Ft=await Xn(Re,ne,Ct.signal);if(Ft.type==="aborted")return;if(Ft.type==="error"){Xe(q,G,Ft.error,{flushSync:We});return}else if(Ft.matches){if(Re=Ft.matches,ae=Gu(Re,ne),Se(ae))return}else{Xe(q,G,Kr(404,{pathname:ne}),{flushSync:We});return}}ue.set(q,at);let en=J,xt=(await Te("action",R,Ct,[ae],Re,q))[ae.route.id];if(Ct.signal.aborted){ue.get(q)===at&&ue.delete(q);return}if(oe.has(q)){if(fa(xt)||Ir(xt)){qe(q,uo(void 0));return}}else{if(fa(xt))if(ue.delete(q),le>en){qe(q,uo(void 0));return}else return ve.add(q),qe(q,Bu(Oe)),Ee(Ct,xt,!1,{fetcherSubmission:Oe,preventScrollReset:Ce});if(Ir(xt)){Xe(q,G,xt.error);return}}let It=R.navigation.location||R.location,Xr=yl(t.history,It,at.signal),Jr=l||o,Un=R.navigation.state!=="idle"?ho(Jr,R.navigation.location,u):R.matches;_t(Un,"Didn't find any matches after fetcher action");let Cn=++J;te.set(q,Cn);let is=Bu(Oe,xt.data);R.fetchers.set(q,is);let[Ri,ei]=rT(t.history,R,Un,Oe,It,!1,M,Ve,oe,ce,ve,Jr,u,[ae.route.id,xt]);ei.filter(Ft=>Ft.key!==q).forEach(Ft=>{let lr=Ft.key,jn=R.fetchers.get(lr),La=Bu(void 0,jn?jn.data:void 0);R.fetchers.set(lr,La),rn(lr),Ft.controller&&ue.set(lr,Ft.controller)}),et({fetchers:new Map(R.fetchers)});let Pt=()=>ei.forEach(Ft=>rn(Ft.key));at.signal.addEventListener("abort",Pt);let{loaderResults:ss,fetcherResults:wt}=await _e(R,Un,Ri,ei,Xr);if(at.signal.aborted)return;at.signal.removeEventListener("abort",Pt),te.delete(q),ue.delete(q),ei.forEach(Ft=>ue.delete(Ft.key));let Lt=Td(ss);if(Lt)return Ee(Xr,Lt.result,!1,{preventScrollReset:Ce});if(Lt=Td(wt),Lt)return ve.add(Lt.key),Ee(Xr,Lt.result,!1,{preventScrollReset:Ce});let{loaderData:In,errors:ti}=lT(R,Un,ss,void 0,ei,wt);if(R.fetchers.has(q)){let Ft=uo(xt.data);R.fetchers.set(q,Ft)}Gr(Cn),R.navigation.state==="loading"&&Cn>le?(_t(B,"Expected pending action"),I&&I.abort(),kt(R.navigation.location,{matches:Un,loaderData:In,errors:ti,fetchers:new Map(R.fetchers)})):(et({errors:ti,loaderData:uT(R.loaderData,In,Un,ti),fetchers:new Map(R.fetchers)}),M=!1)}async function se(q,G,ne,ae,Re,De,We,Ce,Oe){let Se=R.fetchers.get(q);qe(q,Bu(Oe,Se?Se.data:void 0),{flushSync:We});let Ye=new AbortController,at=yl(t.history,ne,Ye.signal);if(De){let xt=await Xn(Re,ne,at.signal);if(xt.type==="aborted")return;if(xt.type==="error"){Xe(q,G,xt.error,{flushSync:We});return}else if(xt.matches)Re=xt.matches,ae=Gu(Re,ne);else{Xe(q,G,Kr(404,{pathname:ne}),{flushSync:We});return}}ue.set(q,Ye);let Ct=J,gt=(await Te("loader",R,at,[ae],Re,q))[ae.route.id];if(ue.get(q)===Ye&&ue.delete(q),!at.signal.aborted){if(oe.has(q)){qe(q,uo(void 0));return}if(fa(gt))if(le>Ct){qe(q,uo(void 0));return}else{ve.add(q),await Ee(at,gt,!1,{preventScrollReset:Ce});return}if(Ir(gt)){Xe(q,G,gt.error);return}qe(q,uo(gt.data))}}async function Ee(q,G,ne,{submission:ae,fetcherSubmission:Re,preventScrollReset:De,replace:We}={}){G.response.headers.has("X-Remix-Revalidate")&&(M=!0);let Ce=G.response.headers.get("Location");_t(Ce,"Expected a Location header on the redirect Response"),Ce=oT(Ce,new URL(q.url),u);let Oe=pc(R.location,Ce,{_isRedirect:!0});if(n){let gt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Uv.test(Ce)){const xt=t.history.createURL(Ce);gt=xt.origin!==e.location.origin||Ei(xt.pathname,u)==null}if(gt){We?e.location.replace(Ce):e.location.assign(Ce);return}}I=null;let Se=We===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ye,formAction:at,formEncType:Ct}=R.navigation;!ae&&!Re&&Ye&&at&&Ct&&(ae=fT(R.navigation));let en=ae||Re;if(mD.has(G.response.status)&&en&&pi(en.formMethod))await Xt(Se,Oe,{submission:{...en,formAction:Ce},preventScrollReset:De||k,enableViewTransition:ne?D:void 0});else{let gt=sg(Oe,ae);await Xt(Se,Oe,{overrideNavigation:gt,fetcherSubmission:Re,preventScrollReset:De||k,enableViewTransition:ne?D:void 0})}}async function Te(q,G,ne,ae,Re,De){let We,Ce={};try{We=await xD(h,q,G,ne,ae,Re,De,i,r)}catch(Oe){return ae.forEach(Se=>{Ce[Se.route.id]={type:"error",error:Oe}}),Ce}for(let[Oe,Se]of Object.entries(We))if(bD(Se)){let Ye=Se.result;Ce[Oe]={type:"redirect",response:CD(Ye,ne,Oe,Re,u)}}else Ce[Oe]=await RD(Se);return Ce}async function _e(q,G,ne,ae,Re){let De=Te("loader",q,Re,ne,G,null),We=Promise.all(ae.map(async Se=>{if(Se.matches&&Se.match&&Se.controller){let at=(await Te("loader",q,yl(t.history,Se.path,Se.controller.signal),[Se.match],Se.matches,Se.key))[Se.match.route.id];return{[Se.key]:at}}else return Promise.resolve({[Se.key]:{type:"error",error:Kr(404,{pathname:Se.path})}})})),Ce=await De,Oe=(await We).reduce((Se,Ye)=>Object.assign(Se,Ye),{});return{loaderResults:Ce,fetcherResults:Oe}}function Fe(){M=!0,ce.forEach((q,G)=>{ue.has(G)&&Ve.add(G),rn(G)})}function qe(q,G,ne={}){R.fetchers.set(q,G),et({fetchers:new Map(R.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Xe(q,G,ne,ae={}){let Re=da(R.matches,G);Jt(q),et({errors:{[Re.route.id]:ne},fetchers:new Map(R.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ut(q){return H.set(q,(H.get(q)||0)+1),oe.has(q)&&oe.delete(q),R.fetchers.get(q)||gD}function Jt(q){let G=R.fetchers.get(q);ue.has(q)&&!(G&&G.state==="loading"&&te.has(q))&&rn(q),ce.delete(q),te.delete(q),ve.delete(q),oe.delete(q),Ve.delete(q),R.fetchers.delete(q)}function es(q){let G=(H.get(q)||0)-1;G<=0?(H.delete(q),oe.add(q)):H.set(q,G),et({fetchers:new Map(R.fetchers)})}function rn(q){let G=ue.get(q);G&&(G.abort(),ue.delete(q))}function or(q){for(let G of q){let ne=ut(G),ae=uo(ne.data);R.fetchers.set(G,ae)}}function Mr(){let q=[],G=!1;for(let ne of ve){let ae=R.fetchers.get(ne);_t(ae,`Expected fetcher: ${ne}`),ae.state==="loading"&&(ve.delete(ne),q.push(ne),G=!0)}return or(q),G}function Gr(q){let G=[];for(let[ne,ae]of te)if(ae<q){let Re=R.fetchers.get(ne);_t(Re,`Expected fetcher: ${ne}`),Re.state==="loading"&&(rn(ne),te.delete(ne),G.push(ne))}return or(G),G.length>0}function ts(q,G){let ne=R.blockers.get(q)||ju;return de.get(q)!==G&&de.set(q,G),ne}function Qr(q){R.blockers.delete(q),de.delete(q)}function Ai(q,G){let ne=R.blockers.get(q)||ju;_t(ne.state==="unblocked"&&G.state==="blocked"||ne.state==="blocked"&&G.state==="blocked"||ne.state==="blocked"&&G.state==="proceeding"||ne.state==="blocked"&&G.state==="unblocked"||ne.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${G.state}`);let ae=new Map(R.blockers);ae.set(q,G),et({blockers:ae})}function Ls({currentLocation:q,nextLocation:G,historyAction:ne}){if(de.size===0)return;de.size>1&&Vn(!1,"A router only supports one blocker at a time");let ae=Array.from(de.entries()),[Re,De]=ae[ae.length-1],We=R.blockers.get(Re);if(!(We&&We.state==="proceeding")&&De({currentLocation:q,nextLocation:G,historyAction:ne}))return Re}function Yr(q){let G=Kr(404,{pathname:q}),ne=l||o,{matches:ae,route:Re}=hT(ne);return{notFoundMatches:ae,route:Re,error:G}}function Fs(q,G,ne){if(_=q,S=G,T=ne||null,!A&&R.navigation===ig){A=!0;let ae=Er(R.location,R.matches);ae!=null&&et({restoreScrollPosition:ae})}return()=>{_=null,S=null,T=null}}function ns(q,G){return T&&T(q,G.map(ae=>Kk(ae,R.loaderData)))||q.key}function ar(q,G){if(_&&S){let ne=ns(q,G);_[ne]=S()}}function Er(q,G){if(_){let ne=ns(q,G),ae=_[ne];if(typeof ae=="number")return ae}return null}function Zr(q,G,ne){if(f)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Vd(G,ne,u,!0)}}else return{active:!0,matches:Vd(G,ne,u,!0)||[]};return{active:!1,matches:null}}async function Xn(q,G,ne){if(!f)return{type:"success",matches:q};let ae=q;for(;;){let Re=l==null,De=l||o,We=i;try{await f({path:G,matches:ae,patch:(Se,Ye)=>{ne.aborted||sT(Se,Ye,De,We,r)}})}catch(Se){return{type:"error",error:Se,partialMatches:ae}}finally{Re&&!ne.aborted&&(o=[...o])}if(ne.aborted)return{type:"aborted"};let Ce=ho(De,G,u);if(Ce)return{type:"success",matches:Ce};let Oe=Vd(De,G,u,!0);if(!Oe||ae.length===Oe.length&&ae.every((Se,Ye)=>Se.route.id===Oe[Ye].route.id))return{type:"success",matches:null};ae=Oe}}function zo(q){i={},l=nf(q,r,void 0,i)}function rs(q,G){let ne=l==null;sT(q,G,l||o,i,r),ne&&(o=[...o],et({}))}return L={get basename(){return u},get future(){return p},get state(){return R},get routes(){return o},get window(){return e},initialize:ot,subscribe:dt,enableScrollRestoration:Fs,navigate:Zt,fetch:z,revalidate:sr,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:ut,deleteFetcher:es,dispose:ct,getBlocker:ts,deleteBlocker:Qr,patchRoutes:rs,_internalFetchControllers:ue,_internalSetRoutes:zo},L}function _D(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function By(t,e,n,r,i,o){let l,u;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){u=f;break}}else l=e,u=e[e.length-1];let h=Fv(r||".",Lv(l),Ei(t.pathname,n)||t.pathname,o==="path");if(r==null&&(h.search=t.search,h.hash=t.hash),(r==null||r===""||r===".")&&u){let f=jv(h.search);if(u.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let p=new URLSearchParams(h.search),g=p.getAll("index");p.delete("index"),g.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();h.search=y?`?${y}`:""}}return n!=="/"&&(h.pathname=h.pathname==="/"?n:Ui([n,h.pathname])),Ao(h)}function tT(t,e,n){if(!n||!_D(n))return{path:e};if(n.formMethod&&!kD(n.formMethod))return{path:e,error:Kr(405,{method:n.formMethod})};let r=()=>({path:e,error:Kr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=NA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!pi(o))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[_,T])=>`${y}${_}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!pi(o))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}_t(typeof FormData=="function","FormData is not available in this environment");let u,h;if(n.formData)u=$y(n.formData),h=n.formData;else if(n.body instanceof FormData)u=$y(n.body),h=n.body;else if(n.body instanceof URLSearchParams)u=n.body,h=aT(u);else if(n.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(n.body),h=aT(u)}catch{return r()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(pi(f.formMethod))return{path:e,submission:f};let p=Fo(e);return t&&p.search&&jv(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Ao(p),submission:f}}function nT(t,e,n=!1){let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function rT(t,e,n,r,i,o,l,u,h,f,p,g,y,_){let T=_?Ir(_[1])?_[1].error:_[1].data:void 0,S=t.createURL(e.location),A=t.createURL(i),P=n;o&&e.errors?P=nT(n,Object.keys(e.errors)[0],!0):_&&Ir(_[1])&&(P=nT(n,_[0]));let O=_?_[1].statusCode:void 0,V=O&&O>=400,L=P.filter((B,k)=>{let{route:I}=B;if(I.lazy)return!0;if(I.loader==null)return!1;if(o)return zy(I,e.loaderData,e.errors);if(wD(e.loaderData,e.matches[k],B))return!0;let D=e.matches[k],N=B;return iT(B,{currentUrl:S,currentParams:D.params,nextUrl:A,nextParams:N.params,...r,actionResult:T,actionStatus:O,defaultShouldRevalidate:V?!1:l||S.pathname+S.search===A.pathname+A.search||S.search!==A.search||ED(D,N)})}),R=[];return f.forEach((B,k)=>{if(o||!n.some(F=>F.route.id===B.routeId)||h.has(k))return;let I=ho(g,B.path,y);if(!I){R.push({key:k,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(k),N=Gu(I,B.path),j=!1;p.has(k)?j=!1:u.has(k)?(u.delete(k),j=!0):D&&D.state!=="idle"&&D.data===void 0?j=l:j=iT(N,{currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:n[n.length-1].params,...r,actionResult:T,actionStatus:O,defaultShouldRevalidate:V?!1:l}),j&&R.push({key:k,routeId:B.routeId,path:B.path,matches:I,match:N,controller:new AbortController})}),[L,R]}function zy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function wD(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function ED(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function iT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function sT(t,e,n,r,i){let o;if(t){let h=r[t];_t(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),o=h.children}else o=n;let l=e.filter(h=>!o.some(f=>DA(h,f))),u=nf(l,i,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function DA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>DA(n,o))}):!1}async function TD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_t(i,"No route found in manifest");let o={};for(let l in r){let h=i[l]!==void 0&&l!=="hasErrorBoundary";Vn(!h,`Route "${i.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!h&&!Wk.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,{...e(i),lazy:void 0})}async function SD({matches:t}){let e=t.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,i,o)=>Object.assign(r,{[e[o].route.id]:i}),{})}async function xD(t,e,n,r,i,o,l,u,h,f){let p=o.map(_=>_.route.lazy?TD(_.route,h,u):void 0),g=o.map((_,T)=>{let S=p[T],A=i.some(O=>O.route.id===_.route.id);return{..._,shouldLoad:A,resolve:async O=>(O&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(A=!0),A?AD(e,r,_,S,O,f):Promise.resolve({type:"data",result:void 0}))}}),y=await t({matches:g,request:r,params:o[0].params,fetcherKey:l,context:f});try{await Promise.all(p)}catch{}return y}async function AD(t,e,n,r,i,o){let l,u,h=f=>{let p,g=new Promise((T,S)=>p=S);u=()=>p(),e.signal.addEventListener("abort",u);let y=T=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):f({request:e,params:n.params,context:o},...T!==void 0?[T]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(S=>y(S)):y())}}catch(T){return{type:"error",result:T}}})();return Promise.race([_,g])};try{let f=n.route[t];if(r)if(f){let p,[g]=await Promise.all([h(f).catch(y=>{p=y}),r]);if(p!==void 0)throw p;l=g}else if(await r,f=n.route[t],f)l=await h(f);else if(t==="action"){let p=new URL(e.url),g=p.pathname+p.search;throw Kr(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:"data",result:void 0};else if(f)l=await h(f);else{let p=new URL(e.url),g=p.pathname+p.search;throw Kr(404,{pathname:g})}}catch(f){return{type:"error",result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function RD(t){var r,i,o,l;let{result:e,type:n}=t;if(OA(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:"error",error:h}}return n==="error"?{type:"error",error:new sf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}if(n==="error"){if(dT(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new sf(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:zf(e)?e.status:void 0}}return dT(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function CD(t,e,n,r,i){let o=t.headers.get("Location");if(_t(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Uv.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=By(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function oT(t,e,n){if(Uv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ei(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function yl(t,e,n,r){let i=t.createURL(NA(e)).toString(),o={signal:n};if(r&&pi(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=$y(r.formData):o.body=r.formData}return new Request(i,o)}function $y(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function aT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function ID(t,e,n,r=!1,i=!1){let o={},l=null,u,h=!1,f={},p=n&&Ir(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,_=e[y];if(_t(!fa(_),"Cannot handle redirect results in processLoaderData"),Ir(_)){let T=_.error;if(p!==void 0&&(T=p,p=void 0),l=l||{},i)l[y]=T;else{let S=da(t,y);l[S.route.id]==null&&(l[S.route.id]=T)}r||(o[y]=kA),h||(h=!0,u=zf(_.error)?_.error.status:500),_.headers&&(f[y]=_.headers)}else o[y]=_.data,_.statusCode&&_.statusCode!==200&&!h&&(u=_.statusCode),_.headers&&(f[y]=_.headers)}),p!==void 0&&n&&(l={[n[0]]:p},o[n[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function lT(t,e,n,r,i,o){let{loaderData:l,errors:u}=ID(e,n,r);return i.forEach(h=>{let{key:f,match:p,controller:g}=h,y=o[f];if(_t(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Ir(y)){let _=da(t.matches,p==null?void 0:p.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:y.error}),t.fetchers.delete(f)}else if(fa(y))_t(!1,"Unhandled fetcher revalidation redirect");else{let _=uo(y.data);t.fetchers.set(f,_)}}),{loaderData:l,errors:u}}function uT(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==kA).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function cT(t){return t?Ir(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function da(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kr(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new sf(t||500,l,new Error(u),!0)}function Td(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(fa(i))return{key:r,result:i}}}function NA(t){let e=typeof t=="string"?Fo(t):t;return Ao({...e,hash:""})}function PD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bD(t){return OA(t.result)&&pD.has(t.result.status)}function Ir(t){return t.type==="error"}function fa(t){return(t&&t.type)==="redirect"}function dT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function OA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kD(t){return fD.has(t.toUpperCase())}function pi(t){return hD.has(t.toUpperCase())}function jv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Gu(t,e){let n=typeof e=="string"?Fo(e).search:e.search;if(t[t.length-1].route.index&&jv(n||""))return t[t.length-1];let r=IA(t);return r[r.length-1]}function fT(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function sg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function DD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ND(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function uo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function OD(t,e){try{let n=t.sessionStorage.getItem(bA);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function MD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(bA,JSON.stringify(n))}catch(r){Vn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function VD(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ba=W.createContext(null);ba.displayName="DataRouter";var Hc=W.createContext(null);Hc.displayName="DataRouterState";var Bv=W.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var MA=W.createContext(new Map);MA.displayName="Fetchers";var LD=W.createContext(null);LD.displayName="Await";var Yi=W.createContext(null);Yi.displayName="Navigation";var $f=W.createContext(null);$f.displayName="Location";var Zi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var zv=W.createContext(null);zv.displayName="RouteError";function FD(t,{relative:e}={}){_t(Kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(Yi),{hash:i,pathname:o,search:l}=Gc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Ui([n,o])),r.createHref({pathname:u,search:l,hash:i})}function Kc(){return W.useContext($f)!=null}function ka(){return _t(Kc(),"useLocation() may be used only in the context of a <Router> component."),W.useContext($f).location}var VA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(t){W.useContext(Yi).static||W.useLayoutEffect(t)}function FA(){let{isDataRoute:t}=W.useContext(Zi);return t?JD():UD()}function UD(){_t(Kc(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(ba),{basename:e,navigator:n}=W.useContext(Yi),{matches:r}=W.useContext(Zi),{pathname:i}=ka(),o=JSON.stringify(Lv(r)),l=W.useRef(!1);return LA(()=>{l.current=!0}),W.useCallback((h,f={})=>{if(Vn(l.current,VA),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=Fv(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ui([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,i,t])}var jD=W.createContext(null);function BD(t){let e=W.useContext(Zi).outlet;return e&&W.createElement(jD.Provider,{value:t},e)}function Gc(t,{relative:e}={}){let{matches:n}=W.useContext(Zi),{pathname:r}=ka(),i=JSON.stringify(Lv(n));return W.useMemo(()=>Fv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function zD(t,e,n,r){_t(Kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=W.useContext(Yi),{matches:o}=W.useContext(Zi),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";UA(h,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=ka(),y;y=g;let _=y.pathname||"/",T=_;if(f!=="/"){let P=f.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=ho(t,{pathname:T});return Vn(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Vn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),KD(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Ui([f,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Ui([f,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r)}function $D(){let t=XD(),e=zf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,l)}var qD=W.createElement($D,null),WD=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(Zi.Provider,{value:this.props.routeContext},W.createElement(zv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HD({routeContext:t,match:e,children:n}){let r=W.useContext(ba);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Zi.Provider,{value:t},n)}function KD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let g,y=!1,_=null,T=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||qD,l&&(u<0&&p===0?(UA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):u===p&&(y=!0,T=f.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),A=()=>{let P;return g?P=_:y?P=T:f.route.Component?P=W.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,W.createElement(HD,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?W.createElement(WD,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}function $v(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GD(t){let e=W.useContext(ba);return _t(e,$v(t)),e}function QD(t){let e=W.useContext(Hc);return _t(e,$v(t)),e}function YD(t){let e=W.useContext(Zi);return _t(e,$v(t)),e}function qv(t){let e=YD(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZD(){return qv("useRouteId")}function XD(){var r;let t=W.useContext(zv),e=QD("useRouteError"),n=qv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JD(){let{router:t}=GD("useNavigate"),e=qv("useNavigate"),n=W.useRef(!1);return LA(()=>{n.current=!0}),W.useCallback(async(i,o={})=>{Vn(n.current,VA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var pT={};function UA(t,e,n){!e&&!pT[t]&&(pT[t]=!0,Vn(!1,n))}var mT={};function gT(t,e){!t&&!mT[e]&&(mT[e]=!0,console.warn(e))}function eN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Vn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Vn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Vn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var tN=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function nN({router:t,flushSync:e}){let[n,r]=W.useState(t.state),[i,o]=W.useState(),[l,u]=W.useState({isTransitioning:!1}),[h,f]=W.useState(),[p,g]=W.useState(),[y,_]=W.useState(),T=W.useRef(new Map),S=W.useCallback((V,{deletedFetchers:L,flushSync:R,viewTransitionOpts:B})=>{L.forEach(I=>T.current.delete(I)),V.fetchers.forEach((I,D)=>{I.data!==void 0&&T.current.set(D,I.data)}),gT(R===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(gT(B==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!k){e&&R?e(()=>r(V)):W.startTransition(()=>r(V));return}if(e&&R){e(()=>{p&&(h&&h.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(V))});I.finished.finally(()=>{e(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>g(I));return}p?(h&&h.resolve(),p.skipTransition(),_({state:V,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(V),u({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,p,h]);W.useLayoutEffect(()=>t.subscribe(S),[t,S]),W.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new tN)},[l]),W.useEffect(()=>{if(h&&i&&t.window){let V=i,L=h.promise,R=t.window.document.startViewTransition(async()=>{W.startTransition(()=>r(V)),await L});R.finished.finally(()=>{f(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(R)}},[i,h,t.window]),W.useEffect(()=>{h&&i&&n.location.key===i.location.key&&h.resolve()},[h,p,n.location,i]),W.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[l.isTransitioning,y]);let A=W.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:V=>t.navigate(V),push:(V,L,R)=>t.navigate(V,{state:L,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(V,L,R)=>t.navigate(V,{replace:!0,state:L,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[t]),P=t.basename||"/",O=W.useMemo(()=>({router:t,navigator:A,static:!1,basename:P}),[t,A,P]);return W.createElement(W.Fragment,null,W.createElement(ba.Provider,{value:O},W.createElement(Hc.Provider,{value:n},W.createElement(MA.Provider,{value:T.current},W.createElement(Bv.Provider,{value:l},W.createElement(oN,{basename:P,location:n.location,navigationType:n.historyAction,navigator:A},W.createElement(rN,{routes:t.routes,future:t.future,state:n})))))),null)}var rN=W.memo(iN);function iN({routes:t,future:e,state:n}){return zD(t,void 0,n,e)}function sN(t){return BD(t.context)}function oN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){_t(!Kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=Fo(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,_=W.useMemo(()=>{let T=Ei(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:y},navigationType:r}},[l,h,f,p,g,y,r]);return Vn(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(Yi.Provider,{value:u},W.createElement($f.Provider,{children:e,value:_}))}var Ld="get",Fd="application/x-www-form-urlencoded";function qf(t){return t!=null&&typeof t.tagName=="string"}function aN(t){return qf(t)&&t.tagName.toLowerCase()==="button"}function lN(t){return qf(t)&&t.tagName.toLowerCase()==="form"}function uN(t){return qf(t)&&t.tagName.toLowerCase()==="input"}function cN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hN(t,e){return t.button===0&&(!e||e==="_self")&&!cN(t)}var Sd=null;function dN(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var fN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(t){return t!=null&&!fN.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):t}function pN(t,e){let n,r,i,o,l;if(lN(t)){let u=t.getAttribute("action");r=u?Ei(u,e):null,n=t.getAttribute("method")||Ld,i=og(t.getAttribute("enctype"))||Fd,o=new FormData(t)}else if(aN(t)||uN(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ei(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ld,i=og(t.getAttribute("formenctype"))||og(u.getAttribute("enctype"))||Fd,o=new FormData(u,t),!dN()){let{name:f,type:p,value:g}=t;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,g)}}else{if(qf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,r=null,i=Fd,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function Wv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function mN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yN(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await mN(o,n);return l.links?l.links():[]}return[]}));return EN(r.flat(1).filter(gN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yT(t,e,n,r,i,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var g;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function vN(t,e){return _N(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function _N(t){return[...new Set(t)]}function wN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(wN(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function TN(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function SN(){let t=W.useContext(ba);return Wv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xN(){let t=W.useContext(Hc);return Wv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hv=W.createContext(void 0);Hv.displayName="FrameworkContext";function jA(){let t=W.useContext(Hv);return Wv(t,"You must render this element inside a <HydratedRouter> element"),t}function AN(t,e){let n=W.useContext(Hv),[r,i]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=W.useRef(null);W.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=P=>{P.forEach(O=>{l(O.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[t]),W.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:zu(u,_),onBlur:zu(h,T),onMouseEnter:zu(f,_),onMouseLeave:zu(p,T),onTouchStart:zu(g,_)}]:[!1,y,{}]}function zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RN({page:t,...e}){let{router:n}=SN(),r=W.useMemo(()=>ho(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(IN,{page:t,matches:r,...e}):null}function CN(t){let{manifest:e,routeModules:n}=jA(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return yN(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function IN({page:t,matches:e,...n}){let r=ka(),{manifest:i,routeModules:o}=jA(),{loaderData:l,matches:u}=xN(),h=W.useMemo(()=>yT(t,e,u,i,r,"data"),[t,e,u,i,r]),f=W.useMemo(()=>yT(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(A=>{var O;let P=i.routes[A.route.id];!P||!P.hasLoader||(!h.some(V=>V.route.id===A.route.id)&&A.route.id in l&&((O=o[A.route.id])!=null&&O.shouldRevalidate)||P.hasClientLoader?T=!0:_.add(A.route.id))}),_.size===0)return[];let S=TN(t);return T&&_.size>0&&S.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[l,r,i,h,e,t,o]),g=W.useMemo(()=>vN(f,i),[f,i]),y=CN(f);return W.createElement(W.Fragment,null,p.map(_=>W.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>W.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:T})=>W.createElement("link",{key:_,...T})))}function PN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BA&&(window.__reactRouterVersion="7.1.0")}catch{}function bN(t,e){return vD({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:zk({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||kN(),routes:t,mapRouteProperties:eN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function kN(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:DN(t.errors)}),t}function DN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new sf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var zA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kv=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g,...y},_){let{basename:T}=W.useContext(Yi),S=typeof f=="string"&&zA.test(f),A,P=!1;if(typeof f=="string"&&S&&(A=f,BA))try{let D=new URL(window.location.href),N=f.startsWith("//")?new URL(D.protocol+f):new URL(f),j=Ei(N.pathname,T);N.origin===D.origin&&j!=null?f=j+N.search+N.hash:P=!0}catch{Vn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=FD(f,{relative:i}),[V,L,R]=AN(r,y),B=VN(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:g});function k(D){e&&e(D),D.defaultPrevented||B(D)}let I=W.createElement("a",{...y,...R,href:A||O,onClick:P||o?e:k,ref:PN(_,L),target:h,"data-discover":!S&&n==="render"?"true":void 0});return V&&!S?W.createElement(W.Fragment,null,I,W.createElement(RN,{page:O})):I});Kv.displayName="Link";var NN=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...f},p){let g=Gc(l,{relative:f.relative}),y=ka(),_=W.useContext(Hc),{navigator:T,basename:S}=W.useContext(Yi),A=_!=null&&BN(g)&&u===!0,P=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,O=y.pathname,V=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),V=V?V.toLowerCase():null,P=P.toLowerCase()),V&&S&&(V=Ei(V,S)||V);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let R=O===P||!i&&O.startsWith(P)&&O.charAt(L)==="/",B=V!=null&&(V===P||!i&&V.startsWith(P)&&V.charAt(P.length)==="/"),k={isActive:R,isPending:B,isTransitioning:A},I=R?e:void 0,D;typeof r=="function"?D=r(k):D=[r,R?"active":null,B?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(k):o;return W.createElement(Kv,{...f,"aria-current":I,className:D,ref:p,style:N,to:l,viewTransition:u},typeof h=="function"?h(k):h)});NN.displayName="NavLink";var ON=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Ld,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...y},_)=>{let T=UN(),S=jN(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&zA.test(u),O=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let L=V.nativeEvent.submitter,R=(L==null?void 0:L.getAttribute("formmethod"))||l;T(L||V.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return W.createElement("form",{ref:_,method:A,action:S,onSubmit:r?h:O,...y,"data-discover":!P&&t==="render"?"true":void 0})});ON.displayName="Form";function MN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(t){let e=W.useContext(ba);return _t(e,MN(t)),e}function VN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=FA(),h=ka(),f=Gc(t,{relative:o});return W.useCallback(p=>{if(hN(p,e)){p.preventDefault();let g=n!==void 0?n:Ao(h)===Ao(f);u(t,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,f,n,r,e,t,i,o,l])}var LN=0,FN=()=>`__${String(++LN)}__`;function UN(){let{router:t}=$A("useSubmit"),{basename:e}=W.useContext(Yi),n=ZD();return W.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=pN(r,e);if(i.navigate===!1){let p=i.fetcherKey||FN();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function jN(t,{relative:e}={}){let{basename:n}=W.useContext(Yi),r=W.useContext(Zi);_t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Gc(t||".",{relative:e})},l=ka();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ui([n,o.pathname])),Ao(o)}function BN(t,e={}){let n=W.useContext(Bv);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$A("useViewTransitionState"),i=Gc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rf(i.pathname,l)!=null||rf(i.pathname,o)!=null}new TextEncoder;function ag(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function $u(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}function qu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?$N(u,g=>g.test(l)):zN(u,g=>g.test(l));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function zN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $N(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function qN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const qA=6048e5,WN=864e5,vT=Symbol.for("constructDateFrom");function Ro(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vT in t?t[vT](e):t instanceof Date?new t.constructor(e):new Date(e)}function HN(t,...e){const n=Ro.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}let KN={};function Wf(){return KN}function xi(t,e){return Ro(e||t,t)}function mc(t,e){var u,h,f,p;const n=Wf(),r=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=xi(t,e==null?void 0:e.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}const GN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QN=(t,e,n)=>{let r;const i=GN[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},YN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZN=(t,e,n,r)=>YN[t],XN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iO=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sO={ordinalNumber:iO,era:$u({values:XN,defaultWidth:"wide"}),quarter:$u({values:JN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$u({values:eO,defaultWidth:"wide"}),day:$u({values:tO,defaultWidth:"wide"}),dayPeriod:$u({values:nO,defaultWidth:"wide",formattingValues:rO,defaultFormattingWidth:"wide"})},oO=/^(\d+)(th|st|nd|rd)?/i,aO=/\d+/i,lO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uO={any:[/^b/i,/^(a|c)/i]},cO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hO={any:[/1/i,/2/i,/3/i,/4/i]},dO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vO={ordinalNumber:qN({matchPattern:oO,parsePattern:aO,valueCallback:t=>parseInt(t,10)}),era:qu({matchPatterns:lO,defaultMatchWidth:"wide",parsePatterns:uO,defaultParseWidth:"any"}),quarter:qu({matchPatterns:cO,defaultMatchWidth:"wide",parsePatterns:hO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qu({matchPatterns:dO,defaultMatchWidth:"wide",parsePatterns:fO,defaultParseWidth:"any"}),day:qu({matchPatterns:pO,defaultMatchWidth:"wide",parsePatterns:mO,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:gO,defaultMatchWidth:"any",parsePatterns:yO,defaultParseWidth:"any"})},_O={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TO={date:ag({formats:_O,defaultWidth:"full"}),time:ag({formats:wO,defaultWidth:"full"}),dateTime:ag({formats:EO,defaultWidth:"full"})},SO={code:"en-US",formatDistance:QN,formatLong:TO,formatRelative:ZN,localize:sO,match:vO,options:{weekStartsOn:0,firstWeekContainsDate:1}},xO=()=>{const{selectedMenu:t,setSelectedMenu:e}=W.useContext(qc),{signInModalOpen:n,setSigninModalOpen:r,signOutModalOpen:i,setSignOutModalOpen:o,addNoteModalOpen:l,setAddNoteModalOpen:u}=W.useContext(xo),{userDetails:h}=W.useContext(Wc);return ie.jsxs("div",{className:"bg-primary flex flex-col items-center pt-5 pb-8 h-screen w-fit gap-12",children:[ie.jsx("img",{src:jk,alt:"logo",className:"w-10"}),ie.jsxs("div",{className:"flex flex-col h-full justify-between items-center w-full",children:[ie.jsxs("div",{className:"flex flex-col justify-center text-white font-bold text-sm",children:[ie.jsx(lg,{text:"Home",link:"/",id:"home",selectedMenu:t,onClick:()=>e("home"),children:ie.jsx(Ok,{className:"w-5 h-5"})}),ie.jsx(lg,{text:"Notes",link:"/notes",id:"notes",selectedMenu:t,onClick:()=>e("notes"),children:ie.jsx(Lk,{className:"w-5 h-5"})}),ie.jsx(lg,{text:"Add",link:"/notes",id:"add",onClick:()=>{e("add"),h?u(!0):r(!0)},selectedMenu:t,setSelectedMenu:e,children:ie.jsx(Vk,{className:"w-5 h-5"})})]}),ie.jsx("div",{className:"text-white flex flex-col items-center gap-2",children:h?ie.jsxs(ie.Fragment,{children:[ie.jsx("img",{src:(h==null?void 0:h.photoURL)||"/default-avatar.png",alt:h.displayName||"User Avatar",className:"w-10 h-10 rounded-full shadow-lg"}),ie.jsx("p",{className:"text-sm font-semibold text-nowrap",children:h.displayName}),ie.jsxs("div",{className:"flex items-center justify-center cursor-pointer gap-1",onClick:()=>{console.log("login"),r(!1),o(!0)},children:[ie.jsx(Fk,{className:"w-6 h-6"}),ie.jsx("p",{className:"text-sm text-nowrap",children:"Sign out"})]})]}):ie.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>{console.log("logout"),o(!1),r(!0)},children:[ie.jsx(Uk,{className:"w-6 h-6",title:"Logout"}),ie.jsx("p",{className:"text-sm font-semibold",children:"Signin"})]})})]})]})},lg=({text:t,children:e,onClick:n,link:r,selectedMenu:i,id:o})=>ie.jsxs(Kv,{to:r,className:`flex items-center gap-2 cursor-pointer hover:text-gray-300 px-3 py-2 ${i===o?"bg-primaryDark":""}`,onClick:n,children:[e&&ie.jsx("span",{children:e}),ie.jsx("span",{className:"text-sm font-medium",children:t}),ie.jsx("div",{className:`w-2 h-2 bg-white rounded-full ${i===o?"visible":"invisible"}`})]});function AO(t){return Nr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function RO(t){return Nr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}var xd={exports:{}},ug,_T;function WA(){return _T||(_T=1,ug=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}}),ug}var cg,wT;function Fn(){if(wT)return cg;wT=1;var t=WA(),e=Object.prototype.toString,n=function(J){return function(le){var te=e.call(le);return J[te]||(J[te]=te.slice(8,-1).toLowerCase())}}(Object.create(null));function r(J){return J=J.toLowerCase(),function(te){return n(te)===J}}function i(J){return Array.isArray(J)}function o(J){return typeof J>"u"}function l(J){return J!==null&&!o(J)&&J.constructor!==null&&!o(J.constructor)&&typeof J.constructor.isBuffer=="function"&&J.constructor.isBuffer(J)}var u=r("ArrayBuffer");function h(J){var le;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?le=ArrayBuffer.isView(J):le=J&&J.buffer&&u(J.buffer),le}function f(J){return typeof J=="string"}function p(J){return typeof J=="number"}function g(J){return J!==null&&typeof J=="object"}function y(J){if(n(J)!=="object")return!1;var le=Object.getPrototypeOf(J);return le===null||le===Object.prototype}var _=r("Date"),T=r("File"),S=r("Blob"),A=r("FileList");function P(J){return e.call(J)==="[object Function]"}function O(J){return g(J)&&P(J.pipe)}function V(J){var le="[object FormData]";return J&&(typeof FormData=="function"&&J instanceof FormData||e.call(J)===le||P(J.toString)&&J.toString()===le)}var L=r("URLSearchParams");function R(J){return J.trim?J.trim():J.replace(/^\s+|\s+$/g,"")}function B(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function k(J,le){if(!(J===null||typeof J>"u"))if(typeof J!="object"&&(J=[J]),i(J))for(var te=0,ve=J.length;te<ve;te++)le.call(null,J[te],te,J);else for(var ce in J)Object.prototype.hasOwnProperty.call(J,ce)&&le.call(null,J[ce],ce,J)}function I(){var J={};function le(ce,H){y(J[H])&&y(ce)?J[H]=I(J[H],ce):y(ce)?J[H]=I({},ce):i(ce)?J[H]=ce.slice():J[H]=ce}for(var te=0,ve=arguments.length;te<ve;te++)k(arguments[te],le);return J}function D(J,le,te){return k(le,function(ce,H){te&&typeof ce=="function"?J[H]=t(ce,te):J[H]=ce}),J}function N(J){return J.charCodeAt(0)===65279&&(J=J.slice(1)),J}function j(J,le,te,ve){J.prototype=Object.create(le.prototype,ve),J.prototype.constructor=J,te&&Object.assign(J.prototype,te)}function F(J,le,te){var ve,ce,H,oe={};le=le||{};do{for(ve=Object.getOwnPropertyNames(J),ce=ve.length;ce-- >0;)H=ve[ce],oe[H]||(le[H]=J[H],oe[H]=!0);J=Object.getPrototypeOf(J)}while(J&&(!te||te(J,le))&&J!==Object.prototype);return le}function M(J,le,te){J=String(J),(te===void 0||te>J.length)&&(te=J.length),te-=le.length;var ve=J.indexOf(le,te);return ve!==-1&&ve===te}function Ve(J){if(!J)return null;var le=J.length;if(o(le))return null;for(var te=new Array(le);le-- >0;)te[le]=J[le];return te}var ue=function(J){return function(le){return J&&le instanceof J}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return cg={isArray:i,isArrayBuffer:u,isBuffer:l,isFormData:V,isArrayBufferView:h,isString:f,isNumber:p,isObject:g,isPlainObject:y,isUndefined:o,isDate:_,isFile:T,isBlob:S,isFunction:P,isStream:O,isURLSearchParams:L,isStandardBrowserEnv:B,forEach:k,merge:I,extend:D,trim:R,stripBOM:N,inherits:j,toFlatObject:F,kindOf:n,kindOfTest:r,endsWith:M,toArray:Ve,isTypedArray:ue,isFileList:A},cg}var hg,ET;function HA(){if(ET)return hg;ET=1;var t=Fn();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return hg=function(r,i,o){if(!i)return r;var l;if(o)l=o(i);else if(t.isURLSearchParams(i))l=i.toString();else{var u=[];t.forEach(i,function(p,g){p===null||typeof p>"u"||(t.isArray(p)?g=g+"[]":p=[p],t.forEach(p,function(_){t.isDate(_)?_=_.toISOString():t.isObject(_)&&(_=JSON.stringify(_)),u.push(e(g)+"="+e(_))}))}),l=u.join("&")}if(l){var h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r},hg}var dg,TT;function CO(){if(TT)return dg;TT=1;var t=Fn();function e(){this.handlers=[]}return e.prototype.use=function(r,i,o){return this.handlers.push({fulfilled:r,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(o){o!==null&&r(o)})},dg=e,dg}var fg,ST;function IO(){if(ST)return fg;ST=1;var t=Fn();return fg=function(n,r){t.forEach(n,function(o,l){l!==r&&l.toUpperCase()===r.toUpperCase()&&(n[r]=o,delete n[l])})},fg}var pg,xT;function Xl(){if(xT)return pg;xT=1;var t=Fn();function e(i,o,l,u,h){Error.call(this),this.message=i,this.name="AxiosError",o&&(this.code=o),l&&(this.config=l),u&&(this.request=u),h&&(this.response=h)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,o,l,u,h,f){var p=Object.create(n);return t.toFlatObject(i,p,function(y){return y!==Error.prototype}),e.call(p,i.message,o,l,u,h),p.name=i.name,f&&Object.assign(p,f),p},pg=e,pg}var mg,AT;function KA(){return AT||(AT=1,mg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),mg}var gg,RT;function GA(){if(RT)return gg;RT=1;var t=Fn();function e(n,r){r=r||new FormData;var i=[];function o(u){return u===null?"":t.isDate(u)?u.toISOString():t.isArrayBuffer(u)||t.isTypedArray(u)?typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function l(u,h){if(t.isPlainObject(u)||t.isArray(u)){if(i.indexOf(u)!==-1)throw Error("Circular reference detected in "+h);i.push(u),t.forEach(u,function(p,g){if(!t.isUndefined(p)){var y=h?h+"."+g:g,_;if(p&&!h&&typeof p=="object"){if(t.endsWith(g,"{}"))p=JSON.stringify(p);else if(t.endsWith(g,"[]")&&(_=t.toArray(p))){_.forEach(function(T){!t.isUndefined(T)&&r.append(y,o(T))});return}}l(p,y)}}),i.pop()}else r.append(h,o(u))}return l(n),r}return gg=e,gg}var yg,CT;function PO(){if(CT)return yg;CT=1;var t=Xl();return yg=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},yg}var vg,IT;function bO(){if(IT)return vg;IT=1;var t=Fn();return vg=t.isStandardBrowserEnv()?function(){return{write:function(r,i,o,l,u,h){var f=[];f.push(r+"="+encodeURIComponent(i)),t.isNumber(o)&&f.push("expires="+new Date(o).toGMTString()),t.isString(l)&&f.push("path="+l),t.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vg}var _g,PT;function kO(){return PT||(PT=1,_g=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),_g}var wg,bT;function DO(){return bT||(bT=1,wg=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),wg}var Eg,kT;function QA(){if(kT)return Eg;kT=1;var t=kO(),e=DO();return Eg=function(r,i){return r&&!t(i)?e(r,i):i},Eg}var Tg,DT;function NO(){if(DT)return Tg;DT=1;var t=Fn(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Tg=function(r){var i={},o,l,u;return r&&t.forEach(r.split(`
`),function(f){if(u=f.indexOf(":"),o=t.trim(f.substr(0,u)).toLowerCase(),l=t.trim(f.substr(u+1)),o){if(i[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([l]):i[o]=i[o]?i[o]+", "+l:l}}),i},Tg}var Sg,NT;function OO(){if(NT)return Sg;NT=1;var t=Fn();return Sg=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(l){var u=l;return n&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(u){var h=t.isString(u)?o(u):u;return h.protocol===i.protocol&&h.host===i.host}}():function(){return function(){return!0}}(),Sg}var xg,OT;function Hf(){if(OT)return xg;OT=1;var t=Xl(),e=Fn();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),xg=n,xg}var Ag,MT;function MO(){return MT||(MT=1,Ag=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Ag}var Rg,VT;function LT(){if(VT)return Rg;VT=1;var t=Fn(),e=PO(),n=bO(),r=HA(),i=QA(),o=NO(),l=OO(),u=KA(),h=Xl(),f=Hf(),p=MO();return Rg=function(y){return new Promise(function(T,S){var A=y.data,P=y.headers,O=y.responseType,V;function L(){y.cancelToken&&y.cancelToken.unsubscribe(V),y.signal&&y.signal.removeEventListener("abort",V)}t.isFormData(A)&&t.isStandardBrowserEnv()&&delete P["Content-Type"];var R=new XMLHttpRequest;if(y.auth){var B=y.auth.username||"",k=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";P.Authorization="Basic "+btoa(B+":"+k)}var I=i(y.baseURL,y.url);R.open(y.method.toUpperCase(),r(I,y.params,y.paramsSerializer),!0),R.timeout=y.timeout;function D(){if(R){var F="getAllResponseHeaders"in R?o(R.getAllResponseHeaders()):null,M=!O||O==="text"||O==="json"?R.responseText:R.response,Ve={data:M,status:R.status,statusText:R.statusText,headers:F,config:y,request:R};e(function(J){T(J),L()},function(J){S(J),L()},Ve),R=null}}if("onloadend"in R?R.onloadend=D:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(D)},R.onabort=function(){R&&(S(new h("Request aborted",h.ECONNABORTED,y,R)),R=null)},R.onerror=function(){S(new h("Network Error",h.ERR_NETWORK,y,R,R)),R=null},R.ontimeout=function(){var M=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded",Ve=y.transitional||u;y.timeoutErrorMessage&&(M=y.timeoutErrorMessage),S(new h(M,Ve.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,y,R)),R=null},t.isStandardBrowserEnv()){var N=(y.withCredentials||l(I))&&y.xsrfCookieName?n.read(y.xsrfCookieName):void 0;N&&(P[y.xsrfHeaderName]=N)}"setRequestHeader"in R&&t.forEach(P,function(M,Ve){typeof A>"u"&&Ve.toLowerCase()==="content-type"?delete P[Ve]:R.setRequestHeader(Ve,M)}),t.isUndefined(y.withCredentials)||(R.withCredentials=!!y.withCredentials),O&&O!=="json"&&(R.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&R.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",y.onUploadProgress),(y.cancelToken||y.signal)&&(V=function(F){R&&(S(!F||F&&F.type?new f:F),R.abort(),R=null)},y.cancelToken&&y.cancelToken.subscribe(V),y.signal&&(y.signal.aborted?V():y.signal.addEventListener("abort",V))),A||(A=null);var j=p(I);if(j&&["http","https","file"].indexOf(j)===-1){S(new h("Unsupported protocol "+j+":",h.ERR_BAD_REQUEST,y));return}R.send(A)})},Rg}var Cg,FT;function VO(){return FT||(FT=1,Cg=null),Cg}var Ig,UT;function Gv(){if(UT)return Ig;UT=1;var t=Fn(),e=IO(),n=Xl(),r=KA(),i=GA(),o={"Content-Type":"application/x-www-form-urlencoded"};function l(p,g){!t.isUndefined(p)&&t.isUndefined(p["Content-Type"])&&(p["Content-Type"]=g)}function u(){var p;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(p=LT()),p}function h(p,g,y){if(t.isString(p))try{return(g||JSON.parse)(p),t.trim(p)}catch(_){if(_.name!=="SyntaxError")throw _}return(0,JSON.stringify)(p)}var f={transitional:r,adapter:u(),transformRequest:[function(g,y){if(e(y,"Accept"),e(y,"Content-Type"),t.isFormData(g)||t.isArrayBuffer(g)||t.isBuffer(g)||t.isStream(g)||t.isFile(g)||t.isBlob(g))return g;if(t.isArrayBufferView(g))return g.buffer;if(t.isURLSearchParams(g))return l(y,"application/x-www-form-urlencoded;charset=utf-8"),g.toString();var _=t.isObject(g),T=y&&y["Content-Type"],S;if((S=t.isFileList(g))||_&&T==="multipart/form-data"){var A=this.env&&this.env.FormData;return i(S?{"files[]":g}:g,A&&new A)}else if(_||T==="application/json")return l(y,"application/json"),h(g);return g}],transformResponse:[function(g){var y=this.transitional||f.transitional,_=y&&y.silentJSONParsing,T=y&&y.forcedJSONParsing,S=!_&&this.responseType==="json";if(S||T&&t.isString(g)&&g.length)try{return JSON.parse(g)}catch(A){if(S)throw A.name==="SyntaxError"?n.from(A,n.ERR_BAD_RESPONSE,this,null,this.response):A}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:VO()},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(g){f.headers[g]={}}),t.forEach(["post","put","patch"],function(g){f.headers[g]=t.merge(o)}),Ig=f,Ig}var Pg,jT;function LO(){if(jT)return Pg;jT=1;var t=Fn(),e=Gv();return Pg=function(r,i,o){var l=this||e;return t.forEach(o,function(h){r=h.call(l,r,i)}),r},Pg}var bg,BT;function YA(){return BT||(BT=1,bg=function(e){return!!(e&&e.__CANCEL__)}),bg}var kg,zT;function FO(){if(zT)return kg;zT=1;var t=Fn(),e=LO(),n=YA(),r=Gv(),i=Hf();function o(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new i}return kg=function(u){o(u),u.headers=u.headers||{},u.data=e.call(u,u.data,u.headers,u.transformRequest),u.headers=t.merge(u.headers.common||{},u.headers[u.method]||{},u.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(p){delete u.headers[p]});var h=u.adapter||r.adapter;return h(u).then(function(p){return o(u),p.data=e.call(u,p.data,p.headers,u.transformResponse),p},function(p){return n(p)||(o(u),p&&p.response&&(p.response.data=e.call(u,p.response.data,p.response.headers,u.transformResponse))),Promise.reject(p)})},kg}var Dg,$T;function ZA(){if($T)return Dg;$T=1;var t=Fn();return Dg=function(n,r){r=r||{};var i={};function o(g,y){return t.isPlainObject(g)&&t.isPlainObject(y)?t.merge(g,y):t.isPlainObject(y)?t.merge({},y):t.isArray(y)?y.slice():y}function l(g){if(t.isUndefined(r[g])){if(!t.isUndefined(n[g]))return o(void 0,n[g])}else return o(n[g],r[g])}function u(g){if(!t.isUndefined(r[g]))return o(void 0,r[g])}function h(g){if(t.isUndefined(r[g])){if(!t.isUndefined(n[g]))return o(void 0,n[g])}else return o(void 0,r[g])}function f(g){if(g in r)return o(n[g],r[g]);if(g in n)return o(void 0,n[g])}var p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:f};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(y){var _=p[y]||l,T=_(y);t.isUndefined(T)&&_!==f||(i[y]=T)}),i},Dg}var Ng,qT;function XA(){return qT||(qT=1,Ng={version:"0.27.2"}),Ng}var Og,WT;function UO(){if(WT)return Og;WT=1;var t=XA().version,e=Xl(),n={};["object","boolean","number","function","string","symbol"].forEach(function(o,l){n[o]=function(h){return typeof h===o||"a"+(l<1?"n ":" ")+o}});var r={};n.transitional=function(l,u,h){function f(p,g){return"[Axios v"+t+"] Transitional option '"+p+"'"+g+(h?". "+h:"")}return function(p,g,y){if(l===!1)throw new e(f(g," has been removed"+(u?" in "+u:"")),e.ERR_DEPRECATED);return u&&!r[g]&&(r[g]=!0,console.warn(f(g," has been deprecated since v"+u+" and will be removed in the near future"))),l?l(p,g,y):!0}};function i(o,l,u){if(typeof o!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var h=Object.keys(o),f=h.length;f-- >0;){var p=h[f],g=l[p];if(g){var y=o[p],_=y===void 0||g(y,p,o);if(_!==!0)throw new e("option "+p+" must be "+_,e.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new e("Unknown option "+p,e.ERR_BAD_OPTION)}}return Og={assertOptions:i,validators:n},Og}var Mg,HT;function jO(){if(HT)return Mg;HT=1;var t=Fn(),e=HA(),n=CO(),r=FO(),i=ZA(),o=QA(),l=UO(),u=l.validators;function h(f){this.defaults=f,this.interceptors={request:new n,response:new n}}return h.prototype.request=function(p,g){typeof p=="string"?(g=g||{},g.url=p):g=p||{},g=i(this.defaults,g),g.method?g.method=g.method.toLowerCase():this.defaults.method?g.method=this.defaults.method.toLowerCase():g.method="get";var y=g.transitional;y!==void 0&&l.assertOptions(y,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var _=[],T=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(g)===!1||(T=T&&B.synchronous,_.unshift(B.fulfilled,B.rejected))});var S=[];this.interceptors.response.forEach(function(B){S.push(B.fulfilled,B.rejected)});var A;if(!T){var P=[r,void 0];for(Array.prototype.unshift.apply(P,_),P=P.concat(S),A=Promise.resolve(g);P.length;)A=A.then(P.shift(),P.shift());return A}for(var O=g;_.length;){var V=_.shift(),L=_.shift();try{O=V(O)}catch(R){L(R);break}}try{A=r(O)}catch(R){return Promise.reject(R)}for(;S.length;)A=A.then(S.shift(),S.shift());return A},h.prototype.getUri=function(p){p=i(this.defaults,p);var g=o(p.baseURL,p.url);return e(g,p.params,p.paramsSerializer)},t.forEach(["delete","get","head","options"],function(p){h.prototype[p]=function(g,y){return this.request(i(y||{},{method:p,url:g,data:(y||{}).data}))}}),t.forEach(["post","put","patch"],function(p){function g(y){return function(T,S,A){return this.request(i(A||{},{method:p,headers:y?{"Content-Type":"multipart/form-data"}:{},url:T,data:S}))}}h.prototype[p]=g(),h.prototype[p+"Form"]=g(!0)}),Mg=h,Mg}var Vg,KT;function BO(){if(KT)return Vg;KT=1;var t=Hf();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(l){r=l});var i=this;this.promise.then(function(o){if(i._listeners){var l,u=i._listeners.length;for(l=0;l<u;l++)i._listeners[l](o);i._listeners=null}}),this.promise.then=function(o){var l,u=new Promise(function(h){i.subscribe(h),l=h}).then(o);return u.cancel=function(){i.unsubscribe(l)},u},n(function(l){i.reason||(i.reason=new t(l),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(l){r=l});return{token:i,cancel:r}},Vg=e,Vg}var Lg,GT;function zO(){return GT||(GT=1,Lg=function(e){return function(r){return e.apply(null,r)}}),Lg}var Fg,QT;function $O(){if(QT)return Fg;QT=1;var t=Fn();return Fg=function(n){return t.isObject(n)&&n.isAxiosError===!0},Fg}var YT;function qO(){if(YT)return xd.exports;YT=1;var t=Fn(),e=WA(),n=jO(),r=ZA(),i=Gv();function o(u){var h=new n(u),f=e(n.prototype.request,h);return t.extend(f,n.prototype,h),t.extend(f,h),f.create=function(g){return o(r(u,g))},f}var l=o(i);return l.Axios=n,l.CanceledError=Hf(),l.CancelToken=BO(),l.isCancel=YA(),l.VERSION=XA().version,l.toFormData=GA(),l.AxiosError=Xl(),l.Cancel=l.CanceledError,l.all=function(h){return Promise.all(h)},l.spread=zO(),l.isAxiosError=$O(),xd.exports=l,xd.exports.default=l,xd.exports}var Ug,ZT;function WO(){return ZT||(ZT=1,Ug=qO()),Ug}WO();var XT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},eR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=o>>2,g=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,_=f&63;h||(_=64,l||(y=64)),r.push(n[p],n[g],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new KO;const y=o<<2|u>>4;if(r.push(y),f!==64){const _=u<<4&240|f>>2;if(r.push(_),g!==64){const T=f<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GO=function(t){const e=JA(t);return eR.encodeByteArray(e,!0)},of=function(t){return GO(t).replace(/\./g,"")},tR=function(t){try{return eR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=()=>QO().__FIREBASE_DEFAULTS__,ZO=()=>{if(typeof process>"u"||typeof XT>"u")return;const t=XT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tR(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return YO()||ZO()||XO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nR=t=>{var e,n;return(n=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JO=t=>{const e=nR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rR=()=>{var t;return(t=Kf())===null||t===void 0?void 0:t.config},iR=t=>{var e;return(e=Kf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[of(JSON.stringify(n)),of(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function rM(){var t;const e=(t=Kf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lM(){return!rM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uM(){try{return typeof indexedDB=="object"}catch{return!1}}function cM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="FirebaseError";class Ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hM,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?dM(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ms(i,u,r)}}function dM(t,e){return t.replace(fM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fM=/\{\$([^}]+)}/g;function pM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function af(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(JT(o)&&JT(l)){if(!af(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mM(t,e){const n=new gM(t,e);return n.subscribe.bind(n)}class gM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jg),i.error===void 0&&(i.error=jg),i.complete===void 0&&(i.complete=jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_M(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _M(t){return t===la?void 0:t}function wM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const TM={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},SM=pt.INFO,xM={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},AM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qv{constructor(e){this.name=e,this._logLevel=SM,this._logHandler=AM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const RM=(t,e)=>e.some(n=>t instanceof n);let e1,t1;function CM(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IM(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sR=new WeakMap,qy=new WeakMap,oR=new WeakMap,Bg=new WeakMap,Yv=new WeakMap;function PM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(_o(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&sR.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}function bM(t){if(qy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});qy.set(t,e)}let Wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kM(t){Wy=t(Wy)}function DM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zg(this),e,...n);return oR.set(r,e.sort?e.sort():[e]),_o(r)}:IM().includes(t)?function(...e){return t.apply(zg(this),e),_o(sR.get(this))}:function(...e){return _o(t.apply(zg(this),e))}}function NM(t){return typeof t=="function"?DM(t):(t instanceof IDBTransaction&&bM(t),RM(t,CM())?new Proxy(t,Wy):t)}function _o(t){if(t instanceof IDBRequest)return PM(t);if(Bg.has(t))return Bg.get(t);const e=NM(t);return e!==t&&(Bg.set(t,e),Yv.set(e,t)),e}const zg=t=>Yv.get(t);function OM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=_o(l);return r&&l.addEventListener("upgradeneeded",h=>{r(_o(l.result),h.oldVersion,h.newVersion,_o(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const MM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],$g=new Map;function n1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MM.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return $g.set(e,o),o}kM(t=>({...t,get:(e,n,r)=>n1(e,n)||t.get(e,n,r),has:(e,n)=>!!n1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hy="@firebase/app",r1="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Qv("@firebase/app"),UM="@firebase/app-compat",jM="@firebase/analytics-compat",BM="@firebase/analytics",zM="@firebase/app-check-compat",$M="@firebase/app-check",qM="@firebase/auth",WM="@firebase/auth-compat",HM="@firebase/database",KM="@firebase/data-connect",GM="@firebase/database-compat",QM="@firebase/functions",YM="@firebase/functions-compat",ZM="@firebase/installations",XM="@firebase/installations-compat",JM="@firebase/messaging",e2="@firebase/messaging-compat",t2="@firebase/performance",n2="@firebase/performance-compat",r2="@firebase/remote-config",i2="@firebase/remote-config-compat",s2="@firebase/storage",o2="@firebase/storage-compat",a2="@firebase/firestore",l2="@firebase/vertexai",u2="@firebase/firestore-compat",c2="firebase",h2="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="[DEFAULT]",d2={[Hy]:"fire-core",[UM]:"fire-core-compat",[BM]:"fire-analytics",[jM]:"fire-analytics-compat",[$M]:"fire-app-check",[zM]:"fire-app-check-compat",[qM]:"fire-auth",[WM]:"fire-auth-compat",[HM]:"fire-rtdb",[KM]:"fire-data-connect",[GM]:"fire-rtdb-compat",[QM]:"fire-fn",[YM]:"fire-fn-compat",[ZM]:"fire-iid",[XM]:"fire-iid-compat",[JM]:"fire-fcm",[e2]:"fire-fcm-compat",[t2]:"fire-perf",[n2]:"fire-perf-compat",[r2]:"fire-rc",[i2]:"fire-rc-compat",[s2]:"fire-gcs",[o2]:"fire-gcs-compat",[a2]:"fire-fst",[u2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[c2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,f2=new Map,Gy=new Map;function i1(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(Gy.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Gy.set(e,t);for(const n of lf.values())i1(n,t);for(const n of f2.values())i1(n,t);return!0}function Zv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ss(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Qc("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=h2;function aR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ky,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wo.create("bad-app-name",{appName:String(i)});if(n||(n=rR()),!n)throw wo.create("no-options");const o=lf.get(i);if(o){if(af(n,o.options)&&af(r,o.config))return o;throw wo.create("duplicate-app",{appName:i})}const l=new EM(i);for(const h of Gy.values())l.addComponent(h);const u=new m2(n,r,l);return lf.set(i,u),u}function lR(t=Ky){const e=lf.get(t);if(!e&&t===Ky&&rR())return aR();if(!e)throw wo.create("no-app",{appName:t});return e}function Eo(t,e,n){var r;let i=(r=d2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(u.join(" "));return}Vl(new xa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="firebase-heartbeat-database",y2=1,gc="firebase-heartbeat-store";let qg=null;function uR(){return qg||(qg=OM(g2,y2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),qg}async function v2(t){try{const n=(await uR()).transaction(gc),r=await n.objectStore(gc).get(cR(t));return await n.done,r}catch(e){if(e instanceof Ms)Ps.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function s1(t,e){try{const r=(await uR()).transaction(gc,"readwrite");await r.objectStore(gc).put(e,cR(t)),await r.done}catch(n){if(n instanceof Ms)Ps.warn(n.message);else{const r=wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function cR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1024,w2=30*24*60*60*1e3;class E2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=o1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=w2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o1(),{heartbeatsToSend:r,unsentEntries:i}=T2(this._heartbeatsCache.heartbeats),o=of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ps.warn(n),""}}}function o1(){return new Date().toISOString().substring(0,10)}function T2(t,e=_2){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),a1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uM()?cM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a1(t){return of(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){Vl(new xa("platform-logger",e=>new LM(e),"PRIVATE")),Vl(new xa("heartbeat",e=>new E2(e),"PRIVATE")),Eo(Hy,r1,t),Eo(Hy,r1,"esm2017"),Eo("fire-js","")}x2("");var A2="firebase",R2="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(A2,R2,"app");var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,hR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function D(){}D.prototype=I.prototype,k.D=I.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(N,j,F){for(var M=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)M[Ve-2]=arguments[Ve];return I.prototype[j].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,D){D||(D=0);var N=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)N[j]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(j=0;16>j;++j)N[j]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=k.g[0],D=k.g[1],j=k.g[2];var F=k.g[3],M=I+(F^D&(j^F))+N[0]+3614090360&4294967295;I=D+(M<<7&4294967295|M>>>25),M=F+(j^I&(D^j))+N[1]+3905402710&4294967295,F=I+(M<<12&4294967295|M>>>20),M=j+(D^F&(I^D))+N[2]+606105819&4294967295,j=F+(M<<17&4294967295|M>>>15),M=D+(I^j&(F^I))+N[3]+3250441966&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(F^D&(j^F))+N[4]+4118548399&4294967295,I=D+(M<<7&4294967295|M>>>25),M=F+(j^I&(D^j))+N[5]+1200080426&4294967295,F=I+(M<<12&4294967295|M>>>20),M=j+(D^F&(I^D))+N[6]+2821735955&4294967295,j=F+(M<<17&4294967295|M>>>15),M=D+(I^j&(F^I))+N[7]+4249261313&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(F^D&(j^F))+N[8]+1770035416&4294967295,I=D+(M<<7&4294967295|M>>>25),M=F+(j^I&(D^j))+N[9]+2336552879&4294967295,F=I+(M<<12&4294967295|M>>>20),M=j+(D^F&(I^D))+N[10]+4294925233&4294967295,j=F+(M<<17&4294967295|M>>>15),M=D+(I^j&(F^I))+N[11]+2304563134&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(F^D&(j^F))+N[12]+1804603682&4294967295,I=D+(M<<7&4294967295|M>>>25),M=F+(j^I&(D^j))+N[13]+4254626195&4294967295,F=I+(M<<12&4294967295|M>>>20),M=j+(D^F&(I^D))+N[14]+2792965006&4294967295,j=F+(M<<17&4294967295|M>>>15),M=D+(I^j&(F^I))+N[15]+1236535329&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(j^F&(D^j))+N[1]+4129170786&4294967295,I=D+(M<<5&4294967295|M>>>27),M=F+(D^j&(I^D))+N[6]+3225465664&4294967295,F=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(F^I))+N[11]+643717713&4294967295,j=F+(M<<14&4294967295|M>>>18),M=D+(F^I&(j^F))+N[0]+3921069994&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^F&(D^j))+N[5]+3593408605&4294967295,I=D+(M<<5&4294967295|M>>>27),M=F+(D^j&(I^D))+N[10]+38016083&4294967295,F=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(F^I))+N[15]+3634488961&4294967295,j=F+(M<<14&4294967295|M>>>18),M=D+(F^I&(j^F))+N[4]+3889429448&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^F&(D^j))+N[9]+568446438&4294967295,I=D+(M<<5&4294967295|M>>>27),M=F+(D^j&(I^D))+N[14]+3275163606&4294967295,F=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(F^I))+N[3]+4107603335&4294967295,j=F+(M<<14&4294967295|M>>>18),M=D+(F^I&(j^F))+N[8]+1163531501&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^F&(D^j))+N[13]+2850285829&4294967295,I=D+(M<<5&4294967295|M>>>27),M=F+(D^j&(I^D))+N[2]+4243563512&4294967295,F=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(F^I))+N[7]+1735328473&4294967295,j=F+(M<<14&4294967295|M>>>18),M=D+(F^I&(j^F))+N[12]+2368359562&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(D^j^F)+N[5]+4294588738&4294967295,I=D+(M<<4&4294967295|M>>>28),M=F+(I^D^j)+N[8]+2272392833&4294967295,F=I+(M<<11&4294967295|M>>>21),M=j+(F^I^D)+N[11]+1839030562&4294967295,j=F+(M<<16&4294967295|M>>>16),M=D+(j^F^I)+N[14]+4259657740&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^F)+N[1]+2763975236&4294967295,I=D+(M<<4&4294967295|M>>>28),M=F+(I^D^j)+N[4]+1272893353&4294967295,F=I+(M<<11&4294967295|M>>>21),M=j+(F^I^D)+N[7]+4139469664&4294967295,j=F+(M<<16&4294967295|M>>>16),M=D+(j^F^I)+N[10]+3200236656&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^F)+N[13]+681279174&4294967295,I=D+(M<<4&4294967295|M>>>28),M=F+(I^D^j)+N[0]+3936430074&4294967295,F=I+(M<<11&4294967295|M>>>21),M=j+(F^I^D)+N[3]+3572445317&4294967295,j=F+(M<<16&4294967295|M>>>16),M=D+(j^F^I)+N[6]+76029189&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^F)+N[9]+3654602809&4294967295,I=D+(M<<4&4294967295|M>>>28),M=F+(I^D^j)+N[12]+3873151461&4294967295,F=I+(M<<11&4294967295|M>>>21),M=j+(F^I^D)+N[15]+530742520&4294967295,j=F+(M<<16&4294967295|M>>>16),M=D+(j^F^I)+N[2]+3299628645&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(j^(D|~F))+N[0]+4096336452&4294967295,I=D+(M<<6&4294967295|M>>>26),M=F+(D^(I|~j))+N[7]+1126891415&4294967295,F=I+(M<<10&4294967295|M>>>22),M=j+(I^(F|~D))+N[14]+2878612391&4294967295,j=F+(M<<15&4294967295|M>>>17),M=D+(F^(j|~I))+N[5]+4237533241&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~F))+N[12]+1700485571&4294967295,I=D+(M<<6&4294967295|M>>>26),M=F+(D^(I|~j))+N[3]+2399980690&4294967295,F=I+(M<<10&4294967295|M>>>22),M=j+(I^(F|~D))+N[10]+4293915773&4294967295,j=F+(M<<15&4294967295|M>>>17),M=D+(F^(j|~I))+N[1]+2240044497&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~F))+N[8]+1873313359&4294967295,I=D+(M<<6&4294967295|M>>>26),M=F+(D^(I|~j))+N[15]+4264355552&4294967295,F=I+(M<<10&4294967295|M>>>22),M=j+(I^(F|~D))+N[6]+2734768916&4294967295,j=F+(M<<15&4294967295|M>>>17),M=D+(F^(j|~I))+N[13]+1309151649&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~F))+N[4]+4149444226&4294967295,I=D+(M<<6&4294967295|M>>>26),M=F+(D^(I|~j))+N[11]+3174756917&4294967295,F=I+(M<<10&4294967295|M>>>22),M=j+(I^(F|~D))+N[2]+718787259&4294967295,j=F+(M<<15&4294967295|M>>>17),M=D+(F^(j|~I))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var D=I-this.blockSize,N=this.B,j=this.h,F=0;F<I;){if(j==0)for(;F<=D;)i(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<I;)if(N[j++]=k.charCodeAt(F++),j==this.blockSize){i(this,N),j=0;break}}else for(;F<I;)if(N[j++]=k[F++],j==this.blockSize){i(this,N),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var D=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=D&255,D/=256;for(this.u(k),k=Array(16),I=D=0;4>I;++I)for(var N=0;32>N;N+=8)k[D++]=this.g[I]>>>N&255;return k};function o(k,I){var D=u;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=I(k)}function l(k,I){this.h=I;for(var D=[],N=!0,j=k.length-1;0<=j;j--){var F=k[j]|0;N&&F==I||(D[j]=F,N=!1)}this.g=D}var u={};function h(k){return-128<=k&&128>k?o(k,function(I){return new l([I|0],0>I?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return g;if(0>k)return A(f(-k));for(var I=[],D=1,N=0;k>=D;N++)I[N]=k/D|0,D*=4294967296;return new l(I,0)}function p(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return A(p(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(I,8)),N=g,j=0;j<k.length;j+=8){var F=Math.min(8,k.length-j),M=parseInt(k.substring(j,j+F),I);8>F?(F=f(Math.pow(I,F)),N=N.j(F).add(f(M))):(N=N.j(D),N=N.add(f(M)))}return N}var g=h(0),y=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-A(this).m();for(var k=0,I=1,D=0;D<this.g.length;D++){var N=this.i(D);k+=(0<=N?N:4294967296+N)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+A(this).toString(k);for(var I=f(Math.pow(k,6)),D=this,N="";;){var j=L(D,I).g;D=P(D,j.j(I));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=j,T(D))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=P(this,k),S(k)?-1:T(k)?0:1};function A(k){for(var I=k.g.length,D=[],N=0;N<I;N++)D[N]=~k.g[N];return new l(D,~k.h).add(y)}t.abs=function(){return S(this)?A(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),D=[],N=0,j=0;j<=I;j++){var F=N+(this.i(j)&65535)+(k.i(j)&65535),M=(F>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);N=M>>>16,F&=65535,M&=65535,D[j]=M<<16|F}return new l(D,D[D.length-1]&-2147483648?-1:0)};function P(k,I){return k.add(A(I))}t.j=function(k){if(T(this)||T(k))return g;if(S(this))return S(k)?A(this).j(A(k)):A(A(this).j(k));if(S(k))return A(this.j(A(k)));if(0>this.l(_)&&0>k.l(_))return f(this.m()*k.m());for(var I=this.g.length+k.g.length,D=[],N=0;N<2*I;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<k.g.length;j++){var F=this.i(N)>>>16,M=this.i(N)&65535,Ve=k.i(j)>>>16,ue=k.i(j)&65535;D[2*N+2*j]+=M*ue,O(D,2*N+2*j),D[2*N+2*j+1]+=F*ue,O(D,2*N+2*j+1),D[2*N+2*j+1]+=M*Ve,O(D,2*N+2*j+1),D[2*N+2*j+2]+=F*Ve,O(D,2*N+2*j+2)}for(N=0;N<I;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=I;N<2*I;N++)D[N]=0;return new l(D,0)};function O(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function V(k,I){this.g=k,this.h=I}function L(k,I){if(T(I))throw Error("division by zero");if(T(k))return new V(g,g);if(S(k))return I=L(A(k),I),new V(A(I.g),A(I.h));if(S(I))return I=L(k,A(I)),new V(A(I.g),I.h);if(30<k.g.length){if(S(k)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var D=y,N=I;0>=N.l(k);)D=R(D),N=R(N);var j=B(D,1),F=B(N,1);for(N=B(N,2),D=B(D,2);!T(N);){var M=F.add(N);0>=M.l(k)&&(j=j.add(D),F=M),N=B(N,1),D=B(D,1)}return I=P(k,j.j(I)),new V(j,I)}for(j=g;0<=k.l(I);){for(D=Math.max(1,Math.floor(k.m()/I.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=f(D),M=F.j(I);S(M)||0<M.l(k);)D-=N,F=f(D),M=F.j(I);T(F)&&(F=y),j=j.add(F),k=P(k,M)}return new V(j,k)}t.A=function(k){return L(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),D=[],N=0;N<I;N++)D[N]=this.i(N)&k.i(N);return new l(D,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),D=[],N=0;N<I;N++)D[N]=this.i(N)|k.i(N);return new l(D,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),D=[],N=0;N<I;N++)D[N]=this.i(N)^k.i(N);return new l(D,this.h^k.h)};function R(k){for(var I=k.g.length+1,D=[],N=0;N<I;N++)D[N]=k.i(N)<<1|k.i(N-1)>>>31;return new l(D,k.h)}function B(k,I){var D=I>>5;I%=32;for(var N=k.g.length-D,j=[],F=0;F<N;F++)j[F]=0<I?k.i(F+D)>>>I|k.i(F+D+1)<<32-I:k.i(F+D);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,va=l}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dR,Qu,fR,Ud,Qy,pR,mR,gR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,x){return d==Array.prototype||d==Object.prototype||(d[w]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var w=0;w<d.length;++w){var x=d[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var x=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var Q=d[b];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],b=x[d],w=w(b),w!=b&&w!=null&&e(x,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var x=0,b=!1,Q={next:function(){if(!b&&x<d.length){var re=x++;return{value:w(re,d[re]),done:!1}}return b=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function f(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function p(d,w,x){return d.call.apply(d.bind,arguments)}function g(d,w,x){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,b),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function y(d,w,x){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function _(d,w){var x=Array.prototype.slice.call(arguments,1);return function(){var b=x.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function T(d,w){function x(){}x.prototype=w.prototype,d.aa=w.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(b,Q,re){for(var xe=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)xe[Dt-2]=arguments[Dt];return w.prototype[Q].apply(b,xe)}}function S(d){const w=d.length;if(0<w){const x=Array(w);for(let b=0;b<w;b++)x[b]=d[b];return x}return[]}function A(d,w){for(let x=1;x<arguments.length;x++){const b=arguments[x];if(h(b)){const Q=d.length||0,re=b.length||0;d.length=Q+re;for(let xe=0;xe<re;xe++)d[Q+xe]=b[xe]}else d.push(b)}}class P{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function O(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function L(d){return L[" "](d),d}L[" "]=function(){};var R=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function B(d,w,x){for(const b in d)w.call(x,d[b],b,d)}function k(d,w){for(const x in d)w.call(void 0,d[x],x,d)}function I(d){const w={};for(const x in d)w[x]=d[x];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,w){let x,b;for(let Q=1;Q<arguments.length;Q++){b=arguments[Q];for(x in b)d[x]=b[x];for(let re=0;re<D.length;re++)x=D[re],Object.prototype.hasOwnProperty.call(b,x)&&(d[x]=b[x])}}function j(d){var w=1;d=d.split(":");const x=[];for(;0<w&&d.length;)x.push(d.shift()),w--;return d.length&&x.push(d.join(":")),x}function F(d){u.setTimeout(()=>{throw d},0)}function M(){var d=ve;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Ve{constructor(){this.h=this.g=null}add(w,x){const b=ue.get();b.set(w,x),this.h?this.h.next=b:this.g=b,this.h=b}}var ue=new P(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,te=!1,ve=new Ve,ce=()=>{const d=u.Promise.resolve(void 0);le=()=>{d.then(H)}};var H=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(x){F(x)}var w=ue;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}te=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};u.addEventListener("test",x,w),u.removeEventListener("test",x,w)}catch{}return d}();function $e(d,w){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(R){e:{try{L(w.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(w=null)}}else x=="mouseover"?w=d.fromElement:x=="mouseout"&&(w=d.toElement);this.relatedTarget=w,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ot[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&$e.aa.h.call(this)}}T($e,de);var ot={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),dt=0;function et(d,w,x,b,Q){this.listener=d,this.proxy=null,this.src=w,this.type=x,this.capture=!!b,this.ha=Q,this.key=++dt,this.da=this.fa=!1}function kt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Zt(d){this.src=d,this.g={},this.h=0}Zt.prototype.add=function(d,w,x,b,Q){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var xe=Xt(d,w,b,Q);return-1<xe?(w=d[xe],x||(w.fa=!1)):(w=new et(w,this.src,re,!!b,Q),w.fa=x,d.push(w)),w};function sr(d,w){var x=w.type;if(x in d.g){var b=d.g[x],Q=Array.prototype.indexOf.call(b,w,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(b,Q,1),re&&(kt(w),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Xt(d,w,x,b){for(var Q=0;Q<d.length;++Q){var re=d[Q];if(!re.da&&re.listener==w&&re.capture==!!x&&re.ha==b)return Q}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),Xi={};function Ji(d,w,x,b,Q){if(Array.isArray(w)){for(var re=0;re<w.length;re++)Ji(d,w[re],x,b,Q);return null}return x=qe(x),d&&d[ct]?d.K(w,x,f(b)?!!b.capture:!!b,Q):Vs(d,w,x,!1,b,Q)}function Vs(d,w,x,b,Q,re){if(!w)throw Error("Invalid event type");var xe=f(Q)?!!Q.capture:!!Q,Dt=_e(d);if(Dt||(d[Or]=Dt=new Zt(d)),x=Dt.add(w,x,b,xe,re),x.proxy)return x;if(b=z(),x.proxy=b,b.src=d,b.listener=x,d.addEventListener)Ge||(Q=xe),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),b,Q);else if(d.attachEvent)d.attachEvent(Ee(w.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return x}function z(){function d(x){return w.call(d.src,d.listener,x)}const w=Te;return d}function X(d,w,x,b,Q){if(Array.isArray(w))for(var re=0;re<w.length;re++)X(d,w[re],x,b,Q);else b=f(b)?!!b.capture:!!b,x=qe(x),d&&d[ct]?(d=d.i,w=String(w).toString(),w in d.g&&(re=d.g[w],x=Xt(re,x,b,Q),-1<x&&(kt(re[x]),Array.prototype.splice.call(re,x,1),re.length==0&&(delete d.g[w],d.h--)))):d&&(d=_e(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Xt(w,x,b,Q)),(x=-1<d?w[d]:null)&&se(x))}function se(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[ct])sr(w.i,d);else{var x=d.type,b=d.proxy;w.removeEventListener?w.removeEventListener(x,b,d.capture):w.detachEvent?w.detachEvent(Ee(x),b):w.addListener&&w.removeListener&&w.removeListener(b),(x=_e(w))?(sr(x,d),x.h==0&&(x.src=null,w[Or]=null)):kt(d)}}}function Ee(d){return d in Xi?Xi[d]:Xi[d]="on"+d}function Te(d,w){if(d.da)d=!0;else{w=new $e(w,this);var x=d.listener,b=d.ha||d.src;d.fa&&se(d),d=x.call(b,w)}return d}function _e(d){return d=d[Or],d instanceof Zt?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(w){return d.handleEvent(w)}),d[Fe])}function Xe(){oe.call(this),this.i=new Zt(this),this.M=this,this.F=null}T(Xe,oe),Xe.prototype[ct]=!0,Xe.prototype.removeEventListener=function(d,w,x,b){X(this,d,w,x,b)};function ut(d,w){var x,b=d.F;if(b)for(x=[];b;b=b.F)x.push(b);if(d=d.M,b=w.type||w,typeof w=="string")w=new de(w,d);else if(w instanceof de)w.target=w.target||d;else{var Q=w;w=new de(b,d),N(w,Q)}if(Q=!0,x)for(var re=x.length-1;0<=re;re--){var xe=w.g=x[re];Q=Jt(xe,b,!0,w)&&Q}if(xe=w.g=d,Q=Jt(xe,b,!0,w)&&Q,Q=Jt(xe,b,!1,w)&&Q,x)for(re=0;re<x.length;re++)xe=w.g=x[re],Q=Jt(xe,b,!1,w)&&Q}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var x=d.g[w],b=0;b<x.length;b++)kt(x[b]);delete d.g[w],d.h--}}this.F=null},Xe.prototype.K=function(d,w,x,b){return this.i.add(String(d),w,!1,x,b)},Xe.prototype.L=function(d,w,x,b){return this.i.add(String(d),w,!0,x,b)};function Jt(d,w,x,b){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,re=0;re<w.length;++re){var xe=w[re];if(xe&&!xe.da&&xe.capture==x){var Dt=xe.listener,pn=xe.ha||xe.src;xe.fa&&sr(d.i,xe),Q=Dt.call(pn,b)!==!1&&Q}}return Q&&!b.defaultPrevented}function es(d,w,x){if(typeof d=="function")x&&(d=y(d,x));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(d,w||0)}function rn(d){d.g=es(()=>{d.g=null,d.i&&(d.i=!1,rn(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class or extends oe{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(d){oe.call(this),this.h=d,this.g={}}T(Mr,oe);var Gr=[];function ts(d){B(d.g,function(w,x){this.g.hasOwnProperty(x)&&se(w)},d),d.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),ts(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=u.JSON.stringify,Ai=u.JSON.parse,Ls=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Yr(){}Yr.prototype.h=null;function Fs(d){return d.h||(d.h=d.i())}function ns(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){de.call(this,"d")}T(Er,de);function Zr(){de.call(this,"c")}T(Zr,de);var Xn={},zo=null;function rs(){return zo=zo||new Xe}Xn.La="serverreachability";function q(d){de.call(this,Xn.La,d)}T(q,de);function G(d){const w=rs();ut(w,new q(w))}Xn.STAT_EVENT="statevent";function ne(d,w){de.call(this,Xn.STAT_EVENT,d),this.stat=w}T(ne,de);function ae(d){const w=rs();ut(w,new ne(w,d))}Xn.Ma="timingevent";function Re(d,w){de.call(this,Xn.Ma,d),this.size=w}T(Re,de);function De(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function We(){this.g=!0}We.prototype.xa=function(){this.g=!1};function Ce(d,w,x,b,Q,re){d.info(function(){if(d.g)if(re)for(var xe="",Dt=re.split("&"),pn=0;pn<Dt.length;pn++){var Et=Dt[pn].split("=");if(1<Et.length){var En=Et[0];Et=Et[1];var un=En.split("_");xe=2<=un.length&&un[1]=="type"?xe+(En+"="+Et+"&"):xe+(En+"=redacted&")}}else xe=null;else xe=re;return"XMLHTTP REQ ("+b+") [attempt "+Q+"]: "+w+`
`+x+`
`+xe})}function Oe(d,w,x,b,Q,re,xe){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+Q+"]: "+w+`
`+x+`
`+re+" "+xe})}function Se(d,w,x,b){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+at(d,x)+(b?" "+b:"")})}function Ye(d,w){d.info(function(){return"TIMEOUT: "+w})}We.prototype.info=function(){};function at(d,w){if(!d.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var b=x[d];if(!(2>b.length)){var Q=b[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var xe=1;xe<Q.length;xe++)Q[xe]=""}}}}return Qr(x)}catch{return w}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},en={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gt;function xt(){}T(xt,Yr),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},gt=new xt;function It(d,w,x,b){this.j=d,this.i=w,this.l=x,this.R=b||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var Jr={},Un={};function Cn(d,w,x){d.L=1,d.v=zs(Tr(w)),d.m=x,d.P=!0,is(d,null)}function is(d,w){d.F=Date.now(),Pt(d),d.A=Tr(d.v);var x=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),qs(x.i,"t",b),d.C=0,x=d.j.J,d.h=new Xr,d.g=Rh(d.j,x?w:null,!d.m),0<d.O&&(d.M=new or(y(d.Y,d,d.g),d.O)),w=d.U,x=d.g,b=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gr[0]=Q.toString()),Q=Gr);for(var re=0;re<Q.length;re++){var xe=Ji(x,Q[re],b||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),G(),Ce(d.i,d.u,d.A,d.l,d.R,d.m)}It.prototype.ca=function(d){d=d.target;const w=this.M;w&&cr(d)==3?w.j():this.Y(d)},It.prototype.Y=function(d){try{if(d==this.g)e:{const un=cr(this.g);var w=this.g.Ba();const Lr=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||un!=4||w==7||(w==8||0>=Lr?G(3):G(2)),wt(this);var x=this.g.Z();this.X=x;t:if(Ri(this)){var b=hu(this.g);d="";var Q=b.length,re=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Lt(this);var xe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(b[w],{stream:!(re&&w==Q-1)});b.length=0,this.h.g+=d,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=x==200,Oe(this.i,this.u,this.A,this.l,this.R,un,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,pn=this.g;if((Dt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Dt)){var Et=Dt;break t}}Et=null}if(x=Et)Se(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,x);else{this.o=!1,this.s=3,ae(12),In(this),Lt(this);break e}}if(this.P){x=!0;let xr;for(;!this.J&&this.C<xe.length;)if(xr=ei(this,xe),xr==Un){un==4&&(this.s=4,ae(14),x=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==Jr){this.s=4,ae(15),Se(this.i,this.l,xe,"[Invalid Chunk]"),x=!1;break}else Se(this.i,this.l,xr,null),ti(this,xr);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||xe.length!=0||this.h.h||(this.s=1,ae(16),x=!1),this.o=this.o&&x,!x)Se(this.i,this.l,xe,"[Invalid Chunked Response]"),In(this),Lt(this);else if(0<xe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),fu(En),En.M=!0,ae(11))}}else Se(this.i,this.l,xe,null),ti(this,xe);un==4&&In(this),this.o&&!this.J&&(un==4?Ga(this.j,this):(this.o=!1,Pt(this)))}else $a(this.g),x==400&&0<xe.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),In(this),Lt(this)}}}catch{}finally{}};function Ri(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ei(d,w){var x=d.C,b=w.indexOf(`
`,x);return b==-1?Un:(x=Number(w.substring(x,b)),isNaN(x)?Jr:(b+=1,b+x>w.length?Un:(w=w.slice(b,b+x),d.C=b+x,w)))}It.prototype.cancel=function(){this.J=!0,In(this)};function Pt(d){d.S=Date.now()+d.I,ss(d,d.I)}function ss(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=De(y(d.ba,d),w)}function wt(d){d.B&&(u.clearTimeout(d.B),d.B=null)}It.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ye(this.i,this.A),this.L!=2&&(G(),ae(17)),In(this),this.s=2,Lt(this)):ss(this,this.S-d)};function Lt(d){d.j.G==0||d.J||Ga(d.j,d)}function In(d){wt(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,ts(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function ti(d,w){try{var x=d.j;if(x.G!=0&&(x.g==d||Jn(x.h,d))){if(!d.K&&Jn(x.h,d)&&x.G==3){try{var b=x.Da.g.parse(w)}catch{b=null}if(Array.isArray(b)&&b.length==3){var Q=b;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Ka(x),oi(x);else break e;Ha(x),ae(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=De(y(x.Za,x),6e3));if(1>=La(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else cs(x,11)}else if((d.K||x.g==d)&&Ka(x),!O(w))for(Q=x.Da.g.parse(w),w=0;w<Q.length;w++){let Et=Q[w];if(x.T=Et[0],Et=Et[1],x.G==2)if(Et[0]=="c"){x.K=Et[1],x.ia=Et[2];const En=Et[3];En!=null&&(x.la=En,x.j.info("VER="+x.la));const un=Et[4];un!=null&&(x.Aa=un,x.j.info("SVER="+x.Aa));const Lr=Et[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(b=1.5*Lr,x.L=b,x.j.info("backChannelRequestTimeoutMs_="+b)),b=x;const xr=d.g;if(xr){const Go=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var re=b.h;re.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(au(re,re.h),re.h=null))}if(b.D){const Ya=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(b.ya=Ya,Mt(b.I,b.D,Ya))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),b=x;var xe=d;if(b.qa=Ah(b,b.J?b.ia:null,b.W),xe.K){fh(b.h,xe);var Dt=xe,pn=b.L;pn&&(Dt.I=pn),Dt.B&&(wt(Dt),Pt(Dt)),b.g=xe}else Ko(b);0<x.i.length&&bi(x)}else Et[0]!="stop"&&Et[0]!="close"||cs(x,7);else x.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?cs(x,7):bn(x):Et[0]!="noop"&&x.l&&x.l.ta(Et),x.v=0)}}G(4)}catch{}}var Ft=class{constructor(d,w){this.g=d,this.map=w}};function lr(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function La(d){return d.h?1:d.g?d.g.size:0}function Jn(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function au(d,w){d.g?d.g.add(w):d.h=w}function fh(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}lr.prototype.cancel=function(){if(this.i=ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ph(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const x of d.g.values())w=w.concat(x.D);return w}return S(d.i)}function Fa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var w=[],x=d.length,b=0;b<x;b++)w.push(d[b]);return w}w=[],x=0;for(b in d)w[x++]=d[b];return w}function Ua(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var w=[];d=d.length;for(var x=0;x<d;x++)w.push(x);return w}w=[],x=0;for(const b in d)w[x++]=b;return w}}}function Us(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var x=Ua(d),b=Fa(d),Q=b.length,re=0;re<Q;re++)w.call(void 0,b[re],x&&x[re],d)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ip(d,w){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var b=d[x].indexOf("="),Q=null;if(0<=b){var re=d[x].substring(0,b);Q=d[x].substring(b+1)}else re=d[x];w(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function os(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof os){this.h=d.h,qo(this,d.j),this.o=d.o,this.g=d.g,js(this,d.s),this.l=d.l;var w=d.i,x=new Ci;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),Bs(this,x),this.m=d.m}else d&&(w=String(d).match($o))?(this.h=!1,qo(this,w[1]||"",!0),this.o=yt(w[2]||""),this.g=yt(w[3]||"",!0),js(this,w[4]),this.l=yt(w[5]||"",!0),Bs(this,w[6]||"",!0),this.m=yt(w[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}os.prototype.toString=function(){var d=[],w=this.j;w&&d.push($s(w,ja,!0),":");var x=this.g;return(x||w=="file")&&(d.push("//"),(w=this.o)&&d.push($s(w,ja,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push($s(x,x.charAt(0)=="/"?yh:gh,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",$s(x,lu)),d.join("")};function Tr(d){return new os(d)}function qo(d,w,x){d.j=x?yt(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function js(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Bs(d,w,x){w instanceof Ci?(d.i=w,Ii(d.i,d.h)):(x||(w=$s(w,vh)),d.i=new Ci(w,d.h))}function Mt(d,w,x){d.i.set(w,x)}function zs(d){return Mt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function yt(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $s(d,w,x){return typeof d=="string"?(d=encodeURI(d).replace(w,mh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function mh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ja=/[#\/\?@]/g,gh=/[#\?:]/g,yh=/[#\?]/g,vh=/[#\?@]/g,lu=/#/g;function Ci(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Pn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ip(d.i,function(w,x){d.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Ci.prototype,t.add=function(d,w){Pn(this),this.i=null,d=Vr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(w),this.h+=1,this};function ni(d,w){Pn(d),w=Vr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ri(d,w){return Pn(d),w=Vr(d,w),d.g.has(w)}t.forEach=function(d,w){Pn(this),this.g.forEach(function(x,b){x.forEach(function(Q){d.call(w,Q,b,this)},this)},this)},t.na=function(){Pn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let b=0;b<w.length;b++){const Q=d[b];for(let re=0;re<Q.length;re++)x.push(w[b])}return x},t.V=function(d){Pn(this);let w=[];if(typeof d=="string")ri(this,d)&&(w=w.concat(this.g.get(Vr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)w=w.concat(d[x])}return w},t.set=function(d,w){return Pn(this),this.i=null,d=Vr(this,d),ri(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function qs(d,w,x){ni(d,w),0<x.length&&(d.i=null,d.g.set(Vr(d,w),S(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var b=w[x];const re=encodeURIComponent(String(b)),xe=this.V(b);for(b=0;b<xe.length;b++){var Q=re;xe[b]!==""&&(Q+="="+encodeURIComponent(String(xe[b]))),d.push(Q)}}return this.i=d.join("&")};function Vr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ii(d,w){w&&!d.j&&(Pn(d),d.i=null,d.g.forEach(function(x,b){var Q=b.toLowerCase();b!=Q&&(ni(this,b),qs(this,Q,x))},d)),d.j=w}function Pp(d,w){const x=new We;if(u.Image){const b=new Image;b.onload=_(ur,x,"TestLoadImage: loaded",!0,w,b),b.onerror=_(ur,x,"TestLoadImage: error",!1,w,b),b.onabort=_(ur,x,"TestLoadImage: abort",!1,w,b),b.ontimeout=_(ur,x,"TestLoadImage: timeout",!1,w,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else w(!1)}function _h(d,w){const x=new We,b=new AbortController,Q=setTimeout(()=>{b.abort(),ur(x,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:b.signal}).then(re=>{clearTimeout(Q),re.ok?ur(x,"TestPingServer: ok",!0,w):ur(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),ur(x,"TestPingServer: error",!1,w)})}function ur(d,w,x,b,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),b(x)}catch{}}function bp(){this.g=new Ls}function wh(d,w,x){const b=x||"";try{Us(d,function(Q,re){let xe=Q;f(Q)&&(xe=Qr(Q)),w.push(b+re+"="+encodeURIComponent(xe))})}catch(Q){throw w.push(b+"type="+encodeURIComponent("_badmap")),Q}}function as(d){this.l=d.Ub||null,this.j=d.eb||!1}T(as,Yr),as.prototype.g=function(){return new Wo(this.l,this.j)},as.prototype.i=function(d){return function(){return d}}({});function Wo(d,w){Xe.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Wo,Xe),t=Wo.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,si(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?ii(this):si(this),this.readyState==3&&Eh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ii(this))},t.Qa=function(d){this.g&&(this.response=d,ii(this))},t.ga=function(){this.g&&ii(this)};function ii(d){d.readyState=4,d.l=null,d.j=null,d.v=null,si(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=w.next();return d.join(`\r
`)};function si(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ls(d){let w="";return B(d,function(x,b){w+=b,w+=":",w+=x,w+=`\r
`}),w}function Ws(d,w,x){e:{for(b in x){var b=!1;break e}b=!0}b||(x=ls(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Mt(d,w,x))}function $t(d){Xe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T($t,Xe);var kp=/^https?$/i,uu=["POST","PUT"];t=$t.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,x,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gt.g(),this.v=this.o?Fs(this.o):Fs(gt),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(re){Ho(this,re);return}if(d=x||"",x=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var Q in b)x.set(Q,b[Q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const re of b.keys())x.set(re,b.get(re));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(x.keys()).find(re=>re.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(uu,w,void 0))||b||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of x)this.g.setRequestHeader(re,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){Ho(this,re)}};function Ho(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Ba(d),Sr(d)}function Ba(d){d.A||(d.A=!0,ut(d,"complete"),ut(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ut(this,"complete"),ut(this,"abort"),Sr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cu(this):this.bb())},t.bb=function(){cu(this)};function cu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||cr(d)!=4||d.Z()!=2)){if(d.u&&cr(d)==4)es(d.Ea,0,d);else if(ut(d,"readystatechange"),cr(d)==4){d.h=!1;try{const xe=d.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var b;if(b=xe===0){var Q=String(d.D).match($o)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),b=!kp.test(Q?Q.toLowerCase():"")}x=b}if(x)ut(d,"complete"),ut(d,"success");else{d.m=6;try{var re=2<cr(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",Ba(d)}}finally{Sr(d)}}}}function Sr(d,w){if(d.g){za(d);const x=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ut(d,"ready");try{x.onreadystatechange=b}catch{}}}function za(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function cr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Ai(w)}};function hu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(d){const w={};d=(d.g&&2<=cr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(O(d[b]))continue;var x=j(d[b]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const re=w[Q]||[];w[Q]=re,re.push(x)}k(w,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(d,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||w}function du(d){this.Aa=0,this.i=[],this.j=new We,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,d),this.cb=Pi("retryDelaySeedMs",1e4,d),this.Wa=Pi("forwardChannelMaxRetries",2,d),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(d&&d.concurrentRequestLimit),this.Da=new bp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=du.prototype,t.la=8,t.G=1,t.connect=function(d,w,x,b){ae(0),this.W=d,this.H=w||{},x&&b!==void 0&&(this.H.OSID=x,this.H.OAID=b),this.F=this.X,this.I=Ah(this,null,this.W),bi(this)};function bn(d){if(qa(d),d.G==3){var w=d.U++,x=Tr(d.I);if(Mt(x,"SID",d.K),Mt(x,"RID",w),Mt(x,"TYPE","terminate"),us(d,x),w=new It(d,d.j,w),w.L=2,w.v=zs(Tr(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=w.v,x=!0),x||(w.g=Rh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Pt(w)}xh(d)}function oi(d){d.g&&(fu(d),d.g.cancel(),d.g=null)}function qa(d){oi(d),d.u&&(u.clearTimeout(d.u),d.u=null),Ka(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function bi(d){if(!jn(d.h)&&!d.s){d.s=!0;var w=d.Ga;le||ce(),te||(le(),te=!0),ve.add(w,d),d.B=0}}function Dp(d,w){return La(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=De(y(d.Ga,d,w),Sh(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new It(this,this.j,d);let re=this.o;if(this.S&&(re?(re=I(re),N(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var b=this.i[x];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(w+=b,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Hs(this,Q,w),x=Tr(this.I),Mt(x,"RID",d),Mt(x,"CVER",22),this.D&&Mt(x,"X-HTTP-Session-Id",this.D),us(this,x),re&&(this.O?w="headers="+encodeURIComponent(String(ls(re)))+"&"+w:this.m&&Ws(x,this.m,re)),au(this.h,Q),this.Ua&&Mt(x,"TYPE","init"),this.P?(Mt(x,"$req",w),Mt(x,"SID","null"),Q.T=!0,Cn(Q,x,null)):Cn(Q,x,w),this.G=2}}else this.G==3&&(d?Wa(this,d):this.i.length==0||jn(this.h)||Wa(this))};function Wa(d,w){var x;w?x=w.l:x=d.U++;const b=Tr(d.I);Mt(b,"SID",d.K),Mt(b,"RID",x),Mt(b,"AID",d.T),us(d,b),d.m&&d.o&&Ws(b,d.m,d.o),x=new It(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Hs(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),au(d.h,x),Cn(x,b,w)}function us(d,w){d.H&&B(d.H,function(x,b){Mt(w,b,x)}),d.l&&Us({},function(x,b){Mt(w,b,x)})}function Hs(d,w,x){x=Math.min(d.i.length,x);var b=d.l?y(d.l.Na,d.l,d):null;e:{var Q=d.i;let re=-1;for(;;){const xe=["count="+x];re==-1?0<x?(re=Q[0].g,xe.push("ofs="+re)):re=0:xe.push("ofs="+re);let Dt=!0;for(let pn=0;pn<x;pn++){let Et=Q[pn].g;const En=Q[pn].map;if(Et-=re,0>Et)re=Math.max(0,Q[pn].g-100),Dt=!1;else try{wh(En,xe,"req"+Et+"_")}catch{b&&b(En)}}if(Dt){b=xe.join("&");break e}}}return d=d.i.splice(0,x),w.D=d,b}function Ko(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;le||ce(),te||(le(),te=!0),ve.add(w,d),d.v=0}}function Ha(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=De(y(d.Fa,d),Sh(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=De(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),oi(this),Th(this))};function fu(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Th(d){d.g=new It(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Tr(d.qa);Mt(w,"RID","rpc"),Mt(w,"SID",d.K),Mt(w,"AID",d.T),Mt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Mt(w,"TO",d.ja),Mt(w,"TYPE","xmlhttp"),us(d,w),d.m&&d.o&&Ws(w,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=zs(Tr(w)),x.m=null,x.P=!0,is(x,d)}t.Za=function(){this.C!=null&&(this.C=null,oi(this),Ha(this),ae(19))};function Ka(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Ga(d,w){var x=null;if(d.g==w){Ka(d),fu(d),d.g=null;var b=2}else if(Jn(d.h,w))x=w.D,fh(d.h,w),b=1;else return;if(d.G!=0){if(w.o)if(b==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;b=rs(),ut(b,new Re(b,x)),bi(d)}else Ko(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(b==1&&Dp(d,w)||b==2&&Ha(d)))switch(x&&0<x.length&&(w=d.h,w.i=w.i.concat(x)),Q){case 1:cs(d,5);break;case 4:cs(d,10);break;case 3:cs(d,6);break;default:cs(d,2)}}}function Sh(d,w){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*w}function cs(d,w){if(d.j.info("Error code "+w),w==2){var x=y(d.fb,d),b=d.Xa;const Q=!b;b=new os(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qo(b,"https"),zs(b),Q?Pp(b.toString(),x):_h(b.toString(),x)}else ae(2);d.G=0,d.l&&d.l.sa(w),xh(d),qa(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function xh(d){if(d.G=0,d.ka=[],d.l){const w=ph(d.h);(w.length!=0||d.i.length!=0)&&(A(d.ka,w),A(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function Ah(d,w,x){var b=x instanceof os?Tr(x):new os(x);if(b.g!="")w&&(b.g=w+"."+b.g),js(b,b.s);else{var Q=u.location;b=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new os(null);b&&qo(re,b),w&&(re.g=w),Q&&js(re,Q),x&&(re.l=x),b=re}return x=d.D,w=d.ya,x&&w&&Mt(b,x,w),Mt(b,"VER",d.la),us(d,b),b}function Rh(d,w,x){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new $t(new as({eb:x})):new $t(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}t=pu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(d,w){return new er(d,w)};function er(d,w){Xe.call(this),this.g=new du(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!O(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new ki(this)}T(er,Xe),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){bn(this.g)},er.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Qr(d),d=x);w.i.push(new Ft(w.Ya++,d)),w.G==3&&bi(w)},er.prototype.N=function(){this.g.l=null,delete this.j,bn(this.g),delete this.g,er.aa.N.call(this)};function Ch(d){Er.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const x in w){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}T(Ch,Er);function Ih(){Zr.call(this),this.status=1}T(Ih,Zr);function ki(d){this.g=d}T(ki,pu),ki.prototype.ua=function(){ut(this.g,"a")},ki.prototype.ta=function(d){ut(this.g,new Ch(d))},ki.prototype.sa=function(d){ut(this.g,new Ih)},ki.prototype.ra=function(){ut(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,gR=function(){return new Qa},mR=function(){return rs()},pR=Xn,Qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,Ud=Ct,en.COMPLETE="complete",fR=en,ns.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Qu=ns,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,dR=$t}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const u1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Qv("@firebase/firestore");function wl(){return Aa.logLevel}function be(t,...e){if(Aa.logLevel<=pt.DEBUG){const n=e.map(Xv);Aa.debug(`Firestore (${eu}): ${t}`,...n)}}function bs(t,...e){if(Aa.logLevel<=pt.ERROR){const n=e.map(Xv);Aa.error(`Firestore (${eu}): ${t}`,...n)}}function Ll(t,...e){if(Aa.logLevel<=pt.WARN){const n=e.map(Xv);Aa.warn(`Firestore (${eu}): ${t}`,...n)}}function Xv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+t;throw bs(e),new Error(e)}function bt(t,e){t||nt()}function st(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class I2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _a,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _a)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new yR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new Kn(e)}}class b2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class k2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){bt(this.o===void 0);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string"),this.R=n.token,new D2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=O2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new _n(0,0))}static max(){return new it(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(),r===void 0?r=e.length-n:r>e.length-n&&nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),l=n.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends yc{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends yc{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return M2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Me(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Me(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Me(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Bt.fromString(e))}static fromName(e){return new ze(Bt.fromString(e).popFirst(5))}static empty(){return new ze(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Bt(e.slice()))}}function V2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new _n(n+1,0):new _n(n,r));return new Co(i,ze.empty(),e)}function L2(t){return new Co(t.readTime,t.key,-1)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(it.min(),ze.empty(),-1)}static max(){return new Co(it.max(),ze.empty(),-1)}}function F2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==U2)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},h=>r(h))}),l=!0,o===i&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(i=>i?he.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new he((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++u,u===o&&r(l)},p=>i(p))}})}static doWhile(e,n){return new he((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function B2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gf.oe=-1;function Qf(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function z2(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c1(e)),e=q2(t.get(n),e);return c1(e)}function q2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function c1(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??On.RED,this.left=i??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new On(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d1(this.data.getIterator())}getIteratorFrom(e){return new d1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class d1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new wn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wR("Invalid base64 string: "+o):o}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(bt(!!t),typeof t=="string"){let e=0;const n=W2.exec(t);if(bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yf(t){const e=t.mapValue.fields.__previous_value__;return Jv(e)?Yf(e):e}function vc(t){const e=Io(t.mapValue.fields.__local_write_time__.timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,o,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}class _c{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:G2(t)?9007199254740991:K2(t)?10:11:nt()}function Hi(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Io(i.timestampValue),u=Io(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Po(i.bytesValue).isEqual(Po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return an(i.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return an(i.integerValue)===an(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=an(i.doubleValue),u=an(o.doubleValue);return l===u?uf(l)===uf(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(h1(l)!==h1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Hi(l[h],u[h])))return!1;return!0}(t,e);default:return nt()}}function wc(t,e){return(t.values||[]).find(n=>Hi(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=an(o.integerValue||o.doubleValue),h=an(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return f1(t.timestampValue,e.timestampValue);case 4:return f1(vc(t),vc(e));case 5:return vt(t.stringValue,e.stringValue);case 6:return function(o,l){const u=Po(o),h=Po(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=vt(u[f],h[f]);if(p!==0)return p}return vt(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=vt(an(o.latitude),an(l.latitude));return u!==0?u:vt(an(o.longitude),an(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,f,p;const g=o.fields||{},y=l.fields||{},_=(u=g.value)===null||u===void 0?void 0:u.arrayValue,T=(h=y.value)===null||h===void 0?void 0:h.arrayValue,S=vt(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:p1(_,T)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Cd.mapValue&&l===Cd.mapValue)return 0;if(o===Cd.mapValue)return 1;if(l===Cd.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const y=vt(h[g],p[g]);if(y!==0)return y;const _=Ul(u[h[g]],f[p[g]]);if(_!==0)return _}return vt(h.length,p.length)}(t.mapValue,e.mapValue);default:throw nt()}}function f1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=Io(t),r=Io(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function p1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ul(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function jl(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Yy(n.fields[l])}`;return i+"}"}(t.mapValue):nt()}function jd(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(t);return e?16+jd(e):16;case 5:return 2*t.stringValue.length;case 6:return Po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Uo(r.fields,(o,l)=>{i+=o.length+jd(l)}),i}(t.mapValue);default:throw nt()}}function m1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zy(t){return!!t&&"integerValue"in t}function e0(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function K2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=ic(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new _r(ic(this.value))}}function ER(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new Mn([n]);if(Bd(r)){const o=ER(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Gn(e,0,it.min(),it.min(),it.min(),_r.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,it.min(),it.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,it.min(),it.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(l.referenceValue),n.key):r=Ul(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{}class fn extends TR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z2(e,n,r):n==="array-contains"?new eV(e,r):n==="in"?new tV(e,r):n==="not-in"?new nV(e,r):n==="array-contains-any"?new rV(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X2(e,r):new J2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends TR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ti(e,n)}matches(e){return SR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SR(t){return t.op==="and"}function xR(t){return Y2(t)&&SR(t)}function Y2(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function Xy(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(xR(t))return t.filters.map(e=>Xy(e)).join(",");{const e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function AR(t,e){return t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)}(t,e):t instanceof Ti?function(r,i){return i instanceof Ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&AR(l,i.filters[u]),!0):!1}(t,e):void nt()}function RR(t){return t instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(RR).join(" ,")+"}"}(t):"Filter"}class Z2 extends fn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends fn{constructor(e,n){super(e,"in",n),this.keys=CR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J2 extends fn{constructor(e,n){super(e,"not-in",n),this.keys=CR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class eV extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e0(n)&&wc(n.arrayValue,this.value)}}class tV extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class nV extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wc(this.value.arrayValue,n)}}class rV extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function w1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new iV(t,e,n,r,i,o,l)}function t0(t){const e=st(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ue=n}return e.ue}function n0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function Jy(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sV(t,e,n,r,i,o,l,u){return new ru(t,e,n,r,i,o,l,u)}function r0(t){return new ru(t)}function E1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IR(t){return t.collectionGroup!==null}function sc(t){const e=st(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wn(Mn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ec(o,r))}),n.has(Mn.keyField().canonicalString())||e.ce.push(new Ec(Mn.keyField(),r))}return e.ce}function ji(t){const e=st(t);return e.le||(e.le=oV(e,sc(t))),e.le}function oV(t,e){if(t.limitType==="F")return w1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ec(i.field,o)});const n=t.endAt?new cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cf(t.startAt.position,t.startAt.inclusive):null;return w1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tv(t,e,n){return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zf(t,e){return n0(ji(t),ji(e))&&t.limitType===e.limitType}function PR(t){return`${t0(ji(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RR(i)).join(", ")}]`),Qf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(ji(t))}; limitType=${t.limitType})`}function Xf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const f=v1(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,sc(r),i)||r.endAt&&!function(l,u,h){const f=v1(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,sc(r),i))}(t,e)}function aV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bR(t){return(e,n)=>{let r=!1;for(const i of sc(t)){const o=lV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lV(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Ul(h,f):nt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _R(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Yt(ze.comparator);function ks(){return uV}const kR=new Yt(ze.comparator);function Yu(...t){let e=kR;for(const n of t)e=e.insert(n.key,n);return e}function DR(t){let e=kR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pa(){return oc()}function NR(){return oc()}function oc(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const cV=new Yt(ze.comparator),hV=new wn(ze.comparator);function mt(...t){let e=hV;for(const n of t)e=e.add(n);return e}const dV=new wn(vt);function fV(){return dV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function OR(t){return{integerValue:""+t}}function pV(t,e){return z2(e)?OR(e):i0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function mV(t,e,n){return t instanceof Tc?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jv(o)&&(o=Yf(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Sc?VR(t,e):t instanceof xc?LR(t,e):function(i,o){const l=MR(i,o),u=T1(l)+T1(i.Pe);return Zy(l)&&Zy(i.Pe)?OR(u):i0(i.serializer,u)}(t,e)}function gV(t,e,n){return t instanceof Sc?VR(t,e):t instanceof xc?LR(t,e):n}function MR(t,e){return t instanceof hf?function(r){return Zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Tc extends Jf{}class Sc extends Jf{constructor(e){super(),this.elements=e}}function VR(t,e){const n=FR(e);for(const r of t.elements)n.some(i=>Hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class xc extends Jf{constructor(e){super(),this.elements=e}}function LR(t,e){let n=FR(e);for(const r of t.elements)n=n.filter(i=>!Hi(i,r));return{arrayValue:{values:n}}}class hf extends Jf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function T1(t){return an(t.integerValue||t.doubleValue)}function FR(t){return e0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.field=e,this.transform=n}}function vV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sc&&i instanceof Sc||r instanceof xc&&i instanceof xc?Fl(r.elements,i.elements,Hi):r instanceof hf&&i instanceof hf?Hi(r.Pe,i.Pe):r instanceof Tc&&i instanceof Tc}(t.transform,e.transform)}class _V{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ep{}function UR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s0(t.key,vi.none()):new Zc(t.key,t.data,vi.none());{const n=t.data,r=_r.empty();let i=new wn(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new jo(t.key,r,new Pr(i.toArray()),vi.none())}}function wV(t,e,n){t instanceof Zc?function(i,o,l){const u=i.value.clone(),h=x1(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof jo?function(i,o,l){if(!zd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=x1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(jR(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Zc?function(o,l,u,h){if(!zd(o.precondition,l))return u;const f=o.value.clone(),p=A1(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof jo?function(o,l,u,h){if(!zd(o.precondition,l))return u;const f=A1(o.fieldTransforms,h,l),p=l.data;return p.setAll(jR(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,l,u){return zd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function EV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MR(r.transform,i||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function S1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(o,l)=>vV(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zc extends ep{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends ep{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x1(t,e,n){const r=new Map;bt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,gV(l,u,n[i]))}return r}function A1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,mV(o,l,e))}return r}class s0 extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TV extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NR();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const h=UR(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>S1(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>S1(n,r))}}class o0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length);let i=function(){return cV}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new o0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,Tt;function RV(t){switch(t){default:return nt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function BR(t){if(t===void 0)return bs("GRPC error has no .code"),fe.UNKNOWN;switch(t){case hn.OK:return fe.OK;case hn.CANCELLED:return fe.CANCELLED;case hn.UNKNOWN:return fe.UNKNOWN;case hn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case hn.INTERNAL:return fe.INTERNAL;case hn.UNAVAILABLE:return fe.UNAVAILABLE;case hn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case hn.NOT_FOUND:return fe.NOT_FOUND;case hn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case hn.ABORTED:return fe.ABORTED;case hn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case hn.DATA_LOSS:return fe.DATA_LOSS;default:return nt()}}(Tt=hn||(hn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new va([4294967295,4294967295],0);function R1(t){const e=CV().encode(t),n=new hR;return n.update(e),new Uint8Array(n.digest())}function C1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new va([n,r],0),new va([i,o],0)]}class a0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=va.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(IV)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=R1(e),[r,i]=C1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new a0(o,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const n=R1(e),[r,i]=C1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tp(it.min(),i,new Yt(vt),ks(),mt())}}class Xc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xc(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zR{constructor(e,n){this.targetId=e,this.me=n}}class $R{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I1{constructor(){this.fe=0,this.ge=P1(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mt(),n=mt(),r=mt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new Xc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=P1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PV{constructor(e){this.Le=e,this.Be=new Map,this.ke=ks(),this.qe=Id(),this.Qe=Id(),this.Ke=new Yt(vt)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(Jy(o))if(r===0){const l=new ze(o.path);this.We(n,l,Gn.newNoDocument(l,it.min()))}else bt(r===1);else{const l=this.Ze(n);if(l!==r){const u=this.Xe(e),h=u?this.et(u,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=Po(r).toUint8Array()}catch(h){if(h instanceof wR)return Ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new a0(l,i,o)}catch(h){return Ll(h instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Te===0?null:u}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.Le.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&Jy(u.target)){const h=new ze(u.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,Gn.newNoDocument(h,e))}o.be&&(n.set(l,o.ve()),o.Ce())}});let r=mt();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new tp(e,n,this.Ke,this.ke,r);return this.ke=ks(),this.qe=Id(),this.Qe=Id(),this.Ke=new Yt(vt),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new I1,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new wn(vt),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wn(vt),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new I1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Id(){return new Yt(ze.comparator)}function P1(){return new Yt(ze.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},kV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DV={and:"AND",or:"OR"};class NV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OV(t,e){return df(t,e.toTimestamp())}function Bi(t){return bt(!!t),it.fromTimestamp(function(n){const r=Io(n);return new _n(r.seconds,r.nanos)}(t))}function l0(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WR(t){const e=Bt.fromString(t);return bt(YR(e)),e}function iv(t,e){return l0(t.databaseId,e.path)}function Wg(t,e){const n=WR(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(KR(n))}function HR(t,e){return l0(t.databaseId,e)}function MV(t){const e=WR(t);return e.length===4?Bt.emptyPath():KR(e)}function sv(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KR(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b1(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function VV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(bt(p===void 0||typeof p=="string"),Ln.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ln.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?fe.UNKNOWN:BR(f.code);return new Me(p,f.message||"")}(l);n=new $R(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wg(t,r.document.name),o=Bi(r.document.updateTime),l=r.document.createTime?Bi(r.document.createTime):it.min(),u=new _r({mapValue:{fields:r.document.fields}}),h=Gn.newFoundDocument(i,o,l,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new $d(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wg(t,r.document),o=r.readTime?Bi(r.readTime):it.min(),l=Gn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new $d([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wg(t,r.document),o=r.removedTargetIds||[];n=new $d([],o,i,null)}else{if(!("filter"in e))return nt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new AV(i,o),u=r.targetId;n=new zR(u,l)}}return n}function LV(t,e){let n;if(e instanceof Zc)n={update:b1(t,e.key,e.value)};else if(e instanceof s0)n={delete:iv(t,e.key)};else if(e instanceof jo)n={update:b1(t,e.key,e.data),updateMask:HV(e.fieldMask)};else{if(!(e instanceof TV))return nt();n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Tc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hf)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw nt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:OV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt()}(t,e.precondition)),n}function FV(t,e){return t&&t.length>0?(bt(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?Bi(i.updateTime):Bi(o);return l.isEqual(it.min())&&(l=Bi(o)),new _V(l,i.transformResults||[])}(n,e))):[]}function UV(t,e){return{documents:[HR(t,e.path)]}}function jV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HR(t,i);const o=function(f){if(f.length!==0)return QR(Ti.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Tl(y.field),direction:$V(y.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=nv(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:n,parent:i}}function BV(t){let e=MV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){const y=GR(g);return y instanceof Ti&&xR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(T){return new Ec(Sl(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Qf(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,_=g.values||[];return new cf(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,_=g.values||[];return new cf(_,y)}(n.endAt)),sV(e,i,l,o,u,"F",h,f)}function zV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sl(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return fn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sl(n.unaryFilter.field);return fn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(t):t.fieldFilter!==void 0?function(n){return fn.create(Sl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>GR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt()}}(n.compositeFilter.op))}(t):nt()}function $V(t){return bV[t]}function qV(t){return kV[t]}function WV(t){return DV[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return Mn.fromServerFormat(t.fieldPath)}function QR(t){return t instanceof fn?function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:qV(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(i=>QR(i));return r.length===1?r[0]:{compositeFilter:{op:WV(n.op),filters:r}}}(t):nt()}function HV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,o=it.min(),l=it.min(),u=Ln.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.ht=e}}function GV(t){const e=BV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.ln=new YV}addToCollectionParentIndex(e,n){return this.ln.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Co.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class YV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(Bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bl(0)}static Qn(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class ZV{constructor(e){this.Gn=e,this.buffer=new wn(D1),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();D1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nu(n)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Yn(3e5)})}}class JV{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Gf.oe);const r=new ZV(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(k1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),wl()<=pt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function eL(t,e){return new JV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Pr.empty(),_n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const i=pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Yu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=ks();const l=oc(),u=function(){return oc()}();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof jo)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),ac(p.mutation,f,p.mutation.getFieldMask(),_n.now())):l.set(f.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var g;return u.set(f,new nL(p,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=oc();let i=new Yt((l,u)=>l-u),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Pr.empty();p=u.applyToLocalView(f,p),r.set(h,p);const g=(i.get(u.batchId)||mt()).add(h);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,g=NR();p.forEach(y=>{if(!o.has(y)){const _=UR(n.get(y),r.get(y));_!==null&&g.set(y,_),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return ze.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):he.resolve(pa());let u=-1,h=o;return l.next(f=>he.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,mt())).next(p=>({batchId:u,changes:DR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=Yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Yu();return this.indexManager.getCollectionParents(e,o).next(u=>he.forEach(u,h=>{const f=function(g,y){return new ru(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Gn.newInvalidDocument(p)))});let u=Yu();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&ac(p.mutation,f,Pr.empty(),_n.now()),Xf(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return he.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:GV(i.bundledQuery),readTime:Bi(i.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new Yt(ze.comparator),this.Er=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return he.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=pa(),o=n.length+1,l=new ze(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=o.get(f.largestBatchId);p===null&&(p=pa(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=pa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return he.resolve(u)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new xV(n,r));let o=this.Er.get(n);o===void 0&&(o=mt(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.dr=new wn(An.Ar),this.Rr=new wn(An.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new An(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new An(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ze(new Bt([])),r=new An(n,e),i=new An(n,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ze(new Bt([])),r=new An(n,e),i=new An(n,e+1);let o=mt();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new An(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ze.comparator(e.key,n.key)||vt(e.br,n.br)}static Vr(e,n){return vt(e.br,n.br)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new wn(An.Ar)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new SV(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new An(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new An(n,0),i=new An(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(vt);return n.forEach(i=>{const o=new An(i,0),l=new An(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),he.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const l=new An(new ze(o),0);let u=new wn(vt);return this.vr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.br)),!0)},l),he.resolve(this.Mr(u))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return he.forEach(n.mutations,i=>{const o=new An(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new An(n,0),i=this.vr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.Nr=e,this.docs=function(){return new Yt(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=ks();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gn.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ks();const l=n.path,u=new ze(l.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||F2(L2(p),r)<=0||(i.has(p.key)||Xf(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,i){nt()}Lr(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return he.resolve(this.size)}}class uL extends tL{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.persistence=e,this.Br=new Da(n=>t0(n),n0),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.kr=0,this.qr=new u0,this.targetCount=0,this.Qr=Bl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),he.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Un(n),he.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Gf(0),this.Ur=!1,this.Ur=!0,this.Wr=new oL,this.referenceDelegate=e(this),this.Gr=new cL(this),this.indexManager=new QV,this.remoteDocumentCache=function(i){return new lL(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new KV(n),this.jr=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new aL(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new hL(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return he.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class hL extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Zr=new u0,this.Xr=null}static ei(e){return new c0(e)}get ti(){if(this.Xr)return this.Xr;throw nt()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),he.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ti,r=>{const i=ze.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,it.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return he.or([()=>he.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.ri=new Da(r=>$2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eL(this,n)}static ei(e,n){return new ff(e,n)}Hr(){}Jr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return he.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?he.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,n).next(u=>{u||(r++,o.removeEntry(l,it.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),he.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jd(e.data.value)),n}ir(e,n,r){return he.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=mt(),i=mt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new h0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lM()?8:B2(Yn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new dL;return this.ts(e,n,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,n,l,u.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(wl()<=pt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),he.resolve()):(wl()<=pt.DEBUG&&be("QueryEngine","Query:",El(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(wl()<=pt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):he.resolve())}Xi(e,n){if(E1(n))return he.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tv(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=mt(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.rs(n,u);return this.ss(n,f,l,h.readTime)?this.Xi(e,tv(n,null,"F")):this.os(e,f,n,h)}))})))}es(e,n,r,i){return E1(n)||i.isEqual(it.min())?he.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(n,o);return this.ss(n,l,r,i)?he.resolve(null):(wl()<=pt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),El(n)),this.os(e,l,n,V2(i,-1)).next(u=>u))})}rs(e,n){let r=new wn(bR(e));return n.forEach((i,o)=>{Xf(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return wl()<=pt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",El(n)),this.Zi.getDocumentsMatchingQuery(e,n,Co.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Yt(vt),this.cs=new Da(o=>t0(o),n0),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function XR(t,e){const n=st(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=mt();for(const f of i){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:u}))})})}function gL(t,e){const n=st(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const g=f.batch,y=g.keys();let _=he.resolve();return y.forEach(T=>{_=_.next(()=>p.getEntry(h,T)).next(S=>{const A=f.docVersions.get(T);bt(A!==null),S.version.compareTo(A)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=mt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JR(t){const e=st(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=st(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(n.Gr.removeMatchingKeys(o,p.removedDocuments,g).next(()=>n.Gr.addMatchingKeys(o,p.addedDocuments,g)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Ln.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(S,A,P){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,_,p)&&u.push(n.Gr.updateTargetData(o,_))});let h=ks(),f=mt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(vL(o,l,e.documentUpdates).next(p=>{h=p.Is,f=p.Es})),!r.isEqual(it.min())){const p=n.Gr.getLastRemoteSnapshotVersion(o).next(g=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(p)}return he.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.us=i,o))}function vL(t,e,n){let r=mt(),i=mt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=ks();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(it.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):be("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Is:l,Es:i}})}function _L(t,e){const n=st(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){const n=st(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,he.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new yo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function ov(t,e,n){const r=st(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!nu(l))throw l;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function N1(t,e,n){const r=st(t);let i=it.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const g=st(h),y=g.cs.get(p);return y!==void 0?he.resolve(g.us.get(y)):g.Gr.getTargetData(f,p)}(r,l,ji(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:it.min(),n?o:mt())).next(u=>(EL(r,aV(e),u),{documents:u,ds:o})))}function EL(t,e,n){let r=t.ls.get(e)||it.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class O1{constructor(){this.activeTargetIds=fV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TL{constructor(){this._o=new O1,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new O1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function Hg(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class RL extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,l){const u=Hg(),h=this.No(n,r.toUriEncodedString());be("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,l),this.Bo(n,h,f,i).then(p=>(be("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw Ll("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}ko(n,r,i,o,l,u){return this.Oo(n,r,i,o,l)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),i&&i.headers.forEach((o,l)=>n[l]=o)}No(n,r){const i=xL[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Hg();return new Promise((l,u)=>{const h=new dR;h.setWithCredentials(!0),h.listenOnce(fR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ud.NO_ERROR:const p=h.getResponseJson();be(Wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Ud.TIMEOUT:be(Wn,`RPC '${e}' ${o} timed out`),u(new Me(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const g=h.getStatus();if(be(Wn,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const T=function(A){const P=A.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(P)>=0?P:fe.UNKNOWN}(_.status);u(new Me(T,_.message))}else u(new Me(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Me(fe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{be(Wn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);be(Wn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)})}qo(e,n,r){const i=Hg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gR(),u=mR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=o.join("");be(Wn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const g=l.createWebChannel(p,h);let y=!1,_=!1;const T=new AL({Eo:A=>{_?be(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(be(Wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),be(Wn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Ao:()=>g.close()}),S=(A,P,O)=>{A.listen(P,V=>{try{O(V)}catch(L){setTimeout(()=>{throw L},0)}})};return S(g,Qu.EventType.OPEN,()=>{_||(be(Wn,`RPC '${e}' stream ${i} transport opened.`),T.So())}),S(g,Qu.EventType.CLOSE,()=>{_||(_=!0,be(Wn,`RPC '${e}' stream ${i} transport closed`),T.Do())}),S(g,Qu.EventType.ERROR,A=>{_||(_=!0,Ll(Wn,`RPC '${e}' stream ${i} transport errored:`,A),T.Do(new Me(fe.UNAVAILABLE,"The operation could not be completed")))}),S(g,Qu.EventType.MESSAGE,A=>{var P;if(!_){const O=A.data[0];bt(!!O);const V=O,L=(V==null?void 0:V.error)||((P=V[0])===null||P===void 0?void 0:P.error);if(L){be(Wn,`RPC '${e}' stream ${i} received error:`,L);const R=L.status;let B=function(D){const N=hn[D];if(N!==void 0)return BR(N)}(R),k=L.message;B===void 0&&(B=fe.INTERNAL,k="Unknown error status: "+R+" with message "+L.message),_=!0,T.Do(new Me(B,k)),g.close()}else be(Wn,`RPC '${e}' stream ${i} received:`,O),T.vo(O)}}),S(u,pR.STAT_EVENT,A=>{A.stat===Qy.PROXY?be(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Qy.NOPROXY&&be(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.bo()},0),T}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return new NV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,o,l,u,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new eC(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Me(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CL extends tC{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=VV(this.serializer,e),r=function(o){if(!("targetChange"in o))return it.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?it.min():l.readTime?Bi(l.readTime):it.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=Jy(h)?{documents:UV(o,h)}:{query:jV(o,h).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qR(o,l.resumeToken);const f=nv(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(it.min())>0){u.readTime=df(o,l.snapshotVersion.toTimestamp());const f=nv(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=zV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.c_(n)}}class IL extends tC{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return bt(!!e.streamToken),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=FV(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=sv(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,rv(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(fe.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,rv(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(fe.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class bL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(bs(n),this.C_=!1):be("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Na(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=st(h);f.k_.add(4),await Jc(f),f.K_.set("Unknown"),f.k_.delete(4),await rp(f)}(this))})}),this.K_=new bL(r,i)}}async function rp(t){if(Na(t))for(const e of t.q_)await e(!0)}async function Jc(t){for(const e of t.q_)await e(!1)}function nC(t,e){const n=st(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),m0(n)?p0(n):iu(n).s_()&&f0(n,e))}function d0(t,e){const n=st(t),r=iu(n);n.B_.delete(e),r.s_()&&rC(n,e),n.B_.size===0&&(r.s_()?r.a_():Na(n)&&n.K_.set("Unknown"))}function f0(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).V_(e)}function rC(t,e){t.U_.xe(e),iu(t).m_(e)}function p0(t){t.U_=new PV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.K_.F_()}function m0(t){return Na(t)&&!iu(t).i_()&&t.B_.size>0}function Na(t){return st(t).k_.size===0}function iC(t){t.U_=void 0}async function DL(t){t.K_.set("Online")}async function NL(t){t.B_.forEach((e,n)=>{f0(t,e)})}async function OL(t,e){iC(t),m0(t)?(t.K_.O_(e),p0(t)):t.K_.set("Unknown")}async function ML(t,e,n){if(t.K_.set("Online"),e instanceof $R&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.B_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.B_.delete(u),i.U_.removeTarget(u))}(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(t,r)}else if(e instanceof $d?t.U_.$e(e):e instanceof zR?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(it.min()))try{const r=await JR(t.localStore);n.compareTo(r)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.B_.get(f);p&&o.B_.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=o.B_.get(h);if(!p)return;o.B_.set(h,p.withResumeToken(Ln.EMPTY_BYTE_STRING,p.snapshotVersion)),rC(o,h);const g=new yo(p.target,h,f,p.sequenceNumber);f0(o,g)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await pf(t,r)}}async function pf(t,e,n){if(!nu(e))throw e;t.k_.add(1),await Jc(t),t.K_.set("Offline"),n||(n=()=>JR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await rp(t)})}function sC(t,e){return e().catch(n=>pf(t,n,e))}async function ip(t){const e=st(t),n=ko(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;VL(e);)try{const i=await _L(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,LL(e,i)}catch(i){await pf(e,i)}oC(e)&&aC(e)}function VL(t){return Na(t)&&t.L_.length<10}function LL(t,e){t.L_.push(e);const n=ko(t);n.s_()&&n.f_&&n.g_(e.mutations)}function oC(t){return Na(t)&&!ko(t).i_()&&t.L_.length>0}function aC(t){ko(t).start()}async function FL(t){ko(t).w_()}async function UL(t){const e=ko(t);for(const n of t.L_)e.g_(n.mutations)}async function jL(t,e,n){const r=t.L_.shift(),i=o0.from(r,e,n);await sC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ip(t)}async function BL(t,e){e&&ko(t).f_&&await async function(r,i){if(function(l){return RV(l)&&l!==fe.ABORTED}(i.code)){const o=r.L_.shift();ko(r).__(),await sC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ip(r)}}(t,e),oC(t)&&aC(t)}async function V1(t,e){const n=st(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.k_.add(3),await Jc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await rp(n)}async function zL(t,e){const n=st(t);e?(n.k_.delete(2),await rp(n)):e||(n.k_.add(2),await Jc(n),n.K_.set("Unknown"))}function iu(t){return t.W_||(t.W_=function(n,r,i){const o=st(n);return o.b_(),new CL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:DL.bind(null,t),mo:NL.bind(null,t),po:OL.bind(null,t),R_:ML.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),m0(t)?p0(t):t.K_.set("Unknown")):(await t.W_.stop(),iC(t))})),t.W_}function ko(t){return t.G_||(t.G_=function(n,r,i){const o=st(n);return o.b_(),new IL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:FL.bind(null,t),po:BL.bind(null,t),p_:UL.bind(null,t),y_:jL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ip(t)):(await t.G_.stop(),t.L_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new g0(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(t,e){if(bs("AsyncQueue",`${e}: ${t}`),nu(t))return new Me(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Yu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.z_=new Yt(ze.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):nt():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zl{constructor(e,n,r,i,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new zl(e,n,kl.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class qL{constructor(){this.queries=F1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=st(n),o=i.queries;i.queries=F1(),o.forEach((l,u)=>{for(const h of u.J_)h.onError(r)})})(this,new Me(fe.ABORTED,"Firestore shutting down"))}}function F1(){return new Da(t=>PR(t),Zf)}async function WL(t,e){const n=st(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new $L,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=y0(l,`Initialization of query '${El(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&v0(n)}async function HL(t,e){const n=st(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KL(t,e){const n=st(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&v0(n)}function GL(t,e,n){const r=st(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function v0(t){t.X_.forEach(e=>{e.next()})}var av,U1;(U1=av||(av={})).na="default",U1.Cache="cache";class QL{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class uC{constructor(e){this.key=e}}class YL{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=mt(),this.mutatedKeys=mt(),this.Va=bR(e),this.ma=new kl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new L1,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),_=Xf(this.query,g)?g:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;y&&_?y.data.isEqual(_.data)?T!==S&&(r.track({type:3,doc:_}),A=!0):this.ya(y,_)||(r.track({type:2,doc:_}),A=!0,(h&&this.Va(_,h)>0||f&&this.Va(_,f)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),A=!0):y&&!_&&(r.track({type:1,doc:y}),A=!0,(h||f)&&(u=!0)),A&&(_?(l=l.add(_),o=S?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{ma:l,pa:r,ss:u,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((p,g)=>function(_,T){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return S(_)-S(T)}(p.type,g.type)||this.Va(p.doc,g.doc)),this.wa(r),i=i!=null&&i;const u=n&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,f=h!==this.Aa;return this.Aa=h,l.length!==0||f?{snapshot:new zl(this.query,e.ma,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new L1,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=mt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new uC(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new lC(r))}),n}va(e){this.da=e.ds,this.Ra=mt();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return zl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ZL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.Fa=!1}}class JL{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Da(u=>PR(u),Zf),this.Oa=new Map,this.Na=new Set,this.La=new Yt(ze.comparator),this.Ba=new Map,this.ka=new u0,this.qa={},this.Qa=new Map,this.Ka=Bl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function eF(t,e,n=!0){const r=mC(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await cC(r,e,n,!0),i}async function tF(t,e){const n=mC(t);await cC(n,e,!0,!1)}async function cC(t,e,n,r){const i=await wL(t.localStore,ji(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await nF(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nC(t.remoteStore,i),u}async function nF(t,e,n,r,i){t.Ua=(g,y,_)=>async function(S,A,P,O){let V=A.view.ga(P);V.ss&&(V=await N1(S.localStore,A.query,!1).then(({documents:k})=>A.view.ga(k,V)));const L=O&&O.targetChanges.get(A.targetId),R=O&&O.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(V,S.isPrimaryClient,L,R);return B1(S,A.targetId,B.ba),B.snapshot}(t,g,y,_);const o=await N1(t.localStore,e,!0),l=new YL(e,o.ds),u=l.ga(o.documents),h=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,h);B1(t,n,f.ba);const p=new ZL(e,n,l);return t.xa.set(e,p),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),f.snapshot}async function rF(t,e,n){const r=st(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!Zf(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ov(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d0(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(tu)):(lv(r,i.targetId),await ov(r.localStore,i.targetId,!0))}async function iF(t,e){const n=st(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d0(n.remoteStore,r.targetId))}async function sF(t,e,n){const r=dF(t);try{const i=await function(l,u){const h=st(l),f=_n.now(),p=u.reduce((_,T)=>_.add(T.key),mt());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=ks(),S=mt();return h.hs.getEntries(_,p).next(A=>{T=A,T.forEach((P,O)=>{O.isValidDocument()||(S=S.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,T)).next(A=>{g=A;const P=[];for(const O of u){const V=EV(O,g.get(O.key).overlayedDocument);V!=null&&P.push(new jo(O.key,V,ER(V.value.mapValue),vi.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,P,u)}).next(A=>{y=A;const P=A.applyToLocalDocumentSet(g,S);return h.documentOverlayCache.saveOverlays(_,A.batchId,P)})}).then(()=>({batchId:y.batchId,changes:DR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.qa[l.currentUser.toKey()];f||(f=new Yt(vt)),f=f.insert(u,h),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,n),await eh(r,i.changes),await ip(r.remoteStore)}catch(i){const o=y0(i,"Failed to persist write");n.reject(o)}}async function hC(t,e){const n=st(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Ba.get(o);l&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?bt(l.Fa):i.removedDocuments.size>0&&(bt(l.Fa),l.Fa=!1))}),await eh(n,r,e)}catch(r){await tu(r)}}function j1(t,e,n){const r=st(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=st(l);h.onlineState=u;let f=!1;h.queries.forEach((p,g)=>{for(const y of g.J_)y.ea(u)&&(f=!0)}),f&&v0(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oF(t,e,n){const r=st(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let l=new Yt(ze.comparator);l=l.insert(o,Gn.newNoDocument(o,it.min()));const u=mt().add(o),h=new tp(it.min(),new Map,new Yt(vt),l,u);await hC(r,h),r.La=r.La.remove(o),r.Ba.delete(e),_0(r)}else await ov(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(tu)}async function aF(t,e){const n=st(t),r=e.batch.batchId;try{const i=await gL(n.localStore,e);fC(n,r,null),dC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eh(n,i)}catch(i){await tu(i)}}async function lF(t,e,n){const r=st(t);try{const i=await function(l,u){const h=st(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(g=>(bt(g!==null),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);fC(r,e,n),dC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eh(r,i)}catch(i){await tu(i)}}function dC(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function fC(t,e,n){const r=st(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||pC(t,r)})}function pC(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(d0(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),_0(t))}function B1(t,e,n){for(const r of n)r instanceof lC?(t.ka.addReference(r.key,e),uF(t,r)):r instanceof uC?(be("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||pC(t,r.key)):nt()}function uF(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(be("SyncEngine","New document in limbo: "+n),t.Na.add(r),_0(t))}function _0(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ze(Bt.fromString(e)),r=t.Ka.next();t.Ba.set(r,new XL(n)),t.La=t.La.insert(n,r),nC(t.remoteStore,new yo(ji(r0(n.path)),r,"TargetPurposeLimboResolution",Gf.oe))}}async function eh(t,e,n){const r=st(t),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,h)=>{l.push(r.Ua(h,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=h0.zi(h.targetId,f);o.push(g)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,f){const p=st(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>he.forEach(f,y=>he.forEach(y.Wi,_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>he.forEach(y.Gi,_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!nu(g))throw g;be("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const _=p.us.get(y),T=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(T);p.us=p.us.insert(y,S)}}}(r.localStore,o))}async function cF(t,e){const n=st(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await XR(n.localStore,e);n.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(h=>{h.reject(new Me(fe.CANCELLED,l))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eh(n,r.Ts)}}function hF(t,e){const n=st(t),r=n.Ba.get(e);if(r&&r.Fa)return mt().add(r.key);{let i=mt();const o=n.Oa.get(e);if(!o)return i;for(const l of o){const u=n.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function mC(t){const e=st(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oF.bind(null,e),e.Ma.R_=KL.bind(null,e.eventManager),e.Ma.Wa=GL.bind(null,e.eventManager),e}function dF(t){const e=st(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lF.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=np(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return mL(this.persistence,new fL,e.initialUser,this.serializer)}ja(e){return new ZR(c0.ei,this.serializer)}za(e){return new TL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class fF extends mf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){bt(this.persistence.referenceDelegate instanceof ff);const r=this.persistence.referenceDelegate.garbageCollector;return new XV(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new ZR(r=>ff.ei(r,n),this.serializer)}}class uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cF.bind(null,this.syncEngine),await zL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qL}()}createDatastore(e){const n=np(e.databaseInfo.databaseId),r=function(o){return new RL(o)}(e.databaseInfo);return function(o,l,u,h){return new PL(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new kL(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>j1(this.syncEngine,n,0),function(){return M1.p()?new M1:new SL}())}createSyncEngine(e,n){return function(i,o,l,u,h,f,p){const g=new JL(i,o,l,u,h,f);return p&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=st(i);be("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Jc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uv.provider={build:()=>new uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=vR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{be("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gF(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>V1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>V1(e.remoteStore,i)),t._onlineComponents=e}async function gF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await Gg(t,new mf)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Gg(t,new fF(void 0));return t._offlineComponents}async function gC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await z1(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await z1(t,new uv))),t._onlineComponents}function yF(t){return gC(t).then(e=>e.syncEngine)}async function $1(t){const e=await gC(t),n=e.eventManager;return n.onListen=eF.bind(null,e.syncEngine),n.onUnlisten=rF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){if(!n)throw new Me(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vF(t,e,n,r){if(e===!0&&r===!0)throw new Me(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!ze.isDocumentKey(t))throw new Me(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H1(t){if(ze.isDocumentKey(t))throw new Me(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt()}function To(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(t);throw new Me(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C2;switch(r.type){case"firstParty":return new k2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q1.get(n);r&&(be("ComponentProvider","Removing Datastore"),q1.delete(n),r.terminate())}(this),Promise.resolve()}}function _F(t,e,n,r={}){var i;const o=(t=To(t,op))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Kn.MOCK_USER;else{u=tM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Me(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kn(f)}t._authCredentials=new I2(new yR(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class So extends Oa{constructor(e,n,r){super(e,n,r0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new ze(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function _C(t,e,...n){if(t=Rn(t),vC("collection","path",e),t instanceof op){const r=Bt.fromString(e,...n);return H1(r),new So(t,null,r)}{if(!(t instanceof wr||t instanceof So))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return H1(r),new So(t.firestore,null,r)}}function w0(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=vR.newId()),vC("doc","path",e),t instanceof op){const r=Bt.fromString(e,...n);return W1(r),new wr(t,null,new ze(r))}{if(!(t instanceof wr||t instanceof So))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return W1(r),new wr(t.firestore,t instanceof So?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new eC(this,"async_queue_retry"),this.fu=()=>{const r=Kg();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new _a;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!nu(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw bs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=g0.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&nt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function Q1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $l extends op{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G1(e),this._firestoreClient=void 0,await e}}}function wF(t,e){const n=typeof t=="object"?t:lR(),r=typeof t=="string"?t:"(default)",i=Zv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=JO("firestore");o&&_F(i,...o)}return i}function wC(t){if(t._terminated)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EF(t),t._firestoreClient}function EF(t){var e,n,r;const i=t._freezeSettings(),o=function(u,h,f,p){return new H2(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yC(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(Ln.fromBase64String(e))}catch(n){throw new Me(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=/^__.*__$/;class SF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class S0{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new S0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return gf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(TC(this.Mu)&&TF.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class xF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||np(e)}$u(e,n,r,i=!1){return new S0({Mu:e,methodName:n,Ku:r,path:Mn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(t){const e=t._freezeSettings(),n=np(t._databaseId);return new xF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AF(t,e,n,r,i,o={}){const l=t.$u(o.merge||o.mergeFields?2:0,e,n,i);R0("Data must be an object, but it was:",l,r);const u=SC(r,l);let h,f;if(o.merge)h=new Pr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const y=cv(e,g,n);if(!l.contains(y))throw new Me(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);AC(p,y)||p.push(y)}h=new Pr(p),f=l.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=l.fieldTransforms;return new SF(new _r(u),h,f)}class up extends lp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof up}}class A0 extends lp{_toFieldTransform(e){return new yV(e.path,new Tc)}isEqual(e){return e instanceof A0}}function RF(t,e,n,r){const i=t.$u(1,e,n);R0("Data must be an object, but it was:",i,r);const o=[],l=_r.empty();Uo(r,(h,f)=>{const p=C0(e,h,n);f=Rn(f);const g=i.Bu(p);if(f instanceof up)o.push(p);else{const y=th(f,g);y!=null&&(o.push(p),l.set(p,y))}});const u=new Pr(o);return new EC(l,u,i.fieldTransforms)}function CF(t,e,n,r,i,o){const l=t.$u(1,e,n),u=[cv(e,r,n)],h=[i];if(o.length%2!=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(cv(e,o[y])),h.push(o[y+1]);const f=[],p=_r.empty();for(let y=u.length-1;y>=0;--y)if(!AC(f,u[y])){const _=u[y];let T=h[y];T=Rn(T);const S=l.Bu(_);if(T instanceof up)f.push(_);else{const A=th(T,S);A!=null&&(f.push(_),p.set(_,A))}}const g=new Pr(f);return new EC(p,g,l.fieldTransforms)}function IF(t,e,n,r=!1){return th(n,t.$u(r?4:3,e))}function th(t,e){if(xC(t=Rn(t)))return R0("Unsupported field value:",e,t),SC(t,e);if(t instanceof lp)return function(r,i){if(!TC(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=th(u,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_n.fromDate(r);return{timestampValue:df(i.serializer,o)}}if(r instanceof _n){const o=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(i.serializer,o)}}if(r instanceof E0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:qR(i.serializer,r._byteString)};if(r instanceof wr){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof T0)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.qu("VectorValues must only contain numeric values.");return i0(u.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${sp(r)}`)}(t,e)}function SC(t,e){const n={};return _R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const o=th(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof E0||t instanceof ql||t instanceof wr||t instanceof lp||t instanceof T0)}function R0(t,e,n){if(!xC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sp(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function cv(t,e,n){if((e=Rn(e))instanceof ap)return e._internalPath;if(typeof e=="string")return C0(t,e);throw gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const PF=new RegExp("[~\\*/\\[\\]]");function C0(t,e,n){if(e.search(PF)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gf(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Me(fe.INVALID_ARGUMENT,u+t+h)}function AC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bF extends RC{data(){return super.data()}}function cp(t,e){return typeof e=="string"?C0(t,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class CC extends I0{}function DF(t,e,...n){let r=[];e instanceof I0&&r.push(e),r=r.concat(n),function(o){const l=o.filter(h=>h instanceof P0).length,u=o.filter(h=>h instanceof hp).length;if(l>1||l>0&&u>0)throw new Me(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hp extends CC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hp(e,n,r)}_apply(e){const n=this._parse(e);return IC(e._query,n),new Oa(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=x0(e.firestore);return function(o,l,u,h,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Z1(g,p);const _=[];for(const T of g)_.push(Y1(h,o,T));y={arrayValue:{values:_}}}else y=Y1(h,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Z1(g,p),y=IF(u,l,g,p==="in"||p==="not-in");return fn.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function NF(t,e,n){const r=e,i=cp("where",t);return hp._create(i,r,n)}class P0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)IC(l,h),l=ev(l,h)}(e._query,n),new Oa(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b0 extends CC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new b0(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(o,l)}(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new ru(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function OF(t,e="asc"){const n=e,r=cp("orderBy",t);return b0._create(r,n)}function Y1(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new Me(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IR(e)&&n.indexOf("/")!==-1)throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!ze.isDocumentKey(r))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m1(t,new ze(r))}if(n instanceof wr)return m1(t,n._key);throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(n)}.`)}function Z1(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(t,e){const n=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MF{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>an(l.doubleValue));return new T0(o)}convertGeoPoint(e){return new E0(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=Io(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);bt(YR(r));const i=new _c(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return i.isEqual(n)||bs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PC extends RC{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qd extends PC{data(e={}){return super.data(e)}}class LF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qd(this._firestore,this._userDataWriter,r.key,r,new Xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:FF(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}class bC extends MF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}function UF(t,e,n,...r){t=To(t,wr);const i=To(t.firestore,$l),o=x0(i);let l;return l=typeof(e=Rn(e))=="string"||e instanceof ap?CF(o,"updateDoc",t._key,e,n,r):RF(o,"updateDoc",t._key,e),k0(i,[l.toMutation(t._key,vi.exists(!0))])}function jF(t){return k0(To(t.firestore,$l),[new s0(t._key,vi.none())])}function BF(t,e){const n=To(t.firestore,$l),r=w0(t),i=VF(t.converter,e);return k0(n,[AF(x0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vi.exists(!1))]).then(()=>r)}function zF(t,...e){var n,r,i;t=Rn(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Q1(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q1(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let h,f,p;if(t instanceof wr)f=To(t.firestore,$l),p=r0(t._key.path),h={next:g=>{e[l]&&e[l]($F(f,t,g))},error:e[l+1],complete:e[l+2]};else{const g=To(t,Oa);f=To(g.firestore,$l),p=g._query;const y=new bC(f);h={next:_=>{e[l]&&e[l](new LF(f,y,g,_))},error:e[l+1],complete:e[l+2]},kF(t._query)}return function(y,_,T,S){const A=new pF(S),P=new QL(_,A,T);return y.asyncQueue.enqueueAndForget(async()=>WL(await $1(y),P)),()=>{A.eu(),y.asyncQueue.enqueueAndForget(async()=>HL(await $1(y),P))}}(wC(f),p,u,h)}function k0(t,e){return function(r,i){const o=new _a;return r.asyncQueue.enqueueAndForget(async()=>sF(await yF(r),i,o)),o.promise}(wC(t),e)}function $F(t,e,n){const r=n.docs.get(e._key),i=new bC(t);return new PC(t,i,e._key,r,new Xu(n.hasPendingWrites,n.fromCache),e.converter)}function qF(){return new A0("serverTimestamp")}(function(e,n=!0){(function(i){eu=i})(Jl),Vl(new xa("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new $l(new P2(r.getProvider("auth-internal")),new N2(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(f.options.projectId,p)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Eo(u1,"4.7.5",e),Eo(u1,"4.7.5","esm2017")})();function D0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WF=kC,DC=new Qc("auth","Firebase",kC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Qv("@firebase/auth");function HF(t,...e){yf.logLevel<=pt.WARN&&yf.warn(`Auth (${Jl}): ${t}`,...e)}function Wd(t,...e){yf.logLevel<=pt.ERROR&&yf.error(`Auth (${Jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,...e){throw O0(t,...e)}function _i(t,...e){return O0(t,...e)}function N0(t,e,n){const r=Object.assign(Object.assign({},WF()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function wa(t){return N0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ki(t,"argument-error"),N0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DC.create(t,...e)}function rt(t,e,...n){if(!t)throw O0(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function Ds(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GF(){return X1()==="http:"||X1()==="https:"}function X1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GF()||sM()||"connection"in navigator)?navigator.onLine:!0}function YF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=nM()||oM()}get(){return QF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new nh(3e4,6e4);function V0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function su(t,e,n,r,i={}){return OC(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Yc(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},o);return iM()||(f.referrerPolicy="no-referrer"),NC.fetch()(MC(t,t.config.apiHost,n,u),f)})}async function OC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZF),e);try{const i=new e4(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw bd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw bd(t,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw N0(t,p,f);Ki(t,p)}}catch(i){if(i instanceof Ms)throw i;Ki(t,"network-request-failed",{message:String(i)})}}async function JF(t,e,n,r,i={}){const o=await su(t,e,n,r,i);return"mfaPendingCredential"in o&&Ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?M0(t.config,i):`${t.config.apiScheme}://${i}`}class e4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),XF.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){return su(t,"POST","/v1/accounts:delete",e)}async function VC(t,e){return su(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n4(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),i=L0(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:lc(Qg(i.auth_time)),issuedAtTime:lc(Qg(i.iat)),expirationTime:lc(Qg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qg(t){return Number(t)*1e3}function L0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=tR(n);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J1(t){const e=L0(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ms&&r4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ac(t,VC(n,{idToken:r}));rt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LC(o.providerUserInfo):[],u=o4(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dv(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function s4(t){const e=Rn(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LC(t){return t.map(e=>{var{providerId:n}=e,r=D0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){const n=await OC(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=MC(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",NC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l4(t,e){return su(t,"POST","/v2/accounts:revokeToken",V0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=J1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await a4(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Dl;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(rt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=D0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n4(this,e)}reload(){return s4(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Ac(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,u,h,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,O=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:V,emailVerified:L,isAnonymous:R,providerData:B,stsTokenManager:k}=n;rt(V&&k,e,"internal-error");const I=Dl.fromJSON(this.name,k);rt(typeof V=="string",e,"internal-error"),ao(g,e.name),ao(y,e.name),rt(typeof L=="boolean",e,"internal-error"),rt(typeof R=="boolean",e,"internal-error"),ao(_,e.name),ao(T,e.name),ao(S,e.name),ao(A,e.name),ao(P,e.name),ao(O,e.name);const D=new As({uid:V,auth:e,email:y,emailVerified:L,displayName:g,isAnonymous:R,photoURL:T,phoneNumber:_,tenantId:S,stsTokenManager:I,createdAt:P,lastLoginAt:O});return B&&Array.isArray(B)&&(D.providerData=B.map(N=>Object.assign({},N))),A&&(D._redirectEventId=A),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const o=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?LC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Dl;u.updateFromIdToken(r);const h=new As({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function Rs(t){Ds(t instanceof Function,"Expected a class definition");let e=eS.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FC.type="NONE";const tS=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(Rs(tS),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Rs(tS);const l=Hd(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(l);if(p){const g=As._fromJSON(e,p);f!==o&&(u=g),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Nl(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(WC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||BC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UC(t=Yn()){return/firefox\//i.test(t)}function jC(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BC(t=Yn()){return/crios\//i.test(t)}function zC(t=Yn()){return/iemobile/i.test(t)}function $C(t=Yn()){return/android/i.test(t)}function qC(t=Yn()){return/blackberry/i.test(t)}function WC(t=Yn()){return/webos/i.test(t)}function F0(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u4(t=Yn()){var e;return F0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return aM()&&document.documentMode===10}function HC(t=Yn()){return F0(t)||$C(t)||WC(t)||qC(t)||/windows phone/i.test(t)||zC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e=[]){let n;switch(t){case"Browser":n=nS(Yn());break;case"Worker":n=`${nS(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e={}){return su(t,"GET","/v2/passwordPolicy",V0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class p4{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:f4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rS(this),this.idTokenSubscription=new rS(this),this.beforeStateQueue=new h4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VC(this,{idToken:e}),r=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ss(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(wa(this));const n=e?Rn(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d4(this),n=new p4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dp(t){return Rn(t)}class rS{constructor(e){this.auth=e,this.observer=null,this.addObserver=mM(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g4(t){U0=t}function y4(t){return U0.loadJS(t)}function v4(){return U0.gapiScript}function _4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){const n=Zv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(af(o,e??{}))return i;Ki(i,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T4(t,e,n){const r=dp(t);rt(r._canInitEmulator,r,"emulator-config-failed"),rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=GC(e),{host:l,port:u}=S4(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),x4()}function GC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=GC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:iS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:iS(l)}}}function iS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return JF(t,"POST","/v1/accounts:signInWithIdp",V0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class Ra extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=D0(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ra(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends rh{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends rh{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.GITHUB_SIGN_IN_METHOD="github.com";po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends rh{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await As._fromIdTokenResponse(e,r,i),l=sS(r);return new Wl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sS(r);return new Wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Ms{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _f(e,n,r,i)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(t,o,e,r):o})}async function R4(t,e,n=!1){const r=await Ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e,n=!1){const{auth:r}=t;if(Ss(r.app))return Promise.reject(wa(r));const i="reauthenticate";try{const o=await Ac(t,YC(r,i,e,t),n);rt(o.idToken,r,"internal-error");const l=L0(o.idToken);rt(l,r,"internal-error");const{sub:u}=l;return rt(t.uid===u,r,"user-mismatch"),Wl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ki(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){if(Ss(t.app))return Promise.reject(wa(t));const r="signIn",i=await YC(t,r,e),o=await Wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function P4(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function b4(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function k4(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}function D4(t){return Rn(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,O4=10;class XC extends ZC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);c4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XC.type="LOCAL";const M4=XC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends ZC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JC.type="SESSION";const eI=JC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await V4(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=B0("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function F4(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function U4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function B4(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebaseLocalStorageDb",z4=1,Ef="firebaseLocalStorage",rI="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pp(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function $4(){const t=indexedDB.deleteDatabase(nI);return new ih(t).toPromise()}function fv(){const t=indexedDB.open(nI,z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ef,{keyPath:rI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ef)?e(r):(r.close(),await $4(),e(await fv()))})})}async function oS(t,e,n){const r=pp(t,!0).put({[rI]:e,value:n});return new ih(r).toPromise()}async function q4(t,e){const n=pp(t,!1).get(e),r=await new ih(n).toPromise();return r===void 0?null:r.value}function aS(t,e){const n=pp(t,!0).delete(e);return new ih(n).toPromise()}const W4=800,H4=3;class iI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(B4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U4(),!this.activeServiceWorker)return;this.sender=new L4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await oS(e,wf,"1"),await aS(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pp(i,!1).getAll();return new ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iI.type="LOCAL";const K4=iI;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e){return e?Rs(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G4(t){return I4(t.auth,new z0(t),t.bypassAuthState)}function Q4(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),C4(n,new z0(t),t.bypassAuthState)}async function Y4(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),R4(n,new z0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return Y4;case"reauthViaPopup":case"reauthViaRedirect":return Q4;default:Ki(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new nh(2e3,1e4);async function X4(t,e,n){if(Ss(t.app))return Promise.reject(_i(t,"operation-not-supported-in-this-environment"));const r=dp(t);KF(t,e,j0);const i=sI(r,n);return new ma(r,"signInViaPopup",e,i).executeNotNull()}class ma extends oI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=B0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z4.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="pendingRedirect",Kd=new Map;class eU extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await tU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tU(t,e){const n=iU(e),r=rU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nU(t,e){Kd.set(t._key(),e)}function rU(t){return Rs(t._redirectPersistence)}function iU(t){return Hd(J4,t.config.apiKey,t.name)}async function sU(t,e,n=!1){if(Ss(t.app))return Promise.reject(wa(t));const r=dp(t),i=sI(r,e),l=await new eU(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=10*60*1e3;class aU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oU&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e={}){return su(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hU=/^https?/;async function dU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uU(t);for(const n of e)try{if(fU(n))return}catch{}Ki(t,"unauthorized-domain")}function fU(t){const e=hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!hU.test(n))return!1;if(cU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new nh(3e4,6e4);function uS(){const t=zi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mU(t){return new Promise((e,n)=>{var r,i,o;function l(){uS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uS(),n(_i(t,"network-request-failed"))},timeout:pU.get()})}if(!((i=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zi().gapi)===null||o===void 0)&&o.load)l();else{const u=_4("iframefcb");return zi()[u]=()=>{gapi.load?l():n(_i(t,"network-request-failed"))},y4(`${v4()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function gU(t){return Gd=Gd||mU(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new nh(5e3,15e3),vU="__/auth/iframe",_U="emulator/auth/iframe",wU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TU(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,_U):`https://${t.config.authDomain}/${vU}`,r={apiKey:e.apiKey,appName:t.name,v:Jl},i=EU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yc(r).slice(1)}`}async function SU(t){const e=await gU(t),n=zi().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:TU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=_i(t,"network-request-failed"),u=zi().setTimeout(()=>{o(l)},yU.get());function h(){zi().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AU=500,RU=600,CU="_blank",IU="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PU(t,e,n,r=AU,i=RU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},xU),{width:r.toString(),height:i.toString(),top:o,left:l}),f=Yn().toLowerCase();n&&(u=BC(f)?CU:n),UC(f)&&(e=e||IU,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[_,T])=>`${y}${_}=${T},`,"");if(u4(f)&&u!=="_self")return bU(e||"",u),new cS(null);const g=window.open(e||"",u,p);rt(g,t,"popup-blocked");try{g.focus()}catch{}return new cS(g)}function bU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="__/auth/handler",DU="emulator/auth/handler",NU=encodeURIComponent("fac");async function hS(t,e,n,r,i,o){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jl,eventId:i};if(e instanceof j0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",pM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof rh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await t._getAppCheckToken(),f=h?`#${NU}=${encodeURIComponent(h)}`:"";return`${OU(t)}?${Yc(u).slice(1)}${f}`}function OU({config:t}){return t.emulator?M0(t,DU):`https://${t.authDomain}/${kU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class MU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eI,this._completeRedirectFn=sU,this._overrideRedirectResult=nU}async _openPopup(e,n,r,i){var o;Ds((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await hS(e,n,r,hv(),i);return PU(e,l,B0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await hS(e,n,r,hv(),i);return F4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ds(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SU(e),r=new aU(e);return n.register("authEvent",i=>(rt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Yg];l!==void 0&&n(!!l),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||jC()||F0()}}const VU=MU;var dS="@firebase/auth",fS="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){Vl(new xa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KC(t)},f=new m4(r,i,o,h);return E4(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vl(new xa("auth-internal",e=>{const n=dp(e.getProvider("auth").getImmediate());return(r=>new LU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(dS,fS,FU(t)),Eo(dS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=5*60,BU=iR("authIdTokenMaxAge")||jU;let pS=null;const zU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BU)return;const i=n==null?void 0:n.token;pS!==i&&(pS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $U(t=lR()){const e=Zv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w4(t,{popupRedirectResolver:VU,persistence:[K4,M4,eI]}),r=iR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=zU(o.toString());b4(n,l,()=>l(n.currentUser)),P4(n,u=>l(u))}}const i=nR("auth");return i&&T4(n,`http://${i}`),n}function qU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");const WU={apiKey:"AIzaSyAFhz7Hm02KlmZMIPr-pdIjzxrsj-2nI4k",authDomain:"keep-notes-ca682.firebaseapp.com",projectId:"keep-notes-ca682",storageBucket:"keep-notes-ca682.firebasestorage.app",messagingSenderId:"889090807787",appId:"1:889090807787:web:e9ae8edc1c7fea329f2bae"},lI=aR(WU),mp=wF(lI),$0=$U(lI),HU=async t=>new Promise(async(e,n)=>{try{const r=await BF(_C(mp,"notes"),{...t,timestamp:qF()});e(r)}catch(r){n(r)}});function KU(t,e){const[n,r]=W.useState([]);return W.useEffect(()=>{const i=DF(_C(mp,t),NF("userId","==",e),OF("timestamp","desc")),o=zF(i,l=>{const u=l.docs.map(h=>({id:h.id,...h.data()}));r(u)});return()=>o()},[t,e]),n}async function GU(t,e){try{const n=w0(mp,t,e);await jF(n),console.log("Deleted document with ID:",e)}catch(n){console.error("Error deleting document:",n)}}const QU=async(t,e,n)=>new Promise(async(r,i)=>{try{const o=w0(mp,t,e);await UF(o,{title:n.editTitle,subject:n.editSubject,note:n.editNote}),r(o)}catch(o){i(o)}}),YU="/Keep-Notes/assets/no_result-BaxqjVEt.png";function ZU(t){return Nr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"},child:[]}]})(t)}function uI(t){return Nr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(t)}function XU(t){return Nr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function Tf(t,e){return mc(t,{...e,weekStartsOn:1})}function cI(t,e){const n=xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ro(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Tf(i),l=Ro(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Tf(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function mS(t){const e=xi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gS(t,e){const n=xi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function JU(t,e,n){const[r,i]=HN(n==null?void 0:n.in,t,e),o=gS(r),l=gS(i),u=+o-mS(o),h=+l-mS(l);return Math.round((u-h)/WN)}function ej(t,e){const n=cI(t,e),r=Ro(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Tf(r)}function tj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nj(t){return!(!tj(t)&&typeof t!="number"||isNaN(+xi(t)))}function rj(t,e){const n=xi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ij(t,e){const n=xi(t,e==null?void 0:e.in);return JU(n,rj(n))+1}function sj(t,e){const n=xi(t,e==null?void 0:e.in),r=+Tf(n)-+ej(n);return Math.round(r/qA)+1}function hI(t,e){var p,g,y,_;const n=xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Wf(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(y=i.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=Ro((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=mc(l,e),h=Ro((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const f=mc(h,e);return+n>=+u?r+1:+n>=+f?r:r-1}function oj(t,e){var u,h,f,p;const n=Wf(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=hI(t,e),o=Ro((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),mc(o,e)}function aj(t,e){const n=xi(t,e==null?void 0:e.in),r=+mc(n,e)-+oj(n,e);return Math.round(r/qA)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const lo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},vl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return lo.y(t,e)},Y:function(t,e,n,r){const i=hI(t,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Nt(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Nt(o,e.length)},R:function(t,e){const n=cI(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return lo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=aj(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=sj(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):lo.d(t,e)},D:function(t,e,n){const r=ij(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Nt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Nt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=vl.noon:r===0?i=vl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=vl.evening:r>=12?i=vl.afternoon:r>=4?i=vl.morning:i=vl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return lo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):lo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):lo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):lo.s(t,e)},S:function(t,e){return lo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _S(r);case"XXXX":case"XX":return ua(r);case"XXXXX":case"XXX":default:return ua(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return _S(r);case"xxxx":case"xx":return ua(r);case"xxxxx":case"xxx":default:return ua(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vS(r,":");case"OOOO":default:return"GMT"+ua(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vS(r,":");case"zzzz":default:return"GMT"+ua(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Nt(r,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function vS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Nt(o,2)}function _S(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):ua(t,e)}function ua(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),o=Nt(r%60,2);return n+i+e+o}const wS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lj=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return wS(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",wS(r,e)).replace("{{time}}",dI(i,e))},uj={p:dI,P:lj},cj=/^D+$/,hj=/^Y+$/,dj=["D","DD","YY","YYYY"];function fj(t){return cj.test(t)}function pj(t){return hj.test(t)}function mj(t,e,n){const r=gj(t,e,n);if(console.warn(r),dj.includes(t))throw new RangeError(r)}function gj(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_j=/^'([^]*?)'?$/,wj=/''/g,Ej=/[a-zA-Z]/;function Tj(t,e,n){var p,g,y,_;const r=Wf(),i=r.locale??SO,o=r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,u=xi(t,n==null?void 0:n.in);if(!nj(u))throw new RangeError("Invalid time value");let h=e.match(vj).map(T=>{const S=T[0];if(S==="p"||S==="P"){const A=uj[S];return A(T,i.formatLong)}return T}).join("").match(yj).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const S=T[0];if(S==="'")return{isToken:!1,value:Sj(T)};if(yS[S])return{isToken:!0,value:T};if(S.match(Ej))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return h.map(T=>{if(!T.isToken)return T.value;const S=T.value;(pj(S)||fj(S))&&mj(S,e,String(t));const A=yS[S[0]];return A(u,S,i.localize,f)}).join("")}function Sj(t){const e=t.match(_j);return e?e[1].replace(wj,"'"):t}function xj(t){if(t){const e=new Date(t.seconds*1e3+t.nanoseconds/1e6);return Tj(e,"hh:mm aa, dd-MM-yyyy")}}const Aj=()=>ie.jsx("div",{className:"bg-white py-1 w-screen",children:ie.jsx("h1",{className:"text-text font-bold text-lg text-center",children:"KEEP NOTES"})}),Rj=()=>{const{addNoteModalOpen:t,setAddNoteModalOpen:e,setEditNoteModalOpen:n,setSigninModalOpen:r}=W.useContext(xo),{selectedNote:i,setSelectedNote:o,notesList:l,setNotesList:u}=W.useContext(qc),{userDetails:h,setUserDetails:f}=W.useContext(Wc),p=KU("notes",(h==null?void 0:h.uid)||"");return W.useEffect(()=>{p&&u(p)},[p]),ie.jsxs("div",{className:"w-full overflow-y-auto",children:[ie.jsx(Aj,{}),ie.jsxs("div",{className:"p-5 space-y-3",children:[ie.jsx("h1",{className:"font-semibold text-text",children:"Notes"}),(l==null?void 0:l.length)>0?ie.jsx("div",{className:"grid grid-cols-3 gap-5 w-full",children:l.map((g,y)=>ie.jsx(Cj,{doc:g,note:g.note,title:g.title,subject:g.subject,id:g.id,setEditNoteModalOpen:n,timestamp:g.timestamp,setSelectedNote:o},y))}):ie.jsxs("div",{children:[ie.jsx("img",{src:YU,alt:"noData",className:"max-w-lg mx-auto"}),ie.jsxs("div",{className:"flex gap-2 items-center justify-center border-2 border-zinc-300 mx-auto w-fit p-2 rounded-lg cursor-pointer",onClick:()=>{h?e(!0):r(!0)},children:[ie.jsx(ZU,{className:"w-10 h-10 text-primaryDark"}),ie.jsx("p",{className:"font-bold",children:"Add Note"})]})]})]})]})},Cj=({note:t,id:e,title:n,subject:r,setEditNoteModalOpen:i,setSelectedNote:o,doc:l,timestamp:u})=>ie.jsxs("div",{className:"bg-white p-5 rounded-md w-full space-y-2",children:[ie.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[ie.jsxs("div",{children:[ie.jsx("h1",{children:n}),ie.jsx("p",{className:"text-xs text-zinc-400",children:xj(u)})]}),ie.jsxs("div",{className:"flex gap-2",children:[ie.jsx(RO,{onClick:()=>{o(l),i(!0)},className:"w-5 h-5 text-zinc-500 cursor-pointer"}),ie.jsx(AO,{className:"w-5 h-5 text-zinc-500 cursor-pointer",onClick:()=>GU("notes",e)})]})]}),ie.jsxs("div",{children:[ie.jsx("div",{className:"text-sm font-semibold",children:ie.jsx("p",{children:r})}),ie.jsx("div",{className:"flex items-center text-sm",children:ie.jsx("p",{children:t})})]})]});var kd={exports:{}},ES;function Ij(){if(ES)return kd.exports;ES=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return kd.exports=e(),kd.exports.createColors=e,kd.exports}const Pj={},bj=Object.freeze(Object.defineProperty({__proto__:null,default:Pj},Symbol.toStringTag,{value:"Module"})),gi=yk(bj);var Zg,TS;function q0(){if(TS)return Zg;TS=1;let t=Ij(),e=gi;class n extends Error{constructor(i,o,l,u,h,f){super(i),this.name="CssSyntaxError",this.reason=i,h&&(this.file=h),u&&(this.source=u),f&&(this.plugin=f),typeof o<"u"&&typeof l<"u"&&(typeof o=="number"?(this.line=o,this.column=l):(this.line=o.line,this.column=o.column,this.endLine=l.line,this.endColumn=l.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let o=this.source;i==null&&(i=t.isColorSupported);let l=_=>_,u=_=>_,h=_=>_;if(i){let{bold:_,gray:T,red:S}=t.createColors(!0);u=A=>_(S(A)),l=A=>T(A),e&&(h=A=>e(A))}let f=o.split(/\r?\n/),p=Math.max(this.line-3,0),g=Math.min(this.line+2,f.length),y=String(g).length;return f.slice(p,g).map((_,T)=>{let S=p+1+T,A=" "+(" "+S).slice(-y)+" | ";if(S===this.line){if(_.length>160){let O=20,V=Math.max(0,this.column-O),L=Math.max(this.column+O,this.endColumn+O),R=_.slice(V,L),B=l(A.replace(/\d/g," "))+_.slice(0,Math.min(this.column-1,O-1)).replace(/[^\t]/g," ");return u(">")+l(A)+h(R)+`
 `+B+u("^")}let P=l(A.replace(/\d/g," "))+_.slice(0,this.column-1).replace(/[^\t]/g," ");return u(">")+l(A)+h(_)+`
 `+P+u("^")}return" "+l(A)+h(_)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return Zg=n,n.default=n,Zg}var Xg,SS;function fI(){if(SS)return Xg;SS=1;const t={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class n{constructor(i){this.builder=i}atrule(i,o){let l="@"+i.name,u=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?l+=i.raws.afterName:u&&(l+=" "),i.nodes)this.block(i,l+u);else{let h=(i.raws.between||"")+(o?";":"");this.builder(l+u+h,i)}}beforeAfter(i,o){let l;i.type==="decl"?l=this.raw(i,null,"beforeDecl"):i.type==="comment"?l=this.raw(i,null,"beforeComment"):o==="before"?l=this.raw(i,null,"beforeRule"):l=this.raw(i,null,"beforeClose");let u=i.parent,h=0;for(;u&&u.type!=="root";)h+=1,u=u.parent;if(l.includes(`
`)){let f=this.raw(i,null,"indent");if(f.length)for(let p=0;p<h;p++)l+=f}return l}block(i,o){let l=this.raw(i,"between","beforeOpen");this.builder(o+l+"{",i,"start");let u;i.nodes&&i.nodes.length?(this.body(i),u=this.raw(i,"after")):u=this.raw(i,"after","emptyBody"),u&&this.builder(u),this.builder("}",i,"end")}body(i){let o=i.nodes.length-1;for(;o>0&&i.nodes[o].type==="comment";)o-=1;let l=this.raw(i,"semicolon");for(let u=0;u<i.nodes.length;u++){let h=i.nodes[u],f=this.raw(h,"before");f&&this.builder(f),this.stringify(h,o!==u||l)}}comment(i){let o=this.raw(i,"left","commentLeft"),l=this.raw(i,"right","commentRight");this.builder("/*"+o+i.text+l+"*/",i)}decl(i,o){let l=this.raw(i,"between","colon"),u=i.prop+l+this.rawValue(i,"value");i.important&&(u+=i.raws.important||" !important"),o&&(u+=";"),this.builder(u,i)}document(i){this.body(i)}raw(i,o,l){let u;if(l||(l=o),o&&(u=i.raws[o],typeof u<"u"))return u;let h=i.parent;if(l==="before"&&(!h||h.type==="root"&&h.first===i||h&&h.type==="document"))return"";if(!h)return t[l];let f=i.root();if(f.rawCache||(f.rawCache={}),typeof f.rawCache[l]<"u")return f.rawCache[l];if(l==="before"||l==="after")return this.beforeAfter(i,l);{let p="raw"+e(l);this[p]?u=this[p](f,i):f.walk(g=>{if(u=g.raws[o],typeof u<"u")return!1})}return typeof u>"u"&&(u=t[l]),f.rawCache[l]=u,u}rawBeforeClose(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length>0&&typeof l.raws.after<"u")return o=l.raws.after,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawBeforeComment(i,o){let l;return i.walkComments(u=>{if(typeof u.raws.before<"u")return l=u.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeDecl"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeDecl(i,o){let l;return i.walkDecls(u=>{if(typeof u.raws.before<"u")return l=u.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeRule"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeOpen(i){let o;return i.walk(l=>{if(l.type!=="decl"&&(o=l.raws.between,typeof o<"u"))return!1}),o}rawBeforeRule(i){let o;return i.walk(l=>{if(l.nodes&&(l.parent!==i||i.first!==l)&&typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawColon(i){let o;return i.walkDecls(l=>{if(typeof l.raws.between<"u")return o=l.raws.between.replace(/[^\s:]/g,""),!1}),o}rawEmptyBody(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length===0&&(o=l.raws.after,typeof o<"u"))return!1}),o}rawIndent(i){if(i.raws.indent)return i.raws.indent;let o;return i.walk(l=>{let u=l.parent;if(u&&u!==i&&u.parent&&u.parent===i&&typeof l.raws.before<"u"){let h=l.raws.before.split(`
`);return o=h[h.length-1],o=o.replace(/\S/g,""),!1}}),o}rawSemicolon(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length&&l.last.type==="decl"&&(o=l.raws.semicolon,typeof o<"u"))return!1}),o}rawValue(i,o){let l=i[o],u=i.raws[o];return u&&u.value===l?u.raw:l}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,o){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,o)}}return Xg=n,n.default=n,Xg}var Jg,xS;function gp(){if(xS)return Jg;xS=1;let t=fI();function e(n,r){new t(r).stringify(n)}return Jg=e,e.default=e,Jg}var Dd={},AS;function W0(){return AS||(AS=1,Dd.isClean=Symbol("isClean"),Dd.my=Symbol("my")),Dd}var ey,RS;function yp(){if(RS)return ey;RS=1;let t=q0(),e=fI(),n=gp(),{isClean:r,my:i}=W0();function o(h,f){let p=new h.constructor;for(let g in h){if(!Object.prototype.hasOwnProperty.call(h,g)||g==="proxyCache")continue;let y=h[g],_=typeof y;g==="parent"&&_==="object"?f&&(p[g]=f):g==="source"?p[g]=y:Array.isArray(y)?p[g]=y.map(T=>o(T,p)):(_==="object"&&y!==null&&(y=o(y)),p[g]=y)}return p}function l(h,f){if(f&&typeof f.offset<"u")return f.offset;let p=1,g=1,y=0;for(let _=0;_<h.length;_++){if(g===f.line&&p===f.column){y=_;break}h[_]===`
`?(p=1,g+=1):p+=1}return y}class u{constructor(f={}){this.raws={},this[r]=!1,this[i]=!0;for(let p in f)if(p==="nodes"){this.nodes=[];for(let g of f[p])typeof g.clone=="function"?this.append(g.clone()):this.append(g)}else this[p]=f[p]}addToError(f){if(f.postcssNode=this,f.stack&&this.source&&/\n\s{4}at /.test(f.stack)){let p=this.source;f.stack=f.stack.replace(/\n\s{4}at /,`$&${p.input.from}:${p.start.line}:${p.start.column}$&`)}return f}after(f){return this.parent.insertAfter(this,f),this}assign(f={}){for(let p in f)this[p]=f[p];return this}before(f){return this.parent.insertBefore(this,f),this}cleanRaws(f){delete this.raws.before,delete this.raws.after,f||delete this.raws.between}clone(f={}){let p=o(this);for(let g in f)p[g]=f[g];return p}cloneAfter(f={}){let p=this.clone(f);return this.parent.insertAfter(this,p),p}cloneBefore(f={}){let p=this.clone(f);return this.parent.insertBefore(this,p),p}error(f,p={}){if(this.source){let{end:g,start:y}=this.rangeBy(p);return this.source.input.error(f,{column:y.column,line:y.line},{column:g.column,line:g.line},p)}return new t(f)}getProxyProcessor(){return{get(f,p){return p==="proxyOf"?f:p==="root"?()=>f.root().toProxy():f[p]},set(f,p,g){return f[p]===g||(f[p]=g,(p==="prop"||p==="value"||p==="name"||p==="params"||p==="important"||p==="text")&&f.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let f=this;for(;f=f.parent;)f[r]=!1}}next(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f+1]}positionBy(f){let p=this.source.start;if(f.index)p=this.positionInside(f.index);else if(f.word){let y=this.source.input.css.slice(l(this.source.input.css,this.source.start),l(this.source.input.css,this.source.end)).indexOf(f.word);y!==-1&&(p=this.positionInside(y))}return p}positionInside(f){let p=this.source.start.column,g=this.source.start.line,y=l(this.source.input.css,this.source.start),_=y+f;for(let T=y;T<_;T++)this.source.input.css[T]===`
`?(p=1,g+=1):p+=1;return{column:p,line:g}}prev(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f-1]}rangeBy(f){let p={column:this.source.start.column,line:this.source.start.line},g=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:p.column+1,line:p.line};if(f.word){let _=this.source.input.css.slice(l(this.source.input.css,this.source.start),l(this.source.input.css,this.source.end)).indexOf(f.word);_!==-1&&(p=this.positionInside(_),g=this.positionInside(_+f.word.length))}else f.start?p={column:f.start.column,line:f.start.line}:f.index&&(p=this.positionInside(f.index)),f.end?g={column:f.end.column,line:f.end.line}:typeof f.endIndex=="number"?g=this.positionInside(f.endIndex):f.index&&(g=this.positionInside(f.index+1));return(g.line<p.line||g.line===p.line&&g.column<=p.column)&&(g={column:p.column+1,line:p.line}),{end:g,start:p}}raw(f,p){return new e().raw(this,f,p)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...f){if(this.parent){let p=this,g=!1;for(let y of f)y===this?g=!0:g?(this.parent.insertAfter(p,y),p=y):this.parent.insertBefore(p,y);g||this.remove()}return this}root(){let f=this;for(;f.parent&&f.parent.type!=="document";)f=f.parent;return f}toJSON(f,p){let g={},y=p==null;p=p||new Map;let _=0;for(let T in this){if(!Object.prototype.hasOwnProperty.call(this,T)||T==="parent"||T==="proxyCache")continue;let S=this[T];if(Array.isArray(S))g[T]=S.map(A=>typeof A=="object"&&A.toJSON?A.toJSON(null,p):A);else if(typeof S=="object"&&S.toJSON)g[T]=S.toJSON(null,p);else if(T==="source"){let A=p.get(S.input);A==null&&(A=_,p.set(S.input,_),_++),g[T]={end:S.end,inputId:A,start:S.start}}else g[T]=S}return y&&(g.inputs=[...p.keys()].map(T=>T.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(f=n){f.stringify&&(f=f.stringify);let p="";return f(this,g=>{p+=g}),p}warn(f,p,g){let y={node:this};for(let _ in g)y[_]=g[_];return f.warn(p,y)}get proxyOf(){return this}}return ey=u,u.default=u,ey}var ty,CS;function vp(){if(CS)return ty;CS=1;let t=yp();class e extends t{constructor(r){super(r),this.type="comment"}}return ty=e,e.default=e,ty}var ny,IS;function _p(){if(IS)return ny;IS=1;let t=yp();class e extends t{constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r={...r,value:String(r.value)}),super(r),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return ny=e,e.default=e,ny}var ry,PS;function Ma(){if(PS)return ry;PS=1;let t=vp(),e=_p(),n=yp(),{isClean:r,my:i}=W0(),o,l,u,h;function f(y){return y.map(_=>(_.nodes&&(_.nodes=f(_.nodes)),delete _.source,_))}function p(y){if(y[r]=!1,y.proxyOf.nodes)for(let _ of y.proxyOf.nodes)p(_)}class g extends n{append(..._){for(let T of _){let S=this.normalize(T,this.last);for(let A of S)this.proxyOf.nodes.push(A)}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let T of this.nodes)T.cleanRaws(_)}each(_){if(!this.proxyOf.nodes)return;let T=this.getIterator(),S,A;for(;this.indexes[T]<this.proxyOf.nodes.length&&(S=this.indexes[T],A=_(this.proxyOf.nodes[S],S),A!==!1);)this.indexes[T]+=1;return delete this.indexes[T],A}every(_){return this.nodes.every(_)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}getProxyProcessor(){return{get(_,T){return T==="proxyOf"?_:_[T]?T==="each"||typeof T=="string"&&T.startsWith("walk")?(...S)=>_[T](...S.map(A=>typeof A=="function"?(P,O)=>A(P.toProxy(),O):A)):T==="every"||T==="some"?S=>_[T]((A,...P)=>S(A.toProxy(),...P)):T==="root"?()=>_.root().toProxy():T==="nodes"?_.nodes.map(S=>S.toProxy()):T==="first"||T==="last"?_[T].toProxy():_[T]:_[T]},set(_,T,S){return _[T]===S||(_[T]=S,(T==="name"||T==="params"||T==="selector")&&_.markDirty()),!0}}}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}insertAfter(_,T){let S=this.index(_),A=this.normalize(T,this.proxyOf.nodes[S]).reverse();S=this.index(_);for(let O of A)this.proxyOf.nodes.splice(S+1,0,O);let P;for(let O in this.indexes)P=this.indexes[O],S<P&&(this.indexes[O]=P+A.length);return this.markDirty(),this}insertBefore(_,T){let S=this.index(_),A=S===0?"prepend":!1,P=this.normalize(T,this.proxyOf.nodes[S],A).reverse();S=this.index(_);for(let V of P)this.proxyOf.nodes.splice(S,0,V);let O;for(let V in this.indexes)O=this.indexes[V],S<=O&&(this.indexes[V]=O+P.length);return this.markDirty(),this}normalize(_,T){if(typeof _=="string")_=f(l(_).nodes);else if(typeof _>"u")_=[];else if(Array.isArray(_)){_=_.slice(0);for(let A of _)A.parent&&A.parent.removeChild(A,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let A of _)A.parent&&A.parent.removeChild(A,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value>"u")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new e(_)]}else if(_.selector||_.selectors)_=[new h(_)];else if(_.name)_=[new o(_)];else if(_.text)_=[new t(_)];else throw new Error("Unknown node type in node creation");return _.map(A=>(A[i]||g.rebuild(A),A=A.proxyOf,A.parent&&A.parent.removeChild(A),A[r]&&p(A),A.raws||(A.raws={}),typeof A.raws.before>"u"&&T&&typeof T.raws.before<"u"&&(A.raws.before=T.raws.before.replace(/\S/g,"")),A.parent=this.proxyOf,A))}prepend(..._){_=_.reverse();for(let T of _){let S=this.normalize(T,this.first,"prepend").reverse();for(let A of S)this.proxyOf.nodes.unshift(A);for(let A in this.indexes)this.indexes[A]=this.indexes[A]+S.length}return this.markDirty(),this}push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let T;for(let S in this.indexes)T=this.indexes[S],T>=_&&(this.indexes[S]=T-1);return this.markDirty(),this}replaceValues(_,T,S){return S||(S=T,T={}),this.walkDecls(A=>{T.props&&!T.props.includes(A.prop)||T.fast&&!A.value.includes(T.fast)||(A.value=A.value.replace(_,S))}),this.markDirty(),this}some(_){return this.nodes.some(_)}walk(_){return this.each((T,S)=>{let A;try{A=_(T,S)}catch(P){throw T.addToError(P)}return A!==!1&&T.walk&&(A=T.walk(_)),A})}walkAtRules(_,T){return T?_ instanceof RegExp?this.walk((S,A)=>{if(S.type==="atrule"&&_.test(S.name))return T(S,A)}):this.walk((S,A)=>{if(S.type==="atrule"&&S.name===_)return T(S,A)}):(T=_,this.walk((S,A)=>{if(S.type==="atrule")return T(S,A)}))}walkComments(_){return this.walk((T,S)=>{if(T.type==="comment")return _(T,S)})}walkDecls(_,T){return T?_ instanceof RegExp?this.walk((S,A)=>{if(S.type==="decl"&&_.test(S.prop))return T(S,A)}):this.walk((S,A)=>{if(S.type==="decl"&&S.prop===_)return T(S,A)}):(T=_,this.walk((S,A)=>{if(S.type==="decl")return T(S,A)}))}walkRules(_,T){return T?_ instanceof RegExp?this.walk((S,A)=>{if(S.type==="rule"&&_.test(S.selector))return T(S,A)}):this.walk((S,A)=>{if(S.type==="rule"&&S.selector===_)return T(S,A)}):(T=_,this.walk((S,A)=>{if(S.type==="rule")return T(S,A)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return g.registerParse=y=>{l=y},g.registerRule=y=>{h=y},g.registerAtRule=y=>{o=y},g.registerRoot=y=>{u=y},ry=g,g.default=g,g.rebuild=y=>{y.type==="atrule"?Object.setPrototypeOf(y,o.prototype):y.type==="rule"?Object.setPrototypeOf(y,h.prototype):y.type==="decl"?Object.setPrototypeOf(y,e.prototype):y.type==="comment"?Object.setPrototypeOf(y,t.prototype):y.type==="root"&&Object.setPrototypeOf(y,u.prototype),y[i]=!0,y.nodes&&y.nodes.forEach(_=>{g.rebuild(_)})},ry}var iy,bS;function H0(){if(bS)return iy;bS=1;let t=Ma();class e extends t{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return iy=e,e.default=e,t.registerAtRule(e),iy}var sy,kS;function K0(){if(kS)return sy;kS=1;let t=Ma(),e,n;class r extends t{constructor(o){super({type:"document",...o}),this.nodes||(this.nodes=[])}toResult(o={}){return new e(new n,this,o).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},sy=r,r.default=r,sy}var oy,DS;function kj(){if(DS)return oy;DS=1;let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return oy={nanoid:(r=21)=>{let i="",o=r|0;for(;o--;)i+=t[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(o=i)=>{let l="",u=o|0;for(;u--;)l+=r[Math.random()*r.length|0];return l}},oy}var ay,NS;function pI(){if(NS)return ay;NS=1;let{existsSync:t,readFileSync:e}=gi,{dirname:n,join:r}=gi,{SourceMapConsumer:i,SourceMapGenerator:o}=gi;function l(h){return Buffer?Buffer.from(h,"base64").toString():window.atob(h)}class u{constructor(f,p){if(p.map===!1)return;this.loadAnnotation(f),this.inline=this.startWith(this.annotation,"data:");let g=p.map?p.map.prev:void 0,y=this.loadMap(p.from,g);!this.mapFile&&p.from&&(this.mapFile=p.from),this.mapFile&&(this.root=n(this.mapFile)),y&&(this.text=y)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(f){let p=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,y=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/,T=f.match(y)||f.match(_);if(T)return decodeURIComponent(f.substr(T[0].length));let S=f.match(p)||f.match(g);if(S)return l(f.substr(S[0].length));let A=f.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+A)}getAnnotationURL(f){return f.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(f){return typeof f!="object"?!1:typeof f.mappings=="string"||typeof f._mappings=="string"||Array.isArray(f.sections)}loadAnnotation(f){let p=f.match(/\/\*\s*# sourceMappingURL=/g);if(!p)return;let g=f.lastIndexOf(p.pop()),y=f.indexOf("*/",g);g>-1&&y>-1&&(this.annotation=this.getAnnotationURL(f.substring(g,y)))}loadFile(f){if(this.root=n(f),t(f))return this.mapFile=f,e(f,"utf-8").toString().trim()}loadMap(f,p){if(p===!1)return!1;if(p){if(typeof p=="string")return p;if(typeof p=="function"){let g=p(f);if(g){let y=this.loadFile(g);if(!y)throw new Error("Unable to load previous source map: "+g.toString());return y}}else{if(p instanceof i)return o.fromSourceMap(p).toString();if(p instanceof o)return p.toString();if(this.isMap(p))return JSON.stringify(p);throw new Error("Unsupported previous source map format: "+p.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return f&&(g=r(n(f),g)),this.loadFile(g)}}}startWith(f,p){return f?f.substr(0,p.length)===p:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return ay=u,u.default=u,ay}var ly,OS;function wp(){if(OS)return ly;OS=1;let{nanoid:t}=kj(),{isAbsolute:e,resolve:n}=gi,{SourceMapConsumer:r,SourceMapGenerator:i}=gi,{fileURLToPath:o,pathToFileURL:l}=gi,u=q0(),h=pI(),f=gi,p=Symbol("fromOffsetCache"),g=!!(r&&i),y=!!(n&&e);class _{constructor(S,A={}){if(S===null||typeof S>"u"||typeof S=="object"&&!S.toString)throw new Error(`PostCSS received ${S} instead of CSS string`);if(this.css=S.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,A.from&&(!y||/^\w+:\/\//.test(A.from)||e(A.from)?this.file=A.from:this.file=n(A.from)),y&&g){let P=new h(this.css,A);if(P.text){this.map=P;let O=P.consumer().file;!this.file&&O&&(this.file=this.mapResolve(O))}}this.file||(this.id="<input css "+t(6)+">"),this.map&&(this.map.file=this.from)}error(S,A,P,O={}){let V,L,R;if(A&&typeof A=="object"){let k=A,I=P;if(typeof k.offset=="number"){let D=this.fromOffset(k.offset);A=D.line,P=D.col}else A=k.line,P=k.column;if(typeof I.offset=="number"){let D=this.fromOffset(I.offset);L=D.line,V=D.col}else L=I.line,V=I.column}else if(!P){let k=this.fromOffset(A);A=k.line,P=k.col}let B=this.origin(A,P,L,V);return B?R=new u(S,B.endLine===void 0?B.line:{column:B.column,line:B.line},B.endLine===void 0?B.column:{column:B.endColumn,line:B.endLine},B.source,B.file,O.plugin):R=new u(S,L===void 0?A:{column:P,line:A},L===void 0?P:{column:V,line:L},this.css,this.file,O.plugin),R.input={column:P,endColumn:V,endLine:L,line:A,source:this.css},this.file&&(l&&(R.input.url=l(this.file).toString()),R.input.file=this.file),R}fromOffset(S){let A,P;if(this[p])P=this[p];else{let V=this.css.split(`
`);P=new Array(V.length);let L=0;for(let R=0,B=V.length;R<B;R++)P[R]=L,L+=V[R].length+1;this[p]=P}A=P[P.length-1];let O=0;if(S>=A)O=P.length-1;else{let V=P.length-2,L;for(;O<V;)if(L=O+(V-O>>1),S<P[L])V=L-1;else if(S>=P[L+1])O=L+1;else{O=L;break}}return{col:S-P[O]+1,line:O+1}}mapResolve(S){return/^\w+:\/\//.test(S)?S:n(this.map.consumer().sourceRoot||this.map.root||".",S)}origin(S,A,P,O){if(!this.map)return!1;let V=this.map.consumer(),L=V.originalPositionFor({column:A,line:S});if(!L.source)return!1;let R;typeof P=="number"&&(R=V.originalPositionFor({column:O,line:P}));let B;e(L.source)?B=l(L.source):B=new URL(L.source,this.map.consumer().sourceRoot||l(this.map.mapFile));let k={column:L.column,endColumn:R&&R.column,endLine:R&&R.line,line:L.line,url:B.toString()};if(B.protocol==="file:")if(o)k.file=o(B);else throw new Error("file: protocol is not available in this PostCSS build");let I=V.sourceContentFor(L.source);return I&&(k.source=I),k}toJSON(){let S={};for(let A of["hasBOM","css","file","id"])this[A]!=null&&(S[A]=this[A]);return this.map&&(S.map={...this.map},S.map.consumerCache&&(S.map.consumerCache=void 0)),S}get from(){return this.file||this.id}}return ly=_,_.default=_,f&&f.registerInput&&f.registerInput(_),ly}var uy,MS;function sh(){if(MS)return uy;MS=1;let t=Ma(),e,n;class r extends t{constructor(o){super(o),this.type="root",this.nodes||(this.nodes=[])}normalize(o,l,u){let h=super.normalize(o);if(l){if(u==="prepend")this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l)for(let f of h)f.raws.before=l.raws.before}return h}removeChild(o,l){let u=this.index(o);return!l&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(o)}toResult(o={}){return new e(new n,this,o).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},uy=r,r.default=r,t.registerRoot(r),uy}var cy,VS;function mI(){if(VS)return cy;VS=1;let t={comma(e){return t.split(e,[","],!0)},space(e){let n=[" ",`
`,"	"];return t.split(e,n)},split(e,n,r){let i=[],o="",l=!1,u=0,h=!1,f="",p=!1;for(let g of e)p?p=!1:g==="\\"?p=!0:h?g===f&&(h=!1):g==='"'||g==="'"?(h=!0,f=g):g==="("?u+=1:g===")"?u>0&&(u-=1):u===0&&n.includes(g)&&(l=!0),l?(o!==""&&i.push(o.trim()),o="",l=!1):o+=g;return(r||o!=="")&&i.push(o.trim()),i}};return cy=t,t.default=t,cy}var hy,LS;function G0(){if(LS)return hy;LS=1;let t=Ma(),e=mI();class n extends t{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return e.comma(this.selector)}set selectors(i){let o=this.selector?this.selector.match(/,\s*/):null,l=o?o[0]:","+this.raw("between","beforeOpen");this.selector=i.join(l)}}return hy=n,n.default=n,t.registerRule(n),hy}var dy,FS;function Dj(){if(FS)return dy;FS=1;let t=H0(),e=vp(),n=_p(),r=wp(),i=pI(),o=sh(),l=G0();function u(h,f){if(Array.isArray(h))return h.map(y=>u(y));let{inputs:p,...g}=h;if(p){f=[];for(let y of p){let _={...y,__proto__:r.prototype};_.map&&(_.map={..._.map,__proto__:i.prototype}),f.push(_)}}if(g.nodes&&(g.nodes=h.nodes.map(y=>u(y,f))),g.source){let{inputId:y,..._}=g.source;g.source=_,y!=null&&(g.source.input=f[y])}if(g.type==="root")return new o(g);if(g.type==="decl")return new n(g);if(g.type==="rule")return new l(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new t(g);throw new Error("Unknown node type: "+h.type)}return dy=u,u.default=u,dy}var fy,US;function gI(){if(US)return fy;US=1;let{dirname:t,relative:e,resolve:n,sep:r}=gi,{SourceMapConsumer:i,SourceMapGenerator:o}=gi,{pathToFileURL:l}=gi,u=wp(),h=!!(i&&o),f=!!(t&&n&&e&&r);class p{constructor(y,_,T,S){this.stringify=y,this.mapOpts=T.map||{},this.root=_,this.opts=T,this.css=S,this.originalCSS=S,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let y;this.isInline()?y="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?y=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?y=this.mapOpts.annotation(this.opts.to,this.root):y=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+y+" */"}applyPrevMaps(){for(let y of this.previous()){let _=this.toUrl(this.path(y.file)),T=y.root||t(y.file),S;this.mapOpts.sourcesContent===!1?(S=new i(y.text),S.sourcesContent&&(S.sourcesContent=null)):S=y.consumer(),this.map.applySourceMap(S,_,this.toUrl(this.path(T)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let y;for(let _=this.root.nodes.length-1;_>=0;_--)y=this.root.nodes[_],y.type==="comment"&&y.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),f&&h&&this.isMap())return this.generateMap();{let y="";return this.stringify(this.root,_=>{y+=_}),[y]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let y=this.previous()[0].consumer();y.file=this.outputFile(),this.map=o.fromSourceMap(y,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});let y=1,_=1,T="<no source>",S={generated:{column:0,line:0},original:{column:0,line:0},source:""},A,P;this.stringify(this.root,(O,V,L)=>{if(this.css+=O,V&&L!=="end"&&(S.generated.line=y,S.generated.column=_-1,V.source&&V.source.start?(S.source=this.sourcePath(V),S.original.line=V.source.start.line,S.original.column=V.source.start.column-1,this.map.addMapping(S)):(S.source=T,S.original.line=1,S.original.column=0,this.map.addMapping(S))),P=O.match(/\n/g),P?(y+=P.length,A=O.lastIndexOf(`
`),_=O.length-A):_+=O.length,V&&L!=="start"){let R=V.parent||{raws:{}};(!(V.type==="decl"||V.type==="atrule"&&!V.nodes)||V!==R.last||R.raws.semicolon)&&(V.source&&V.source.end?(S.source=this.sourcePath(V),S.original.line=V.source.end.line,S.original.column=V.source.end.column-1,S.generated.line=y,S.generated.column=_-2,this.map.addMapping(S)):(S.source=T,S.original.line=1,S.original.column=0,S.generated.line=y,S.generated.column=_-1,this.map.addMapping(S)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(y=>y.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let y=this.mapOpts.annotation;return typeof y<"u"&&y!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(y=>y.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(y){if(this.mapOpts.absolute||y.charCodeAt(0)===60||/^\w+:\/\//.test(y))return y;let _=this.memoizedPaths.get(y);if(_)return _;let T=this.opts.to?t(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(T=t(n(T,this.mapOpts.annotation)));let S=e(T,y);return this.memoizedPaths.set(y,S),S}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(y=>{if(y.source&&y.source.input.map){let _=y.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let y=new u(this.originalCSS,this.opts);y.map&&this.previousMaps.push(y.map)}return this.previousMaps}setSourcesContent(){let y={};if(this.root)this.root.walk(_=>{if(_.source){let T=_.source.input.from;if(T&&!y[T]){y[T]=!0;let S=this.usesFileUrls?this.toFileUrl(T):this.toUrl(this.path(T));this.map.setSourceContent(S,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}sourcePath(y){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(y.source.input.from):this.toUrl(this.path(y.source.input.from))}toBase64(y){return Buffer?Buffer.from(y).toString("base64"):window.btoa(unescape(encodeURIComponent(y)))}toFileUrl(y){let _=this.memoizedFileURLs.get(y);if(_)return _;if(l){let T=l(y).toString();return this.memoizedFileURLs.set(y,T),T}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(y){let _=this.memoizedURLs.get(y);if(_)return _;r==="\\"&&(y=y.replace(/\\/g,"/"));let T=encodeURI(y).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(y,T),T}}return fy=p,fy}var py,jS;function Nj(){if(jS)return py;jS=1;const t=39,e=34,n=92,r=47,i=10,o=32,l=12,u=9,h=13,f=91,p=93,g=40,y=41,_=123,T=125,S=59,A=42,P=58,O=64,V=/[\t\n\f\r "#'()/;[\\\]{}]/g,L=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,R=/.[\r\n"'(/\\]/,B=/[\da-f]/i;return py=function(I,D={}){let N=I.css.valueOf(),j=D.ignoreErrors,F,M,Ve,ue,J,le,te,ve,ce,H,oe=N.length,de=0,Ge=[],$e=[];function ot(){return de}function ct(Zt){throw I.error("Unclosed "+Zt,de)}function dt(){return $e.length===0&&de>=oe}function et(Zt){if($e.length)return $e.pop();if(de>=oe)return;let sr=Zt?Zt.ignoreUnclosed:!1;switch(F=N.charCodeAt(de),F){case i:case o:case u:case h:case l:{ue=de;do ue+=1,F=N.charCodeAt(ue);while(F===o||F===i||F===u||F===h||F===l);le=["space",N.slice(de,ue)],de=ue-1;break}case f:case p:case _:case T:case P:case S:case y:{let Xt=String.fromCharCode(F);le=[Xt,Xt,de];break}case g:{if(H=Ge.length?Ge.pop()[1]:"",ce=N.charCodeAt(de+1),H==="url"&&ce!==t&&ce!==e&&ce!==o&&ce!==i&&ce!==u&&ce!==l&&ce!==h){ue=de;do{if(te=!1,ue=N.indexOf(")",ue+1),ue===-1)if(j||sr){ue=de;break}else ct("bracket");for(ve=ue;N.charCodeAt(ve-1)===n;)ve-=1,te=!te}while(te);le=["brackets",N.slice(de,ue+1),de,ue],de=ue}else ue=N.indexOf(")",de+1),M=N.slice(de,ue+1),ue===-1||R.test(M)?le=["(","(",de]:(le=["brackets",M,de,ue],de=ue);break}case t:case e:{J=F===t?"'":'"',ue=de;do{if(te=!1,ue=N.indexOf(J,ue+1),ue===-1)if(j||sr){ue=de+1;break}else ct("string");for(ve=ue;N.charCodeAt(ve-1)===n;)ve-=1,te=!te}while(te);le=["string",N.slice(de,ue+1),de,ue],de=ue;break}case O:{V.lastIndex=de+1,V.test(N),V.lastIndex===0?ue=N.length-1:ue=V.lastIndex-2,le=["at-word",N.slice(de,ue+1),de,ue],de=ue;break}case n:{for(ue=de,Ve=!0;N.charCodeAt(ue+1)===n;)ue+=1,Ve=!Ve;if(F=N.charCodeAt(ue+1),Ve&&F!==r&&F!==o&&F!==i&&F!==u&&F!==h&&F!==l&&(ue+=1,B.test(N.charAt(ue)))){for(;B.test(N.charAt(ue+1));)ue+=1;N.charCodeAt(ue+1)===o&&(ue+=1)}le=["word",N.slice(de,ue+1),de,ue],de=ue;break}default:{F===r&&N.charCodeAt(de+1)===A?(ue=N.indexOf("*/",de+2)+1,ue===0&&(j||sr?ue=N.length:ct("comment")),le=["comment",N.slice(de,ue+1),de,ue],de=ue):(L.lastIndex=de+1,L.test(N),L.lastIndex===0?ue=N.length-1:ue=L.lastIndex-2,le=["word",N.slice(de,ue+1),de,ue],Ge.push(le),de=ue);break}}return de++,le}function kt(Zt){$e.push(Zt)}return{back:kt,endOfFile:dt,nextToken:et,position:ot}},py}var my,BS;function Oj(){if(BS)return my;BS=1;let t=H0(),e=vp(),n=_p(),r=sh(),i=G0(),o=Nj();const l={empty:!0,space:!0};function u(f){for(let p=f.length-1;p>=0;p--){let g=f[p],y=g[3]||g[2];if(y)return y}}class h{constructor(p){this.input=p,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:p,start:{column:1,line:1,offset:0}}}atrule(p){let g=new t;g.name=p[1].slice(1),g.name===""&&this.unnamedAtrule(g,p),this.init(g,p[2]);let y,_,T,S=!1,A=!1,P=[],O=[];for(;!this.tokenizer.endOfFile();){if(p=this.tokenizer.nextToken(),y=p[0],y==="("||y==="["?O.push(y==="("?")":"]"):y==="{"&&O.length>0?O.push("}"):y===O[O.length-1]&&O.pop(),O.length===0)if(y===";"){g.source.end=this.getPosition(p[2]),g.source.end.offset++,this.semicolon=!0;break}else if(y==="{"){A=!0;break}else if(y==="}"){if(P.length>0){for(T=P.length-1,_=P[T];_&&_[0]==="space";)_=P[--T];_&&(g.source.end=this.getPosition(_[3]||_[2]),g.source.end.offset++)}this.end(p);break}else P.push(p);else P.push(p);if(this.tokenizer.endOfFile()){S=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(P),P.length?(g.raws.afterName=this.spacesAndCommentsFromStart(P),this.raw(g,"params",P),S&&(p=P[P.length-1],g.source.end=this.getPosition(p[3]||p[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),A&&(g.nodes=[],this.current=g)}checkMissedSemicolon(p){let g=this.colon(p);if(g===!1)return;let y=0,_;for(let T=g-1;T>=0&&(_=p[T],!(_[0]!=="space"&&(y+=1,y===2)));T--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}colon(p){let g=0,y,_,T;for(let[S,A]of p.entries()){if(_=A,T=_[0],T==="("&&(g+=1),T===")"&&(g-=1),g===0&&T===":")if(!y)this.doubleColon(_);else{if(y[0]==="word"&&y[1]==="progid")continue;return S}y=_}return!1}comment(p){let g=new e;this.init(g,p[2]),g.source.end=this.getPosition(p[3]||p[2]),g.source.end.offset++;let y=p[1].slice(2,-2);if(/^\s*$/.test(y))g.text="",g.raws.left=y,g.raws.right="";else{let _=y.match(/^(\s*)([^]*\S)(\s*)$/);g.text=_[2],g.raws.left=_[1],g.raws.right=_[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(p,g){let y=new n;this.init(y,p[0][2]);let _=p[p.length-1];for(_[0]===";"&&(this.semicolon=!0,p.pop()),y.source.end=this.getPosition(_[3]||_[2]||u(p)),y.source.end.offset++;p[0][0]!=="word";)p.length===1&&this.unknownWord(p),y.raws.before+=p.shift()[1];for(y.source.start=this.getPosition(p[0][2]),y.prop="";p.length;){let O=p[0][0];if(O===":"||O==="space"||O==="comment")break;y.prop+=p.shift()[1]}y.raws.between="";let T;for(;p.length;)if(T=p.shift(),T[0]===":"){y.raws.between+=T[1];break}else T[0]==="word"&&/\w/.test(T[1])&&this.unknownWord([T]),y.raws.between+=T[1];(y.prop[0]==="_"||y.prop[0]==="*")&&(y.raws.before+=y.prop[0],y.prop=y.prop.slice(1));let S=[],A;for(;p.length&&(A=p[0][0],!(A!=="space"&&A!=="comment"));)S.push(p.shift());this.precheckMissedSemicolon(p);for(let O=p.length-1;O>=0;O--){if(T=p[O],T[1].toLowerCase()==="!important"){y.important=!0;let V=this.stringFrom(p,O);V=this.spacesFromEnd(p)+V,V!==" !important"&&(y.raws.important=V);break}else if(T[1].toLowerCase()==="important"){let V=p.slice(0),L="";for(let R=O;R>0;R--){let B=V[R][0];if(L.trim().startsWith("!")&&B!=="space")break;L=V.pop()[1]+L}L.trim().startsWith("!")&&(y.important=!0,y.raws.important=L,p=V)}if(T[0]!=="space"&&T[0]!=="comment")break}p.some(O=>O[0]!=="space"&&O[0]!=="comment")&&(y.raws.between+=S.map(O=>O[1]).join(""),S=[]),this.raw(y,"value",S.concat(p),g),y.value.includes(":")&&!g&&this.checkMissedSemicolon(p)}doubleColon(p){throw this.input.error("Double colon",{offset:p[2]},{offset:p[2]+p[1].length})}emptyRule(p){let g=new i;this.init(g,p[2]),g.selector="",g.raws.between="",this.current=g}end(p){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(p[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(p)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(p){if(this.spaces+=p[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(p){let g=this.input.fromOffset(p);return{column:g.col,line:g.line,offset:p}}init(p,g){this.current.push(p),p.source={input:this.input,start:this.getPosition(g)},p.raws.before=this.spaces,this.spaces="",p.type!=="comment"&&(this.semicolon=!1)}other(p){let g=!1,y=null,_=!1,T=null,S=[],A=p[1].startsWith("--"),P=[],O=p;for(;O;){if(y=O[0],P.push(O),y==="("||y==="[")T||(T=O),S.push(y==="("?")":"]");else if(A&&_&&y==="{")T||(T=O),S.push("}");else if(S.length===0)if(y===";")if(_){this.decl(P,A);return}else break;else if(y==="{"){this.rule(P);return}else if(y==="}"){this.tokenizer.back(P.pop()),g=!0;break}else y===":"&&(_=!0);else y===S[S.length-1]&&(S.pop(),S.length===0&&(T=null));O=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),S.length>0&&this.unclosedBracket(T),g&&_){if(!A)for(;P.length&&(O=P[P.length-1][0],!(O!=="space"&&O!=="comment"));)this.tokenizer.back(P.pop());this.decl(P,A)}else this.unknownWord(P)}parse(){let p;for(;!this.tokenizer.endOfFile();)switch(p=this.tokenizer.nextToken(),p[0]){case"space":this.spaces+=p[1];break;case";":this.freeSemicolon(p);break;case"}":this.end(p);break;case"comment":this.comment(p);break;case"at-word":this.atrule(p);break;case"{":this.emptyRule(p);break;default:this.other(p);break}this.endFile()}precheckMissedSemicolon(){}raw(p,g,y,_){let T,S,A=y.length,P="",O=!0,V,L;for(let R=0;R<A;R+=1)T=y[R],S=T[0],S==="space"&&R===A-1&&!_?O=!1:S==="comment"?(L=y[R-1]?y[R-1][0]:"empty",V=y[R+1]?y[R+1][0]:"empty",!l[L]&&!l[V]?P.slice(-1)===","?O=!1:P+=T[1]:O=!1):P+=T[1];if(!O){let R=y.reduce((B,k)=>B+k[1],"");p.raws[g]={raw:R,value:P}}p[g]=P}rule(p){p.pop();let g=new i;this.init(g,p[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(p),this.raw(g,"selector",p),this.current=g}spacesAndCommentsFromEnd(p){let g,y="";for(;p.length&&(g=p[p.length-1][0],!(g!=="space"&&g!=="comment"));)y=p.pop()[1]+y;return y}spacesAndCommentsFromStart(p){let g,y="";for(;p.length&&(g=p[0][0],!(g!=="space"&&g!=="comment"));)y+=p.shift()[1];return y}spacesFromEnd(p){let g,y="";for(;p.length&&(g=p[p.length-1][0],g==="space");)y=p.pop()[1]+y;return y}stringFrom(p,g){let y="";for(let _=g;_<p.length;_++)y+=p[_][1];return p.splice(g,p.length-g),y}unclosedBlock(){let p=this.current.source.start;throw this.input.error("Unclosed block",p.line,p.column)}unclosedBracket(p){throw this.input.error("Unclosed bracket",{offset:p[2]},{offset:p[2]+1})}unexpectedClose(p){throw this.input.error("Unexpected }",{offset:p[2]},{offset:p[2]+1})}unknownWord(p){throw this.input.error("Unknown word",{offset:p[0][2]},{offset:p[0][2]+p[0][1].length})}unnamedAtrule(p,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return my=h,my}var gy,zS;function Q0(){if(zS)return gy;zS=1;let t=Ma(),e=wp(),n=Oj();function r(i,o){let l=new e(i,o),u=new n(l);try{u.parse()}catch(h){throw h}return u.root}return gy=r,r.default=r,t.registerParse(r),gy}var yy,$S;function yI(){if($S)return yy;$S=1;class t{constructor(n,r={}){if(this.type="warning",this.text=n,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return yy=t,t.default=t,yy}var vy,qS;function Y0(){if(qS)return vy;qS=1;let t=yI();class e{constructor(r,i,o){this.processor=r,this.messages=[],this.root=i,this.opts=o,this.css=void 0,this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let o=new t(r,i);return this.messages.push(o),o}warnings(){return this.messages.filter(r=>r.type==="warning")}get content(){return this.css}}return vy=e,e.default=e,vy}var _y,WS;function vI(){if(WS)return _y;WS=1;let t=Ma(),e=K0(),n=gI(),r=Q0(),i=Y0(),o=sh(),l=gp(),{isClean:u,my:h}=W0();const f={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},p={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},y=0;function _(V){return typeof V=="object"&&typeof V.then=="function"}function T(V){let L=!1,R=f[V.type];return V.type==="decl"?L=V.prop.toLowerCase():V.type==="atrule"&&(L=V.name.toLowerCase()),L&&V.append?[R,R+"-"+L,y,R+"Exit",R+"Exit-"+L]:L?[R,R+"-"+L,R+"Exit",R+"Exit-"+L]:V.append?[R,y,R+"Exit"]:[R,R+"Exit"]}function S(V){let L;return V.type==="document"?L=["Document",y,"DocumentExit"]:V.type==="root"?L=["Root",y,"RootExit"]:L=T(V),{eventIndex:0,events:L,iterator:0,node:V,visitorIndex:0,visitors:[]}}function A(V){return V[u]=!1,V.nodes&&V.nodes.forEach(L=>A(L)),V}let P={};class O{constructor(L,R,B){this.stringified=!1,this.processed=!1;let k;if(typeof R=="object"&&R!==null&&(R.type==="root"||R.type==="document"))k=A(R);else if(R instanceof O||R instanceof i)k=A(R.root),R.map&&(typeof B.map>"u"&&(B.map={}),B.map.inline||(B.map.inline=!1),B.map.prev=R.map);else{let I=r;B.syntax&&(I=B.syntax.parse),B.parser&&(I=B.parser),I.parse&&(I=I.parse);try{k=I(R,B)}catch(D){this.processed=!0,this.error=D}k&&!k[h]&&t.rebuild(k)}this.result=new i(L,k,B),this.helpers={...P,postcss:P,result:this.result},this.plugins=this.processor.plugins.map(I=>typeof I=="object"&&I.prepare?{...I,...I.prepare(this.result)}:I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(L){return this.async().catch(L)}finally(L){return this.async().then(L,L)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(L,R){let B=this.result.lastPlugin;try{R&&R.addToError(L),this.error=L,L.name==="CssSyntaxError"&&!L.plugin?(L.plugin=B.postcssPlugin,L.setMessage()):B.postcssVersion}catch(k){console&&console.error&&console.error(k)}return L}prepareVisitors(){this.listeners={};let L=(R,B,k)=>{this.listeners[B]||(this.listeners[B]=[]),this.listeners[B].push([R,k])};for(let R of this.plugins)if(typeof R=="object")for(let B in R){if(!p[B]&&/^[A-Z]/.test(B))throw new Error(`Unknown event ${B} in ${R.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[B])if(typeof R[B]=="object")for(let k in R[B])k==="*"?L(R,B,R[B][k]):L(R,B+"-"+k.toLowerCase(),R[B][k]);else typeof R[B]=="function"&&L(R,B,R[B])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let L=0;L<this.plugins.length;L++){let R=this.plugins[L],B=this.runOnRoot(R);if(_(B))try{await B}catch(k){throw this.handleError(k)}}if(this.prepareVisitors(),this.hasListener){let L=this.result.root;for(;!L[u];){L[u]=!0;let R=[S(L)];for(;R.length>0;){let B=this.visitTick(R);if(_(B))try{await B}catch(k){let I=R[R.length-1].node;throw this.handleError(k,I)}}}if(this.listeners.OnceExit)for(let[R,B]of this.listeners.OnceExit){this.result.lastPlugin=R;try{if(L.type==="document"){let k=L.nodes.map(I=>B(I,this.helpers));await Promise.all(k)}else await B(L,this.helpers)}catch(k){throw this.handleError(k)}}}return this.processed=!0,this.stringify()}runOnRoot(L){this.result.lastPlugin=L;try{if(typeof L=="object"&&L.Once){if(this.result.root.type==="document"){let R=this.result.root.nodes.map(B=>L.Once(B,this.helpers));return _(R[0])?Promise.all(R):R}return L.Once(this.result.root,this.helpers)}else if(typeof L=="function")return L(this.result.root,this.result)}catch(R){throw this.handleError(R)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let L=this.result.opts,R=l;L.syntax&&(R=L.syntax.stringify),L.stringifier&&(R=L.stringifier),R.stringify&&(R=R.stringify);let k=new n(R,this.result.root,this.result.opts).generate();return this.result.css=k[0],this.result.map=k[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let L of this.plugins){let R=this.runOnRoot(L);if(_(R))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let L=this.result.root;for(;!L[u];)L[u]=!0,this.walkSync(L);if(this.listeners.OnceExit)if(L.type==="document")for(let R of L.nodes)this.visitSync(this.listeners.OnceExit,R);else this.visitSync(this.listeners.OnceExit,L)}return this.result}then(L,R){return this.async().then(L,R)}toString(){return this.css}visitSync(L,R){for(let[B,k]of L){this.result.lastPlugin=B;let I;try{I=k(R,this.helpers)}catch(D){throw this.handleError(D,R.proxyOf)}if(R.type!=="root"&&R.type!=="document"&&!R.parent)return!0;if(_(I))throw this.getAsyncError()}}visitTick(L){let R=L[L.length-1],{node:B,visitors:k}=R;if(B.type!=="root"&&B.type!=="document"&&!B.parent){L.pop();return}if(k.length>0&&R.visitorIndex<k.length){let[D,N]=k[R.visitorIndex];R.visitorIndex+=1,R.visitorIndex===k.length&&(R.visitors=[],R.visitorIndex=0),this.result.lastPlugin=D;try{return N(B.toProxy(),this.helpers)}catch(j){throw this.handleError(j,B)}}if(R.iterator!==0){let D=R.iterator,N;for(;N=B.nodes[B.indexes[D]];)if(B.indexes[D]+=1,!N[u]){N[u]=!0,L.push(S(N));return}R.iterator=0,delete B.indexes[D]}let I=R.events;for(;R.eventIndex<I.length;){let D=I[R.eventIndex];if(R.eventIndex+=1,D===y){B.nodes&&B.nodes.length&&(B[u]=!0,R.iterator=B.getIterator());return}else if(this.listeners[D]){R.visitors=this.listeners[D];return}}L.pop()}walkSync(L){L[u]=!0;let R=T(L);for(let B of R)if(B===y)L.nodes&&L.each(k=>{k[u]||this.walkSync(k)});else{let k=this.listeners[B];if(k&&this.visitSync(k,L.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return O.registerPostcss=V=>{P=V},_y=O,O.default=O,o.registerLazyResult(O),e.registerLazyResult(O),_y}var wy,HS;function Mj(){if(HS)return wy;HS=1;let t=gI(),e=Q0();const n=Y0();let r=gp();class i{constructor(l,u,h){u=u.toString(),this.stringified=!1,this._processor=l,this._css=u,this._opts=h,this._map=void 0;let f,p=r;this.result=new n(this._processor,f,this._opts),this.result.css=u;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let y=new t(p,f,this._opts,u);if(y.isMap()){let[_,T]=y.generate();_&&(this.result.css=_),T&&(this.result.map=T)}else y.clearAnnotation(),this.result.css=y.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(l){return this.async().catch(l)}finally(l){return this.async().then(l,l)}sync(){if(this.error)throw this.error;return this.result}then(l,u){return this.async().then(l,u)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let l,u=e;try{l=u(this._css,this._opts)}catch(h){this.error=h}if(this.error)throw this.error;return this._root=l,l}get[Symbol.toStringTag](){return"NoWorkResult"}}return wy=i,i.default=i,wy}var Ey,KS;function Vj(){if(KS)return Ey;KS=1;let t=K0(),e=vI(),n=Mj(),r=sh();class i{constructor(l=[]){this.version="8.4.49",this.plugins=this.normalize(l)}normalize(l){let u=[];for(let h of l)if(h.postcss===!0?h=h():h.postcss&&(h=h.postcss),typeof h=="object"&&Array.isArray(h.plugins))u=u.concat(h.plugins);else if(typeof h=="object"&&h.postcssPlugin)u.push(h);else if(typeof h=="function")u.push(h);else if(!(typeof h=="object"&&(h.parse||h.stringify)))throw new Error(h+" is not a PostCSS plugin");return u}process(l,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new n(this,l,u):new e(this,l,u)}use(l){return this.plugins=this.plugins.concat(this.normalize([l])),this}}return Ey=i,i.default=i,r.registerProcessor(i),t.registerProcessor(i),Ey}var Ty,GS;function Lj(){if(GS)return Ty;GS=1;var t={};let e=H0(),n=vp(),r=Ma(),i=q0(),o=_p(),l=K0(),u=Dj(),h=wp(),f=vI(),p=mI(),g=yp(),y=Q0(),_=Vj(),T=Y0(),S=sh(),A=G0(),P=gp(),O=yI();function V(...L){return L.length===1&&Array.isArray(L[0])&&(L=L[0]),new _(L)}return V.plugin=function(R,B){let k=!1;function I(...N){console&&console.warn&&!k&&(k=!0,console.warn(R+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),t.LANG&&t.LANG.startsWith("cn")&&console.warn(R+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let j=B(...N);return j.postcssPlugin=R,j.postcssVersion=new _().version,j}let D;return Object.defineProperty(I,"postcss",{get(){return D||(D=I()),D}}),I.process=function(N,j,F){return V([I(F)]).process(N,j)},I},V.stringify=P,V.parse=y,V.fromJSON=u,V.list=p,V.comment=L=>new n(L),V.atRule=L=>new e(L),V.decl=L=>new o(L),V.rule=L=>new A(L),V.root=L=>new S(L),V.document=L=>new l(L),V.CssSyntaxError=i,V.Declaration=o,V.Container=r,V.Processor=_,V.Document=l,V.Comment=n,V.Warning=O,V.AtRule=e,V.Result=T,V.Input=h,V.Rule=A,V.Root=S,V.Node=g,f.registerPostcss(V),Ty=V,V.default=V,Ty}var Fj=Lj();const Wt=SA(Fj);Wt.stringify;Wt.fromJSON;Wt.plugin;Wt.parse;Wt.list;Wt.document;Wt.comment;Wt.atRule;Wt.rule;Wt.decl;Wt.root;Wt.CssSyntaxError;Wt.Declaration;Wt.Container;Wt.Processor;Wt.Document;Wt.Comment;Wt.Warning;Wt.AtRule;Wt.Result;Wt.Input;Wt.Rule;Wt.Root;Wt.Node;const Sf=({type:t="text",id:e,label:n,register:r,error:i,value:o,onChange:l})=>ie.jsxs("div",{children:[ie.jsx("label",{htmlFor:e,className:"text-sm text-text",children:n}),ie.jsx("input",{type:"text",id:e,name:e,value:o,onChange:l,...r,className:`rounded bg-bg w-full outline-none px-3 py-1 text-sm ${i?"border-2 border-accent":""}`}),i&&ie.jsx("span",{className:"text-xs text-red-600 font-medium",children:i.message})]});function Uj(t){return Nr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const xf=({text:t,loading:e=!1,className:n,onClick:r})=>ie.jsx("button",{className:`px-3 py-2 text-white text-sm font-semibold rounded flex items-center justify-center ${n}`,onClick:r,children:ie.jsxs("div",{className:"flex items-center gap-2",children:[e&&ie.jsx(Uj,{className:"animate-spin"}),ie.jsx("p",{children:t})]})}),jj="/Keep-Notes/assets/loginBg-EClQpL9J.png";function Bj(t){return Nr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const zj="/Keep-Notes/assets/i2logo-C35huwm9.webp";function $j(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Ep(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pv=t=>Array.isArray(t);function _I(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Rc(t){return typeof t=="string"||Array.isArray(t)}function QS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Z0(t,e,n,r){if(typeof e=="function"){const[i,o]=QS(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=QS(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Tp(t,e,n){const r=t.getProps();return Z0(r,e,n!==void 0?n:r.custom,t)}const X0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J0=["initial",...X0],oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(oh),Cs=t=>t*1e3,Is=t=>t/1e3,qj={type:"spring",stiffness:500,damping:25,restSpeed:10},Wj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hj={type:"keyframes",duration:.8},Kj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gj=(t,{keyframes:e})=>e.length>2?Hj:Va.has(t)?t.startsWith("scale")?Wj(e[1]):qj:Kj;function e_(t,e){return t?t[e]||t.default||t:void 0}const Qj={skipAnimations:!1,useManualTiming:!1},Yj=t=>t!==null;function Sp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Yj),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const br=t=>t;let mv=br;function Zj(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,p=!1,g=!1)=>{const _=g&&r?e:n;return p&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,h.process(f))}};return h}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"],Xj=40;function wI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Nd.reduce((P,O)=>(P[O]=Zj(o),P),{}),{read:u,resolveKeyframes:h,update:f,preRender:p,render:g,postRender:y}=l,_=()=>{const P=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,Xj),1),i.timestamp=P,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),p.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},T=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Nd.reduce((P,O)=>{const V=l[O];return P[O]=(L,R=!1,B=!1)=>(n||T(),V.schedule(L,R,B)),P},{}),cancel:P=>{for(let O=0;O<Nd.length;O++)l[Nd[O]].cancel(P)},state:i,steps:l}}const{schedule:zt,cancel:Do,state:Nn,steps:Sy}=wI(typeof requestAnimationFrame<"u"?requestAnimationFrame:br,!0),EI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Jj=1e-7,e9=12;function t9(t,e,n,r,i){let o,l,u=0;do l=e+(n-e)/2,o=EI(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>Jj&&++u<e9);return l}function ah(t,e,n,r){if(t===e&&n===r)return br;const i=o=>t9(o,0,1,t,n);return o=>o===0||o===1?o:EI(i(o),e,r)}const TI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SI=t=>e=>1-t(1-e),xI=ah(.33,1.53,.69,.99),t_=SI(xI),AI=TI(t_),RI=t=>(t*=2)<1?.5*t_(t):.5*(2-Math.pow(2,-10*(t-1))),n_=t=>1-Math.sin(Math.acos(t)),CI=SI(n_),II=TI(n_),PI=t=>/^0[^.\s]+$/u.test(t);function n9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PI(t):!0}const bI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),kI=t=>e=>typeof e=="string"&&e.startsWith(t),DI=kI("--"),r9=kI("var(--"),r_=t=>r9(t)?i9.test(t.split("/*")[0].trim()):!1,i9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,s9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o9(t){const e=s9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function NI(t,e,n=1){const[r,i]=o9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return bI(l)?parseFloat(l):l}return r_(i)?NI(i,e,n+1):i}const Ns=(t,e,n)=>n>e?e:n<t?t:n,ou={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cc={...ou,transform:t=>Ns(0,1,t)},Od={...ou,default:1},lh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),co=lh("deg"),$i=lh("%"),Qe=lh("px"),a9=lh("vh"),l9=lh("vw"),YS={...$i,parse:t=>$i.parse(t)/100,transform:t=>$i.transform(t*100)},u9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ZS=t=>t===ou||t===Qe,XS=(t,e)=>parseFloat(t.split(", ")[e]),JS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return XS(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?XS(o[1],t):0}},c9=new Set(["x","y","z"]),h9=oh.filter(t=>!c9.has(t));function d9(t){const e=[];return h9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:JS(4,13),y:JS(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const OI=t=>e=>e.test(t),f9={test:t=>t==="auto",parse:t=>t},MI=[ou,Qe,$i,co,l9,a9,f9],ex=t=>MI.find(OI(t)),Ea=new Set;let gv=!1,yv=!1;function VI(){if(yv){const t=Array.from(Ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=d9(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yv=!1,gv=!1,Ea.forEach(t=>t.complete()),Ea.clear()}function LI(){Ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yv=!0)})}function p9(){LI(),VI()}class i_{constructor(e,n,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ea.add(this),gv||(gv=!0,zt.read(LI),zt.resolveKeyframes(VI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ea.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ea.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uc=t=>Math.round(t*1e5)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m9(t){return t==null}const g9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o_=(t,e)=>n=>!!(typeof n=="string"&&g9.test(n)&&n.startsWith(t)||e&&!m9(n)&&Object.prototype.hasOwnProperty.call(n,e)),FI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(s_);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},y9=t=>Ns(0,255,t),xy={...ou,transform:t=>Math.round(y9(t))},ga={test:o_("rgb","red"),parse:FI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xy.transform(t)+", "+xy.transform(e)+", "+xy.transform(n)+", "+uc(Cc.transform(r))+")"};function v9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vv={test:o_("#"),parse:v9,transform:ga.transform},Al={test:o_("hsl","hue"),parse:FI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$i.transform(uc(e))+", "+$i.transform(uc(n))+", "+uc(Cc.transform(r))+")"},Hn={test:t=>ga.test(t)||vv.test(t)||Al.test(t),parse:t=>ga.test(t)?ga.parse(t):Al.test(t)?Al.parse(t):vv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ga.transform(t):Al.transform(t)},_9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(s_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_9))===null||n===void 0?void 0:n.length)||0)>0}const UI="number",jI="color",E9="var",T9="var(",tx="${}",S9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ic(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(S9,h=>(Hn.test(h)?(r.color.push(o),i.push(jI),n.push(Hn.parse(h))):h.startsWith(T9)?(r.var.push(o),i.push(E9),n.push(h)):(r.number.push(o),i.push(UI),n.push(parseFloat(h))),++o,tx)).split(tx);return{values:n,split:u,indexes:r,types:i}}function BI(t){return Ic(t).values}function zI(t){const{split:e,types:n}=Ic(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=n[l];u===UI?o+=uc(i[l]):u===jI?o+=Hn.transform(i[l]):o+=i[l]}return o}}const x9=t=>typeof t=="number"?0:t;function A9(t){const e=BI(t);return zI(t)(e.map(x9))}const No={test:w9,parse:BI,createTransformer:zI,getAnimatableNone:A9},R9=new Set(["brightness","contrast","saturate","opacity"]);function C9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(s_)||[];if(!r)return t;const i=n.replace(r,"");let o=R9.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const I9=/\b([a-z-]*)\(.*?\)/gu,_v={...No,getAnimatableNone:t=>{const e=t.match(I9);return e?e.map(C9).join(" "):t}},P9={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},b9={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:co,skewX:co,skewY:co,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:Cc,originX:YS,originY:YS,originZ:Qe},nx={...ou,transform:Math.round},a_={...P9,...b9,zIndex:nx,size:Qe,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:nx},k9={...a_,color:Hn,backgroundColor:Hn,outlineColor:Hn,fill:Hn,stroke:Hn,borderColor:Hn,borderTopColor:Hn,borderRightColor:Hn,borderBottomColor:Hn,borderLeftColor:Hn,filter:_v,WebkitFilter:_v},l_=t=>k9[t];function $I(t,e){let n=l_(t);return n!==_v&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D9=new Set(["auto","none","0"]);function N9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!D9.has(o)&&Ic(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=$I(n,i)}class qI extends i_{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),r_(f))){const p=NI(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!u9.has(r)||e.length!==2)return;const[i,o]=e,l=ex(i),u=ex(o);if(l!==u)if(ZS(l)&&ZS(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)n9(e[i])&&r.push(i);r.length&&N9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Hl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function u_(t){return typeof t=="function"}let Qd;function O9(){Qd=void 0}const qi={now:()=>(Qd===void 0&&qi.set(Nn.isProcessing||Qj.useManualTiming?Nn.timestamp:performance.now()),Qd),set:t=>{Qd=t,queueMicrotask(O9)}},rx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function M9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function V9(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=rx(i,e),u=rx(o,e);return!l||!u?!1:M9(t)||(n==="spring"||u_(n))&&r}const L9=40;class WI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qi.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>L9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&p9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=qi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!V9(e,r,i,o))if(l)this.options.duration=0;else{h==null||h(Sp(e,this.options,n)),u==null||u(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Kl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},HI=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Kl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function KI(t,e){return e?t*(1e3/e):0}const F9=5;function GI(t,e,n){const r=Math.max(e-F9,0);return KI(n-t(r),e-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ay=.001;function U9({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let i,o,l=1-e;l=Ns(nn.minDamping,nn.maxDamping,l),t=Ns(nn.minDuration,nn.maxDuration,Is(t)),l<1?(i=f=>{const p=f*l,g=p*t,y=p-n,_=wv(f,l),T=Math.exp(-g);return Ay-y/_*T},o=f=>{const g=f*l*t,y=g*n+n,_=Math.pow(l,2)*Math.pow(f,2)*t,T=Math.exp(-g),S=wv(Math.pow(f,2),l);return(-i(f)+Ay>0?-1:1)*((y-_)*T)/S}):(i=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-Ay+p*g},o=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const u=5/t,h=B9(i,o,u);if(t=Cs(t),isNaN(h))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const j9=12;function B9(t,e,n){let r=n;for(let i=1;i<j9;i++)r=r-t(r)/e(r);return r}function wv(t,e){return t*Math.sqrt(1-e*e)}const Ev=2e4;function QI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ev;)e+=n,r=t.next(e);return e>=Ev?1/0:e}const z9=["duration","bounce"],$9=["stiffness","damping","mass"];function ix(t,e){return e.some(n=>t[n]!==void 0)}function q9(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!ix(t,$9)&&ix(t,z9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Ns(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:nn.mass,stiffness:i,damping:o}}else{const n=U9(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function YI(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:_}=q9({...n,velocity:-Is(n.velocity||0)}),T=y||0,S=f/(2*Math.sqrt(h*p)),A=l-o,P=Is(Math.sqrt(h/p)),O=Math.abs(A)<5;r||(r=O?nn.restSpeed.granular:nn.restSpeed.default),i||(i=O?nn.restDelta.granular:nn.restDelta.default);let V;if(S<1){const R=wv(P,S);V=B=>{const k=Math.exp(-S*P*B);return l-k*((T+S*P*A)/R*Math.sin(R*B)+A*Math.cos(R*B))}}else if(S===1)V=R=>l-Math.exp(-P*R)*(A+(T+P*A)*R);else{const R=P*Math.sqrt(S*S-1);V=B=>{const k=Math.exp(-S*P*B),I=Math.min(R*B,300);return l-k*((T+S*P*A)*Math.sinh(I)+R*A*Math.cosh(I))/R}}const L={calculatedDuration:_&&g||null,next:R=>{const B=V(R);if(_)u.done=R>=g;else{let k=0;S<1&&(k=R===0?Cs(T):GI(V,R,B));const I=Math.abs(k)<=r,D=Math.abs(l-B)<=i;u.done=I&&D}return u.value=u.done?l:B,u},toString:()=>{const R=Math.min(QI(L),Ev),B=HI(k=>L.next(R*k).value,R,30);return R+"ms "+B}};return L}function sx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},_=I=>u!==void 0&&I<u||h!==void 0&&I>h,T=I=>u===void 0?h:h===void 0||Math.abs(u-I)<Math.abs(h-I)?u:h;let S=n*e;const A=g+S,P=l===void 0?A:l(A);P!==A&&(S=P-g);const O=I=>-S*Math.exp(-I/r),V=I=>P+O(I),L=I=>{const D=O(I),N=V(I);y.done=Math.abs(D)<=f,y.value=y.done?P:N};let R,B;const k=I=>{_(y.value)&&(R=I,B=YI({keyframes:[y.value,T(y.value)],velocity:GI(V,I,y.value),damping:i,stiffness:o,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:I=>{let D=!1;return!B&&R===void 0&&(D=!0,L(I),k(I)),R!==void 0&&I>=R?B.next(I-R):(!D&&L(I),y)}}}const W9=ah(.42,0,1,1),H9=ah(0,0,.58,1),ZI=ah(.42,0,.58,1),K9=t=>Array.isArray(t)&&typeof t[0]!="number",c_=t=>Array.isArray(t)&&typeof t[0]=="number",ox={linear:br,easeIn:W9,easeInOut:ZI,easeOut:H9,circIn:n_,circInOut:II,circOut:CI,backIn:t_,backInOut:AI,backOut:xI,anticipate:RI},ax=t=>{if(c_(t)){mv(t.length===4);const[e,n,r,i]=t;return ah(e,n,r,i)}else if(typeof t=="string")return mv(ox[t]!==void 0),ox[t];return t},G9=(t,e)=>n=>e(t(n)),uh=(...t)=>t.reduce(G9),Qt=(t,e,n)=>t+(e-t)*n;function Ry(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=Ry(h,u,t+1/3),o=Ry(h,u,t),l=Ry(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Af(t,e){return n=>n>0?e:t}const Cy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Y9=[vv,ga,Al],Z9=t=>Y9.find(e=>e.test(t));function lx(t){const e=Z9(t);if(!e)return!1;let n=e.parse(t);return e===Al&&(n=Q9(n)),n}const ux=(t,e)=>{const n=lx(t),r=lx(e);if(!n||!r)return Af(t,e);const i={...n};return o=>(i.red=Cy(n.red,r.red,o),i.green=Cy(n.green,r.green,o),i.blue=Cy(n.blue,r.blue,o),i.alpha=Qt(n.alpha,r.alpha,o),ga.transform(i))},Tv=new Set(["none","hidden"]);function X9(t,e){return Tv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function J9(t,e){return n=>Qt(t,e,n)}function h_(t){return typeof t=="number"?J9:typeof t=="string"?r_(t)?Af:Hn.test(t)?ux:n6:Array.isArray(t)?XI:typeof t=="object"?Hn.test(t)?ux:e6:Af}function XI(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>h_(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function e6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=h_(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function t6(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;r[o]=h,i[l]++}return r}const n6=(t,e)=>{const n=No.createTransformer(e),r=Ic(t),i=Ic(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Tv.has(t)&&!i.values.length||Tv.has(e)&&!r.values.length?X9(t,e):uh(XI(t6(r,i),i.values),n):Af(t,e)};function JI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qt(t,e,n):h_(t)(t,e)}function r6(t,e,n){const r=[],i=n||JI,o=t.length-1;for(let l=0;l<o;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||br:e;u=uh(h,u)}r.push(u)}return r}function i6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(mv(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=r6(e,r,i),u=l.length,h=f=>{let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Kl(t[p],t[p+1],f);return l[p](g)};return n?f=>h(Ns(t[0],t[o-1],f)):h}function s6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Kl(0,e,r);t.push(Qt(n,1,i))}}function o6(t){const e=[0];return s6(e,t.length-1),e}function a6(t,e){return t.map(n=>n*e)}function l6(t,e){return t.map(()=>e||ZI).splice(0,t.length-1)}function Rf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=K9(r)?r.map(ax):ax(r),o={done:!1,value:e[0]},l=a6(n&&n.length===e.length?n:o6(e),t),u=i6(l,e,{ease:Array.isArray(i)?i:l6(e,i)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const u6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>zt.update(e,!0),stop:()=>Do(e),now:()=>Nn.isProcessing?Nn.timestamp:qi.now()}},c6={decay:sx,inertia:sx,tween:Rf,keyframes:Rf,spring:YI},h6=t=>t/100;class d_ extends WI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||i_,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=u_(n)?n:c6[n]||Rf;let h,f;u!==Rf&&typeof e[0]!="number"&&(h=uh(h6,JI(e[0],e[1])),e=[0,100]);const p=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=QI(p));const{calculatedDuration:g}=p,y=g+i,_=y*(r+1)-i;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:g,resolvedDuration:y,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return o.next(0);const{delay:y,repeat:_,repeatType:T,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-y*(this.speed>=0?1:-1),O=this.speed>=0?P<0:P>p;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let V=this.currentTime,L=o;if(_){const I=Math.min(this.currentTime,p)/g;let D=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&D--,D=Math.min(D,_+1),!!(D%2)&&(T==="reverse"?(N=1-N,S&&(N-=S/g)):T==="mirror"&&(L=l)),V=Ns(0,1,N)*g}const R=O?{done:!1,value:h[0]}:L.next(V);u&&(R.value=u(R.value));let{done:B}=R;!O&&f!==null&&(B=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return k&&i!==void 0&&(R.value=Sp(h,this.options,i)),A&&A(R.value),k&&this.finish(),R}get duration(){const{resolved:e}=this;return e?Is(e.calculatedDuration):0}get time(){return Is(this.currentTime)}set time(e){e=Cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Is(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=u6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const d6=new Set(["opacity","clipPath","filter","transform"]);function f_(t){let e;return()=>(e===void 0&&(e=t()),e)}const f6={linearEasing:void 0};function p6(t,e){const n=f_(t);return()=>{var r;return(r=f6[e])!==null&&r!==void 0?r:n()}}const Cf=p6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function eP(t){return!!(typeof t=="function"&&Cf()||!t||typeof t=="string"&&(t in Sv||Cf())||c_(t)||Array.isArray(t)&&t.every(eP))}const Ju=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Sv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ju([0,.65,.55,1]),circOut:Ju([.55,0,1,.45]),backIn:Ju([.31,.01,.66,-.59]),backOut:Ju([.33,1.53,.69,.99])};function tP(t,e){if(t)return typeof t=="function"&&Cf()?HI(t,e):c_(t)?Ju(t):Array.isArray(t)?t.map(n=>tP(n,e)||Sv.easeOut):Sv[t]}function m6(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const p=tP(u,i);return Array.isArray(p)&&(f.easing=p),t.animate(f,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function cx(t,e){t.timeline=e,t.onfinish=null}const g6=f_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),If=10,y6=2e4;function v6(t){return u_(t.type)||t.type==="spring"||!eP(t.ease)}function _6(t,e){const n=new d_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<y6;)r=n.sample(o),i.push(r.value),o+=If;return{times:void 0,keyframes:i,duration:o-If,ease:"linear"}}const nP={anticipate:RI,backInOut:AI,circInOut:II};function w6(t){return t in nP}class hx extends WI{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new qI(o,(l,u)=>this.onKeyframesResolved(l,u),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:o,ease:l,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!(!((r=h.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&Cf()&&w6(l)&&(l=nP[l]),v6(this.options)){const{onComplete:y,onUpdate:_,motionValue:T,element:S,...A}=this.options,P=_6(e,A);e=P.keyframes,e.length===1&&(e[1]=e[0]),i=P.duration,o=P.times,l=P.ease,u="keyframes"}const g=m6(h.owner.current,f,e,{...this.options,duration:i,times:o,ease:l});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(cx(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;h.set(Sp(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Is(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Is(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return br;const{animation:r}=n;cx(r,e)}return br}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:g,element:y,..._}=this.options,T=new d_({..._,keyframes:r,duration:i,type:o,ease:l,times:u,isGenerator:!0}),S=Cs(this.time);f.setWithVelocity(T.sample(S-If).value,T.sample(S).value,If)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=e;return g6()&&r&&d6.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const E6=f_(()=>window.ScrollTimeline!==void 0);class T6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>E6()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function S6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const p_=(t,e,n,r={},i,o)=>l=>{const u=e_(r,t)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Cs(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};S6(u)||(p={...p,...Gj(t,p)}),p.duration&&(p.duration=Cs(p.duration)),p.repeatDelay&&(p.repeatDelay=Cs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const y=Sp(p.keyframes,u);if(y!==void 0)return zt.update(()=>{p.onUpdate(y),p.onComplete()}),new T6([])}return!o&&hx.supports(p)?new hx(p):new d_(p)},x6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),A6=t=>pv(t)?t[t.length-1]||0:t;function m_(t,e){t.indexOf(e)===-1&&t.push(e)}function g_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class y_{constructor(){this.subscriptions=[]}add(e){return m_(this.subscriptions,e),()=>g_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dx=30,R6=t=>!isNaN(parseFloat(t));class C6{constructor(e,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=qi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y_);const r=this.events[e].add(n);return e==="change"?()=>{r(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dx);return KI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pc(t,e){return new C6(t,e)}function I6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pc(n))}function P6(t,e){const n=Tp(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const u=A6(o[l]);I6(t,l,u)}}const v_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b6="framerAppearId",rP="data-"+v_(b6);function iP(t){return t.props[rP]}const Qn=t=>!!(t&&t.getVelocity);function k6(t){return!!(Qn(t)&&t.add)}function xv(t,e){const n=t.getValue("willChange");if(k6(n))return n.add(e)}function D6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const y=t.getValue(g,(o=t.latestValues[g])!==null&&o!==void 0?o:null),_=h[g];if(_===void 0||p&&D6(p,g))continue;const T={delay:n,...e_(l||{},g)};let S=!1;if(window.MotionHandoffAnimation){const P=iP(t);if(P){const O=window.MotionHandoffAnimation(P,g,zt);O!==null&&(T.startTime=O,S=!0)}}xv(t,g),y.start(p_(g,y,_,t.shouldReduceMotion&&Va.has(g)?{type:!1}:T,t,S));const A=y.animation;A&&f.push(A)}return u&&Promise.all(f).then(()=>{zt.update(()=>{u&&P6(t,u)})}),f}function Av(t,e,n={}){var r;const i=Tp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(sP(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return N6(t,e,p+f,g,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,p]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function N6(t,e,n=0,r=0,i=1,o){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(t.variantChildren).sort(O6).forEach((f,p)=>{f.notify("AnimationStart",e),l.push(Av(f,e,{...o,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function O6(t,e){return t.sortNodePosition(e)}function M6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Av(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Av(t,e,n);else{const i=typeof e=="function"?Tp(t,e,n.custom):e;r=Promise.all(sP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const V6=J0.length;function oP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V6;n++){const r=J0[n],i=t.props[r];(Rc(i)||i===!1)&&(e[r]=i)}return e}const L6=[...X0].reverse(),F6=X0.length;function U6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>M6(t,n,r)))}function j6(t){let e=U6(t),n=fx(),r=!0;const i=h=>(f,p)=>{var g;const y=Tp(t,p,h==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:_,transitionEnd:T,...S}=y;f={...f,...S,...T}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,p=oP(t.parent)||{},g=[],y=new Set;let _={},T=1/0;for(let A=0;A<F6;A++){const P=L6[A],O=n[P],V=f[P]!==void 0?f[P]:p[P],L=Rc(V),R=P===h?O.isActive:null;R===!1&&(T=A);let B=V===p[P]&&V!==f[P]&&L;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),O.protectedKeys={..._},!O.isActive&&R===null||!V&&!O.prevProp||Ep(V)||typeof V=="boolean")continue;const k=B6(O.prevProp,V);let I=k||P===h&&O.isActive&&!B&&L||A>T&&L,D=!1;const N=Array.isArray(V)?V:[V];let j=N.reduce(i(P),{});R===!1&&(j={});const{prevResolvedValues:F={}}=O,M={...F,...j},Ve=le=>{I=!0,y.has(le)&&(D=!0,y.delete(le)),O.needsAnimating[le]=!0;const te=t.getValue(le);te&&(te.liveStyle=!1)};for(const le in M){const te=j[le],ve=F[le];if(_.hasOwnProperty(le))continue;let ce=!1;pv(te)&&pv(ve)?ce=!_I(te,ve):ce=te!==ve,ce?te!=null?Ve(le):y.add(le):te!==void 0&&y.has(le)?Ve(le):O.protectedKeys[le]=!0}O.prevProp=V,O.prevResolvedValues=j,O.isActive&&(_={..._,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(B&&k)||D)&&g.push(...N.map(le=>({animation:le,options:{type:P}})))}if(y.size){const A={};y.forEach(P=>{const O=t.getBaseTarget(P),V=t.getValue(P);V&&(V.liveStyle=!0),A[P]=O??null}),g.push({animation:A})}let S=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function u(h,f){var p;if(n[h].isActive===f)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var _;return(_=y.animationState)===null||_===void 0?void 0:_.setActive(h,f)}),n[h].isActive=f;const g=l(h);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=fx(),r=!0}}}function B6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_I(e,t):!1}function aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fx(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z6 extends Bo{constructor(e){super(e),e.animationState||(e.animationState=j6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $6=0;class q6 extends Bo{constructor(){super(...arguments),this.id=$6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const W6={animation:{Feature:z6},exit:{Feature:q6}},fi={x:!1,y:!1};function aP(){return fi.x||fi.y}function H6(t){return t==="x"||t==="y"?fi[t]?null:(fi[t]=!0,()=>{fi[t]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}const __=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ch(t){return{point:{x:t.pageX,y:t.pageY}}}const K6=t=>e=>__(e)&&t(e,ch(e));function bc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function cc(t,e,n,r){return bc(t,e,K6(n),r)}const px=(t,e)=>Math.abs(t-e);function G6(t,e){const n=px(t.x,e.x),r=px(t.y,e.y);return Math.sqrt(n**2+r**2)}class lP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Py(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=G6(g.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:T}=g,{timestamp:S}=Nn;this.history.push({...T,timestamp:S});const{onStart:A,onMove:P}=this.handlers;y||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Iy(y,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Py(g.type==="pointercancel"?this.lastMoveEventInfo:Iy(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,A),T&&T(g,A)},!__(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=ch(e),u=Iy(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Nn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Py(u,this.history)),this.removeListeners=uh(cc(this.contextWindow,"pointermove",this.handlePointerMove),cc(this.contextWindow,"pointerup",this.handlePointerUp),cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function Iy(t,e){return e?{point:e(t.point)}:t}function mx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Py({point:t},e){return{point:t,delta:mx(t,uP(e)),offset:mx(t,Q6(e)),velocity:Y6(e,.1)}}function Q6(t){return t[0]}function uP(t){return t[t.length-1]}function Y6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=uP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Cs(e)));)n--;if(!r)return{x:0,y:0};const o=Is(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const cP=1e-4,Z6=1-cP,X6=1+cP,hP=.01,J6=0-hP,e3=0+hP;function Dr(t){return t.max-t.min}function t3(t,e,n){return Math.abs(t-e)<=n}function gx(t,e,n,r=.5){t.origin=r,t.originPoint=Qt(e.min,e.max,t.origin),t.scale=Dr(n)/Dr(e),t.translate=Qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Z6&&t.scale<=X6||isNaN(t.scale))&&(t.scale=1),(t.translate>=J6&&t.translate<=e3||isNaN(t.translate))&&(t.translate=0)}function hc(t,e,n,r){gx(t.x,e.x,n.x,r?r.originX:void 0),gx(t.y,e.y,n.y,r?r.originY:void 0)}function yx(t,e,n){t.min=n.min+e.min,t.max=t.min+Dr(e)}function n3(t,e,n){yx(t.x,e.x,n.x),yx(t.y,e.y,n.y)}function vx(t,e,n){t.min=e.min-n.min,t.max=t.min+Dr(e)}function dc(t,e,n){vx(t.x,e.x,n.x),vx(t.y,e.y,n.y)}function r3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qt(n,t,r.max):Math.min(t,n)),t}function _x(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i3(t,{top:e,left:n,bottom:r,right:i}){return{x:_x(t.x,n,i),y:_x(t.y,e,r)}}function wx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s3(t,e){return{x:wx(t.x,e.x),y:wx(t.y,e.y)}}function o3(t,e){let n=.5;const r=Dr(t),i=Dr(e);return i>r?n=Kl(e.min,e.max-r,t.min):r>i&&(n=Kl(t.min,t.max-i,e.min)),Ns(0,1,n)}function a3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rv=.35;function l3(t=Rv){return t===!1?t=0:t===!0&&(t=Rv),{x:Ex(t,"left","right"),y:Ex(t,"top","bottom")}}function Ex(t,e,n){return{min:Tx(t,e),max:Tx(t,n)}}function Tx(t,e){return typeof t=="number"?t:t[e]||0}const Sx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:Sx(),y:Sx()}),xx=()=>({min:0,max:0}),on=()=>({x:xx(),y:xx()});function Hr(t){return[t("x"),t("y")]}function dP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function by(t){return t===void 0||t===1}function Cv({scale:t,scaleX:e,scaleY:n}){return!by(t)||!by(e)||!by(n)}function ca(t){return Cv(t)||fP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fP(t){return Ax(t.x)||Ax(t.y)}function Ax(t){return t&&t!=="0%"}function Pf(t,e,n){const r=t-n,i=e*r;return n+i}function Rx(t,e,n,r,i){return i!==void 0&&(t=Pf(t,i,r)),Pf(t,n,r)+e}function Iv(t,e=0,n=1,r,i){t.min=Rx(t.min,e,n,r,i),t.max=Rx(t.max,e,n,r,i)}function pP(t,{x:e,y:n}){Iv(t.x,e.translate,e.scale,e.originPoint),Iv(t.y,n.translate,n.scale,n.originPoint)}const Cx=.999999999999,Ix=1.0000000000001;function h3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,pP(t,l)),r&&ca(o.latestValues)&&Pl(t,o.latestValues))}e.x<Ix&&e.x>Cx&&(e.x=1),e.y<Ix&&e.y>Cx&&(e.y=1)}function Il(t,e){t.min=t.min+e,t.max=t.max+e}function Px(t,e,n,r,i=.5){const o=Qt(t.min,t.max,i);Iv(t,e,n,o,r)}function Pl(t,e){Px(t.x,e.x,e.scaleX,e.scale,e.originX),Px(t.y,e.y,e.scaleY,e.scale,e.originY)}function mP(t,e){return dP(c3(t.getBoundingClientRect(),e))}function d3(t,e,n){const r=mP(t,n),{scroll:i}=e;return i&&(Il(r.x,i.offset.x),Il(r.y,i.offset.y)),r}const gP=({current:t})=>t?t.ownerDocument.defaultView:null,f3=new WeakMap;class p3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ch(p).point)},o=(p,g)=>{const{drag:y,dragPropagation:_,onDragStart:T}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=H6(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(A=>{let P=this.getAxisMotionValue(A).get()||0;if($i.test(P)){const{projection:O}=this.visualElement;if(O&&O.layout){const V=O.layout.layoutBox[A];V&&(P=Dr(V)*(parseFloat(P)/100))}}this.originPoint[A]=P}),T&&zt.postRender(()=>T(p,g)),xv(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:T,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(_&&this.currentDirection===null){this.currentDirection=m3(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),S&&S(p,g)},u=(p,g)=>this.stop(p,g),h=()=>Hr(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new lP(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:gP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&zt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Md(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=r3(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Rl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=i3(i.layoutBox,n):this.constraints=!1,this.elastic=l3(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=a3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=d3(r,i.root,this.visualElement.getTransformPagePoint());let l=s3(i.layout.layoutBox,o);if(n){const u=n(u3(l));this.hasMutatedConstraints=!!u,u&&(l=dP(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Hr(p=>{if(!Md(p,n,this.currentDirection))return;let g=h[p]||{};l&&(g={min:0,max:0});const y=i?200:1e6,_=i?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xv(this.visualElement,e),r.start(p_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(e[n]-Qt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=o3({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(l=>{if(!Md(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Qt(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;f3.set(this.visualElement,this);const e=this.visualElement.current,n=cc(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Rl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zt.read(r);const l=bc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Hr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Rv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Md(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function m3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class g3 extends Bo{constructor(e){super(e),this.removeGroupControls=br,this.removeListeners=br,this.controls=new p3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||br}unmount(){this.removeGroupControls(),this.removeListeners()}}const bx=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class y3 extends Bo{constructor(){super(...arguments),this.removePointerDownListener=br}onPointerDown(e){this.session=new lP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bx(e),onStart:bx(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&zt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=cc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const w_=W.createContext(null);function v3(){const t=W.useContext(w_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=W.useId();W.useEffect(()=>r(i),[]);const o=W.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,o]:[!0]}const yP=W.createContext({}),vP=W.createContext({}),Yd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Qe.test(t))t=parseFloat(t);else return t;const n=kx(t,e.target.x),r=kx(t,e.target.y);return`${n}% ${r}%`}},_3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=No.parse(t);if(i.length>5)return r;const o=No.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const f=Qt(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}},bf={};function w3(t){Object.assign(bf,t)}const{schedule:E_,cancel:Jz}=wI(queueMicrotask,!1);class E3 extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;w3(T3),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Yd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||zt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),E_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _P(t){const[e,n]=v3(),r=W.useContext(yP);return ie.jsx(E3,{...t,layoutGroup:r,switchLayoutGroup:W.useContext(vP),isPresent:e,safeToRemove:n})}const T3={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:_3},wP=["TopLeft","TopRight","BottomLeft","BottomRight"],S3=wP.length,Dx=t=>typeof t=="string"?parseFloat(t):t,Nx=t=>typeof t=="number"||Qe.test(t);function x3(t,e,n,r,i,o){i?(t.opacity=Qt(0,n.opacity!==void 0?n.opacity:1,A3(r)),t.opacityExit=Qt(e.opacity!==void 0?e.opacity:1,0,R3(r))):o&&(t.opacity=Qt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<S3;l++){const u=`border${wP[l]}Radius`;let h=Ox(e,u),f=Ox(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Nx(h)===Nx(f)?(t[u]=Math.max(Qt(Dx(h),Dx(f),r),0),($i.test(f)||$i.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Qt(e.rotate||0,n.rotate||0,r))}function Ox(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A3=EP(0,.5,CI),R3=EP(.5,.95,br);function EP(t,e,n){return r=>r<t?0:r>e?1:n(Kl(t,e,r))}function Mx(t,e){t.min=e.min,t.max=e.max}function qr(t,e){Mx(t.x,e.x),Mx(t.y,e.y)}function Vx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lx(t,e,n,r,i){return t-=e,t=Pf(t,1/n,r),i!==void 0&&(t=Pf(t,1/i,r)),t}function C3(t,e=0,n=1,r=.5,i,o=t,l=t){if($i.test(e)&&(e=parseFloat(e),e=Qt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Qt(o.min,o.max,r);t===o&&(u-=e),t.min=Lx(t.min,e,n,u,i),t.max=Lx(t.max,e,n,u,i)}function Fx(t,e,[n,r,i],o,l){C3(t,e[n],e[r],e[i],e.scale,o,l)}const I3=["x","scaleX","originX"],P3=["y","scaleY","originY"];function Ux(t,e,n,r){Fx(t.x,e,I3,n?n.x:void 0,r?r.x:void 0),Fx(t.y,e,P3,n?n.y:void 0,r?r.y:void 0)}function jx(t){return t.translate===0&&t.scale===1}function TP(t){return jx(t.x)&&jx(t.y)}function Bx(t,e){return t.min===e.min&&t.max===e.max}function b3(t,e){return Bx(t.x,e.x)&&Bx(t.y,e.y)}function zx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SP(t,e){return zx(t.x,e.x)&&zx(t.y,e.y)}function $x(t){return Dr(t.x)/Dr(t.y)}function qx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k3{constructor(){this.members=[]}add(e){m_(this.members,e),e.scheduleRender()}remove(e){if(g_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D3(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:y,skewX:_,skewY:T}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),_&&(r+=`skewX(${_}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const N3=(t,e)=>t.depth-e.depth;class O3{constructor(){this.children=[],this.isDirty=!1}add(e){m_(this.children,e),this.isDirty=!0}remove(e){g_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(N3),this.isDirty=!1,this.children.forEach(e)}}function Zd(t){const e=Qn(t)?t.get():t;return x6(e)?e.toValue():e}function M3(t,e){const n=qi.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Do(r),t(o-e))};return zt.read(r,!0),()=>Do(r)}function V3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L3(t,e,n){const r=Qn(t)?t:Pc(t);return r.start(p_("",r,e,n)),r.animation}const ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ec=typeof window<"u"&&window.MotionDebug!==void 0,ky=["","X","Y","Z"],F3={visibility:"hidden"},Wx=1e3;let U3=0;function Dy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xP(r)}function AP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=U3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ec&&(ha.totalNodes=ha.resolvedTargetDeltas=ha.recalculatedProjection=0),this.nodes.forEach(z3),this.nodes.forEach(K3),this.nodes.forEach(G3),this.nodes.forEach($3),ec&&window.MotionDebug.record(ha)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new O3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new y_),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=V3(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=M3(y,250),Yd.hasAnimatedSinceResize&&(Yd.hasAnimatedSinceResize=!1,this.nodes.forEach(Kx))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||J3,{onLayoutAnimationStart:A,onLayoutAnimationComplete:P}=p.getProps(),O=!this.targetLayout||!SP(this.targetLayout,T)||_,V=!y&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||V||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,V);const L={...e_(S,"layout"),onPlay:A,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else y||Kx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hx);return}this.isUpdating||this.nodes.forEach(W3),this.isUpdating=!1,this.nodes.forEach(H3),this.nodes.forEach(j3),this.nodes.forEach(B3),this.clearAllSnapshots();const u=qi.now();Nn.delta=Ns(0,1e3/60,u-Nn.timestamp),Nn.timestamp=u,Nn.isProcessing=!0,Sy.update.process(Nn),Sy.preRender.process(Nn),Sy.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,E_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q3),this.sharedNodes.forEach(Y3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!TP(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(u||ca(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),eB(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return on();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(tB))){const{scroll:p}=this.root;p&&(Il(h.x,p.offset.x),Il(h.y,p.offset.y))}return h}removeElementScroll(l){var u;const h=on();if(qr(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&qr(h,l),Il(h.x,g.offset.x),Il(h.y,g.offset.y))}return h}applyTransform(l,u=!1){const h=on();qr(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Pl(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ca(p.latestValues)&&Pl(h,p.latestValues)}return ca(this.latestValues)&&Pl(h,this.latestValues),h}removeTransform(l){const u=on();qr(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ca(f.latestValues))continue;Cv(f.latestValues)&&f.updateSnapshot();const p=on(),g=f.measurePageBox();qr(p,g),Ux(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ca(this.latestValues)&&Ux(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),dc(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),pP(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),dc(this.relativeTargetOrigin,this.target,_.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ec&&ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cv(this.parent.latestValues)||fP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;qr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;h3(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=on());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vx(this.prevProjectionDelta.x,this.projectionDelta.x),Vx(this.prevProjectionDelta.y,this.projectionDelta.y)),hc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),ec&&ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=on(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,S=_!==T,A=this.getStack(),P=!A||A.members.length<=1,O=!!(S&&!P&&this.options.crossfade===!0&&!this.path.some(X3));this.animationProgress=0;let V;this.mixTargetDelta=L=>{const R=L/1e3;Gx(g.x,l.x,R),Gx(g.y,l.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z3(this.relativeTarget,this.relativeTargetOrigin,y,R),V&&b3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=on()),qr(V,this.relativeTarget)),S&&(this.animationValues=p,x3(p,f,this.latestValues,R,O,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Yd.hasAnimatedSinceResize=!0,this.currentAnimation=L3(0,Wx,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&RP(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||on();const g=Dr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const y=Dr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}qr(u,h),Pl(u,p),hc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new k3),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Dy("z",l,f,this.animationValues);for(let p=0;p<ky.length;p++)Dy(`rotate${ky[p]}`,l,f,this.animationValues),Dy(`skew${ky[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F3;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Zd(l==null?void 0:l.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Zd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=D3(this.projectionDeltaWithTransform,this.treeScale,y),p&&(f.transform=p(y,f.transform));const{x:_,y:T}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,g.animationValues?f.opacity=g===this?(h=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in bf){if(y[S]===void 0)continue;const{correct:A,applyTo:P}=bf[S],O=f.transform==="none"?y[S]:A(y[S],g);if(P){const V=P.length;for(let L=0;L<V;L++)f[P[L]]=O}else f[S]=O}return this.options.layoutId&&(f.pointerEvents=g===this?Zd(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Hx),this.root.sharedNodes.clear()}}}function j3(t){t.updateLayout()}function B3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?Hr(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],_=Dr(y);y.min=r[g].min,y.max=y.min+_}):RP(o,n.layoutBox,r)&&Hr(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],_=Dr(r[g]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=Cl();hc(u,r,n.layoutBox);const h=Cl();l?hc(h,t.applyTransform(i,!0),n.measuredBox):hc(h,r,n.layoutBox);const f=!TP(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const T=on();dc(T,n.layoutBox,y.layoutBox);const S=on();dc(S,r,_.layoutBox),SP(T,S)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function z3(t){ec&&ha.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q3(t){t.clearSnapshot()}function Hx(t){t.clearMeasurements()}function W3(t){t.isLayoutDirty=!1}function H3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function K3(t){t.resolveTargetDelta()}function G3(t){t.calcProjection()}function Q3(t){t.resetSkewAndRotation()}function Y3(t){t.removeLeadSnapshot()}function Gx(t,e,n){t.translate=Qt(e.translate,0,n),t.scale=Qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qx(t,e,n,r){t.min=Qt(e.min,n.min,r),t.max=Qt(e.max,n.max,r)}function Z3(t,e,n,r){Qx(t.x,e.x,n.x,r),Qx(t.y,e.y,n.y,r)}function X3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J3={duration:.45,ease:[.4,0,.1,1]},Yx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:br;function Xx(t){t.min=Zx(t.min),t.max=Zx(t.max)}function eB(t){Xx(t.x),Xx(t.y)}function RP(t,e,n){return t==="position"||t==="preserve-aspect"&&!t3($x(e),$x(n),.2)}function tB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const nB=AP({attachResizeListener:(t,e)=>bc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ny={current:void 0},CP=AP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ny.current){const t=new nB({});t.mount(window),t.setOptions({layoutScroll:!0}),Ny.current=t}return Ny.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rB={pan:{Feature:y3},drag:{Feature:g3,ProjectionNode:CP,MeasureLayout:_P}};function iB(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function IP(t,e){const n=iB(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Jx(t){return e=>{e.pointerType==="touch"||aP()||t(e)}}function sB(t,e,n={}){const[r,i,o]=IP(t,n),l=Jx(u=>{const{target:h}=u,f=e(u);if(!f||!h)return;const p=Jx(g=>{f(g),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}function eA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&zt.postRender(()=>o(e,ch(e)))}class oB extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=sB(e,n=>(eA(this.node,n,"Start"),r=>eA(this.node,r,"End"))))}unmount(){}}class aB extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uh(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tc=new WeakSet;function tA(t){return e=>{e.key==="Enter"&&t(e)}}function Oy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=tA(()=>{if(tc.has(n))return;Oy(n,"down");const i=tA(()=>{Oy(n,"up")}),o=()=>Oy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)},uB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cB(t){return uB.has(t.tagName)||t.tabIndex!==-1}const PP=(t,e)=>e?t===e?!0:PP(t,e.parentElement):!1;function nA(t){return __(t)&&!aP()}function hB(t,e,n={}){const[r,i,o]=IP(t,n),l=u=>{const h=u.currentTarget;if(!nA(u)||tc.has(h))return;tc.add(h);const f=e(u),p=(_,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!nA(_)||!tc.has(h))&&(tc.delete(h),f&&f(_,{success:T}))},g=_=>{p(_,n.useGlobalTarget||PP(h,_.target))},y=_=>{p(_,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(u=>{cB(u)||(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",f=>lB(f,i),i)}),o}function rA(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&zt.postRender(()=>o(e,ch(e)))}class dB extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=hB(e,n=>(rA(this.node,n,"Start"),(r,{success:i})=>rA(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pv=new WeakMap,My=new WeakMap,fB=t=>{const e=Pv.get(t.target);e&&e(t)},pB=t=>{t.forEach(fB)};function mB({root:t,...e}){const n=t||document;My.has(n)||My.set(n,{});const r=My.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pB,{root:t,...e})),r[i]}function gB(t,e,n){const r=mB(e);return Pv.set(t,n),r.observe(t),()=>{Pv.delete(t),r.unobserve(t)}}const yB={some:0,all:1};class vB extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yB[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=f?p:g;y&&y(h)};return gB(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_B(e,n))&&this.startObserver()}unmount(){}}function _B({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wB={inView:{Feature:vB},tap:{Feature:dB},focus:{Feature:aB},hover:{Feature:oB}},EB={layout:{ProjectionNode:CP,MeasureLayout:_P}},bP=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xp=W.createContext({}),T_=typeof window<"u",TB=T_?W.useLayoutEffect:W.useEffect,kP=W.createContext({strict:!1});function SB(t,e,n,r,i){var o,l;const{visualElement:u}=W.useContext(xp),h=W.useContext(kP),f=W.useContext(w_),p=W.useContext(bP).reducedMotion,g=W.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,_=W.useContext(vP);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&xB(g.current,n,i,_);const T=W.useRef(!1);W.useInsertionEffect(()=>{y&&T.current&&y.update(n,f)});const S=n[rP],A=W.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return TB(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),E_.render(y.render),A.current&&y.animationState&&y.animationState.animateChanges())}),W.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,S)}),A.current=!1))}),y}function xB(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Rl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function DP(t){if(t)return t.options.allowProjection!==!1?t.projection:DP(t.parent)}function AB(t,e,n){return W.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Rl(n)&&(n.current=r))},[e])}function Ap(t){return Ep(t.animate)||J0.some(e=>Rc(t[e]))}function NP(t){return!!(Ap(t)||t.variants)}function RB(t,e){if(Ap(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rc(n)?n:void 0,animate:Rc(r)?r:void 0}}return t.inherit!==!1?e:{}}function CB(t){const{initial:e,animate:n}=RB(t,W.useContext(xp));return W.useMemo(()=>({initial:e,animate:n}),[iA(e),iA(n)])}function iA(t){return Array.isArray(t)?t.join(" "):t}const sA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gl={};for(const t in sA)Gl[t]={isEnabled:e=>sA[t].some(n=>!!e[n])};function IB(t){for(const e in t)Gl[e]={...Gl[e],...t[e]}}const PB=Symbol.for("motionComponentSymbol");function bB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&IB(t);function o(u,h){let f;const p={...W.useContext(bP),...u,layoutId:kB(u)},{isStatic:g}=p,y=CB(u),_=r(u,g);if(!g&&T_){DB();const T=NB(p);f=T.MeasureLayout,y.visualElement=SB(i,_,p,e,T.ProjectionNode)}return ie.jsxs(xp.Provider,{value:y,children:[f&&y.visualElement?ie.jsx(f,{visualElement:y.visualElement,...p}):null,n(i,u,AB(_,y.visualElement,h),_,g,y.visualElement)]})}const l=W.forwardRef(o);return l[PB]=i,l}function kB({layoutId:t}){const e=W.useContext(yP).id;return e&&t!==void 0?e+"-"+t:t}function DB(t,e){W.useContext(kP).strict}function NB(t){const{drag:e,layout:n}=Gl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const OB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S_(t){return typeof t!="string"||t.includes("-")?!1:!!(OB.indexOf(t)>-1||/[A-Z]/u.test(t))}function OP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const MP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VP(t,e,n,r){OP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(MP.has(i)?i:v_(i),e.attrs[i])}function LP(t,{layout:e,layoutId:n}){return Va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bf[t]||t==="opacity")}function x_(t,e,n){var r;const{style:i}=t,o={};for(const l in i)(Qn(i[l])||e.style&&Qn(e.style[l])||LP(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function FP(t,e,n){const r=x_(t,e,n);for(const i in t)if(Qn(t[i])||Qn(e[i])){const o=oh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function MB(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}function VB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const l={latestValues:LB(r,i,o,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const UP=t=>(e,n)=>{const r=W.useContext(xp),i=W.useContext(w_),o=()=>VB(t,e,r,i);return n?o():MB(o)};function LB(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=Zd(o[y]);let{initial:l,animate:u}=t;const h=Ap(t),f=NP(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Ep(g)){const y=Array.isArray(g)?g:[g];for(let _=0;_<y.length;_++){const T=Z0(t,y[_]);if(T){const{transitionEnd:S,transition:A,...P}=T;for(const O in P){let V=P[O];if(Array.isArray(V)){const L=p?V.length-1:0;V=V[L]}V!==null&&(i[O]=V)}for(const O in S)i[O]=S[O]}}}return i}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),jP=()=>({...A_(),attrs:{}}),BP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,FB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UB=oh.length;function jB(t,e,n){let r="",i=!0;for(let o=0;o<UB;o++){const l=oh[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=BP(u,a_[l]);if(!h){i=!1;const p=FB[l]||l;r+=`${p}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function R_(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(Va.has(h)){l=!0;continue}else if(DI(h)){i[h]=f;continue}else{const p=BP(f,a_[h]);h.startsWith("origin")?(u=!0,o[h]=p):r[h]=p}}if(e.transform||(l||n?r.transform=jB(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${h} ${f} ${p}`}}function oA(t,e,n){return typeof t=="string"?t:Qe.transform(e+n*t)}function BB(t,e,n){const r=oA(e,t.x,t.width),i=oA(n,t.y,t.height);return`${r} ${i}`}const zB={offset:"stroke-dashoffset",array:"stroke-dasharray"},$B={offset:"strokeDashoffset",array:"strokeDasharray"};function qB(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?zB:$B;t[o.offset]=Qe.transform(-r);const l=Qe.transform(e),u=Qe.transform(n);t[o.array]=`${l} ${u}`}function C_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},p,g){if(R_(t,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_,dimensions:T}=t;y.transform&&(T&&(_.transform=y.transform),delete y.transform),T&&(i!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=BB(T,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),l!==void 0&&qB(y,l,u,h,!1)}const I_=t=>typeof t=="string"&&t.toLowerCase()==="svg",WB={useVisualState:UP({scrapeMotionValuesFromProps:FP,createRenderState:jP,onMount:(t,e,{renderState:n,latestValues:r})=>{zt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),zt.render(()=>{C_(n,r,I_(e.tagName),t.transformTemplate),VP(e,n)})}})},HB={useVisualState:UP({scrapeMotionValuesFromProps:x_,createRenderState:A_})};function zP(t,e,n){for(const r in e)!Qn(e[r])&&!LP(r,n)&&(t[r]=e[r])}function KB({transformTemplate:t},e){return W.useMemo(()=>{const n=A_();return R_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GB(t,e){const n=t.style||{},r={};return zP(r,n,t),Object.assign(r,KB(t,e)),r}function QB(t,e){const n={},r=GB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||YB.has(t)}let $P=t=>!kf(t);function ZB(t){t&&($P=e=>e.startsWith("on")?!kf(e):t(e))}try{ZB(require("@emotion/is-prop-valid").default)}catch{}function XB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($P(i)||n===!0&&kf(i)||!e&&!kf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function JB(t,e,n,r){const i=W.useMemo(()=>{const o=jP();return C_(o,e,I_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zP(o,t.style,t),i.style={...o,...i.style}}return i}function e5(t=!1){return(n,r,i,{latestValues:o},l)=>{const h=(S_(n)?JB:QB)(r,o,l,n),f=XB(r,typeof n=="string",t),p=n!==W.Fragment?{...f,...h,ref:i}:{},{children:g}=r,y=W.useMemo(()=>Qn(g)?g.get():g,[g]);return W.createElement(n,{...p,children:y})}}function t5(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...S_(r)?WB:HB,preloadedFeatures:t,useRender:e5(i),createVisualElement:e,Component:r};return bB(l)}}const bv={current:null},qP={current:!1};function n5(){if(qP.current=!0,!!T_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bv.current=t.matches;t.addListener(e),e()}else bv.current=!1}function r5(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Qn(i))t.addValue(r,i);else if(Qn(o))t.addValue(r,Pc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Pc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aA=new WeakMap,i5=[...MI,Hn,No],s5=t=>i5.find(OI(t)),lA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class o5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=qi.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,zt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ap(n),this.isVariantNode=NP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const _=g[y];h[y]!==void 0&&Qn(_)&&_.set(h[y],!1)}}mount(e){this.current=e,aA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qP.current||n5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aA.delete(this.current),this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Va.has(e),i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gl){const n=Gl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lA.length;r++){const i=lA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=r5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bI(i)||PI(i))?i=parseFloat(i):!s5(i)&&No.test(n)&&(i=$I(e,n)),this.setBaseTarget(e,Qn(i)?i.get():i)),Qn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Z0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Qn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WP extends o5{constructor(){super(...arguments),this.KeyframeResolver=qI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function a5(t){return window.getComputedStyle(t)}class l5 extends WP{constructor(){super(...arguments),this.type="html",this.renderInstance=OP}readValueFromInstance(e,n){if(Va.has(n)){const r=l_(n);return r&&r.default||0}else{const r=a5(e),i=(DI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mP(e,n)}build(e,n,r){R_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return x_(e,n,r)}}class u5 extends WP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Va.has(n)){const r=l_(n);return r&&r.default||0}return n=MP.has(n)?n:v_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FP(e,n,r)}build(e,n,r){C_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){VP(e,n,r,i)}mount(e){this.isSVGTag=I_(e.tagName),super.mount(e)}}const c5=(t,e)=>S_(t)?new u5(e):new l5(e,{allowProjection:t!==W.Fragment}),h5=t5({...W6,...wB,...rB,...EB},c5),Ta=$j(h5),d5=()=>{const{signInModalOpen:t,setSigninModalOpen:e,signOutModal:n,setSignOutModal:r}=W.useContext(xo),i=new Ts,o=async()=>{try{const u=(await X4($0,i)).user;console.log("User Info:",u),e(!1)}catch(l){console.error("Error during Google Sign-In:",l)}};return ie.jsx(ie.Fragment,{children:t&&ie.jsxs(Ta.div,{className:"rounded-lg bg-white w-[600px] overflow-hidden flex relative h-[400px]",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,type:"spring"},children:[ie.jsx("img",{src:jj,alt:"loginImg",className:"object-cover w-1/2"}),ie.jsxs("div",{className:"mx-auto flex flex-col items-center justify-center px-5 pb-5 w-1/2 space-y-4",children:[ie.jsx("img",{src:zj,alt:"i2global",className:"h-16"}),ie.jsx("p",{className:"text-lg text-text font-bold",children:"Welcome!"}),ie.jsx("p",{className:"text-sm text-text font-medium pb-10",children:"Let's get Started"}),ie.jsxs("div",{className:"border-2 border-zinc-300 flex gap-2 p-1 rounded cursor-pointer",onClick:o,children:[ie.jsx(Bj,{className:"w-6 h-6"}),ie.jsx("p",{className:"text-nowrap text-sm font-medium text-text",children:"Sign in with Google"})]})]}),ie.jsx(XU,{className:"absolute right-2 top-2 w-6 h-6 text-gray-400 cursor-pointer",onClick:()=>e(!1)})]})})},f5=()=>{const{signInModalOpen:t,setSigninModalOpen:e,signOutModalOpen:n,setSignOutModalOpen:r}=W.useContext(xo),{userDetails:i,setUserDetails:o}=W.useContext(Wc),l=async()=>{try{await D4($0),console.log("User signed out"),o(null),r(!1)}catch(u){console.error("Error signing out:",u)}};return ie.jsx(ie.Fragment,{children:n&&ie.jsx(Ta.div,{className:"w-96 bg-white text-white text-xs md:text-sm rounded-md relative",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,type:"spring"},children:ie.jsx("div",{className:"flex flex-col items-center justify-center p-5 w-full",children:ie.jsxs("div",{className:"space-y-5 w-full",children:[ie.jsx("p",{className:"text-text font-semibold text-sm",children:"Are you sure you want to sign out?"}),ie.jsxs("div",{className:"flex gap-2 w-full",children:[ie.jsx(xf,{text:"Sign out",loading:!1,onClick:()=>l(),className:"w-full bg-primaryDark"}),ie.jsx(xf,{text:"Cancel",loading:!1,onClick:()=>r(!1),className:"py-2 px-2 w-full bg-gray-500 text-white rounded"})]})]})})})})},HP=({type:t="text",id:e,label:n,register:r,error:i,value:o,onChange:l})=>ie.jsxs("div",{children:[ie.jsx("label",{htmlFor:e,className:"text-sm text-text",children:n}),ie.jsx("textarea",{type:"text",id:e,name:e,value:o,onChange:l,...r,className:`rounded bg-bg w-full outline-none px-3 py-1 text-sm ${i?"border-2 border-accent":""}`,rows:4}),i&&ie.jsx("span",{className:"text-xs text-red-600 font-medium",children:i.message})]});var hh=t=>t.type==="checkbox",ya=t=>t instanceof Date,rr=t=>t==null;const KP=t=>typeof t=="object";var ln=t=>!rr(t)&&!Array.isArray(t)&&KP(t)&&!ya(t),p5=t=>ln(t)&&t.target?hh(t.target)?t.target.checked:t.target.value:t,m5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,g5=(t,e)=>t.has(m5(e)),y5=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},P_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(P_&&(t instanceof Blob||r))&&(n||ln(t)))if(e=n?[]:{},!n&&!y5(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Wr(t[i]));else return t;return e}var Rp=t=>Array.isArray(t)?t.filter(Boolean):[],dn=t=>t===void 0,ke=(t,e,n)=>{if(!e||!ln(t))return n;const r=Rp(e.split(/[,[\].]+?/)).reduce((i,o)=>rr(i)?i:i[o],t);return dn(r)||r===t?dn(t[e])?n:t[e]:r},Vi=t=>typeof t=="boolean",b_=t=>/^\w*$/.test(t),GP=t=>Rp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(t,e,n)=>{let r=-1;const i=b_(e)?[e]:GP(e),o=i.length,l=o-1;for(;++r<o;){const u=i[r];let h=n;if(r!==l){const f=t[u];h=ln(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=h,t=t[u]}return t};const uA={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};vn.createContext(null);var v5=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const l=o;return e._proxyFormState[l]!==mi.all&&(e._proxyFormState[l]=!r||mi.all),t[l]}});return i},yr=t=>ln(t)&&!Object.keys(t).length,_5=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return yr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===mi.all)},Xd=t=>Array.isArray(t)?t:[t];function w5(t){const e=vn.useRef(t);e.current=t,vn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Fi=t=>typeof t=="string",E5=(t,e,n,r,i)=>Fi(t)?(r&&e.watch.add(t),ke(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ke(n,o))):(r&&(e.watchAll=!0),n),QP=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},cA=t=>({isOnSubmit:!t||t===mi.onSubmit,isOnBlur:t===mi.onBlur,isOnChange:t===mi.onChange,isOnAll:t===mi.all,isOnTouch:t===mi.onTouched}),hA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const fc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ke(t,i);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(fc(u,e))break}else if(ln(u)&&fc(u,e))break}}};var T5=(t,e,n)=>{const r=Xd(ke(t,n));return Ot(r,"root",e[n]),Ot(t,n,r),t},k_=t=>t.type==="file",Li=t=>typeof t=="function",Df=t=>{if(!P_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Jd=t=>Fi(t),D_=t=>t.type==="radio",Nf=t=>t instanceof RegExp;const dA={value:!1,isValid:!1},fA={value:!0,isValid:!0};var YP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dn(t[0].attributes.value)?dn(t[0].value)||t[0].value===""?fA:{value:t[0].value,isValid:!0}:fA:dA}return dA};const pA={isValid:!1,value:null};var ZP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pA):pA;function mA(t,e,n="validate"){if(Jd(t)||Array.isArray(t)&&t.every(Jd)||Vi(t)&&!t)return{type:n,message:Jd(t)?t:"",ref:e}}var _l=t=>ln(t)&&!Nf(t)?t:{value:t,message:""},gA=async(t,e,n,r,i,o)=>{const{ref:l,refs:u,required:h,maxLength:f,minLength:p,min:g,max:y,pattern:_,validate:T,name:S,valueAsNumber:A,mount:P}=t._f,O=ke(n,S);if(!P||e.has(S))return{};const V=u?u[0]:l,L=F=>{i&&V.reportValidity&&(V.setCustomValidity(Vi(F)?"":F||""),V.reportValidity())},R={},B=D_(l),k=hh(l),I=B||k,D=(A||k_(l))&&dn(l.value)&&dn(O)||Df(l)&&l.value===""||O===""||Array.isArray(O)&&!O.length,N=QP.bind(null,S,r,R),j=(F,M,Ve,ue=_s.maxLength,J=_s.minLength)=>{const le=F?M:Ve;R[S]={type:F?ue:J,message:le,ref:l,...N(F?ue:J,le)}};if(o?!Array.isArray(O)||!O.length:h&&(!I&&(D||rr(O))||Vi(O)&&!O||k&&!YP(u).isValid||B&&!ZP(u).isValid)){const{value:F,message:M}=Jd(h)?{value:!!h,message:h}:_l(h);if(F&&(R[S]={type:_s.required,message:M,ref:V,...N(_s.required,M)},!r))return L(M),R}if(!D&&(!rr(g)||!rr(y))){let F,M;const Ve=_l(y),ue=_l(g);if(!rr(O)&&!isNaN(O)){const J=l.valueAsNumber||O&&+O;rr(Ve.value)||(F=J>Ve.value),rr(ue.value)||(M=J<ue.value)}else{const J=l.valueAsDate||new Date(O),le=ce=>new Date(new Date().toDateString()+" "+ce),te=l.type=="time",ve=l.type=="week";Fi(Ve.value)&&O&&(F=te?le(O)>le(Ve.value):ve?O>Ve.value:J>new Date(Ve.value)),Fi(ue.value)&&O&&(M=te?le(O)<le(ue.value):ve?O<ue.value:J<new Date(ue.value))}if((F||M)&&(j(!!F,Ve.message,ue.message,_s.max,_s.min),!r))return L(R[S].message),R}if((f||p)&&!D&&(Fi(O)||o&&Array.isArray(O))){const F=_l(f),M=_l(p),Ve=!rr(F.value)&&O.length>+F.value,ue=!rr(M.value)&&O.length<+M.value;if((Ve||ue)&&(j(Ve,F.message,M.message),!r))return L(R[S].message),R}if(_&&!D&&Fi(O)){const{value:F,message:M}=_l(_);if(Nf(F)&&!O.match(F)&&(R[S]={type:_s.pattern,message:M,ref:l,...N(_s.pattern,M)},!r))return L(M),R}if(T){if(Li(T)){const F=await T(O,n),M=mA(F,V);if(M&&(R[S]={...M,...N(_s.validate,M.message)},!r))return L(M.message),R}else if(ln(T)){let F={};for(const M in T){if(!yr(F)&&!r)break;const Ve=mA(await T[M](O,n),V,M);Ve&&(F={...Ve,...N(M,Ve.message)},L(Ve.message),r&&(R[S]=F))}if(!yr(F)&&(R[S]={ref:V,...F},!r))return R}}return L(!0),R};function S5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dn(t)?r++:t[e[r++]];return t}function x5(t){for(const e in t)if(t.hasOwnProperty(e)&&!dn(t[e]))return!1;return!0}function yn(t,e){const n=Array.isArray(e)?e:b_(e)?[e]:GP(e),r=n.length===1?t:S5(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(ln(r)&&yr(r)||Array.isArray(r)&&x5(r))&&yn(t,n.slice(0,-1)),t}var Vy=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},kv=t=>rr(t)||!KP(t);function go(t,e){if(kv(t)||kv(e))return t===e;if(ya(t)&&ya(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(ya(o)&&ya(l)||ln(o)&&ln(l)||Array.isArray(o)&&Array.isArray(l)?!go(o,l):o!==l)return!1}}return!0}var XP=t=>t.type==="select-multiple",A5=t=>D_(t)||hh(t),Ly=t=>Df(t)&&t.isConnected,JP=t=>{for(const e in t)if(Li(t[e]))return!0;return!1};function Of(t,e={}){const n=Array.isArray(t);if(ln(t)||n)for(const r in t)Array.isArray(t[r])||ln(t[r])&&!JP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Of(t[r],e[r])):rr(t[r])||(e[r]=!0);return e}function eb(t,e,n){const r=Array.isArray(t);if(ln(t)||r)for(const i in t)Array.isArray(t[i])||ln(t[i])&&!JP(t[i])?dn(e)||kv(n[i])?n[i]=Array.isArray(t[i])?Of(t[i],[]):{...Of(t[i])}:eb(t[i],rr(e)?{}:e[i],n[i]):n[i]=!go(t[i],e[i]);return n}var Hu=(t,e)=>eb(t,e,Of(e)),tb=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dn(t)?t:e?t===""?NaN:t&&+t:n&&Fi(t)?new Date(t):r?r(t):t;function Fy(t){const e=t.ref;return k_(e)?e.files:D_(e)?ZP(t.refs).value:XP(e)?[...e.selectedOptions].map(({value:n})=>n):hh(e)?YP(t.refs).value:tb(dn(e.value)?t.ref.value:e.value,t)}var R5=(t,e,n,r)=>{const i={};for(const o of t){const l=ke(e,o);l&&Ot(i,o,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ku=t=>dn(t)?t:Nf(t)?t.source:ln(t)?Nf(t.value)?t.value.source:t.value:t;const yA="AsyncFunction";var C5=t=>!!t&&!!t.validate&&!!(Li(t.validate)&&t.validate.constructor.name===yA||ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===yA)),I5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function vA(t,e,n){const r=ke(t,n);if(r||b_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),l=ke(e,o),u=ke(t,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};i.pop()}return{name:n}}var P5=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,b5=(t,e)=>!Rp(ke(t,e)).length&&yn(t,e);const k5={mode:mi.onSubmit,reValidateMode:mi.onChange,shouldFocusError:!0};function D5(t={}){let e={...k5,...t},n={submitCount:0,isDirty:!1,isLoading:Li(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ln(e.defaultValues)||ln(e.values)?Wr(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Wr(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Vy(),array:Vy(),state:Vy()},y=cA(e.mode),_=cA(e.reValidateMode),T=e.criteriaMode===mi.all,S=z=>X=>{clearTimeout(f),f=setTimeout(z,X)},A=async z=>{if(!e.disabled&&(p.isValid||z)){const X=e.resolver?yr((await I()).errors):await N(r,!0);X!==n.isValid&&g.state.next({isValid:X})}},P=(z,X)=>{!e.disabled&&(p.isValidating||p.validatingFields)&&((z||Array.from(u.mount)).forEach(se=>{se&&(X?Ot(n.validatingFields,se,X):yn(n.validatingFields,se))}),g.state.next({validatingFields:n.validatingFields,isValidating:!yr(n.validatingFields)}))},O=(z,X=[],se,Ee,Te=!0,_e=!0)=>{if(Ee&&se&&!e.disabled){if(l.action=!0,_e&&Array.isArray(ke(r,z))){const Fe=se(ke(r,z),Ee.argA,Ee.argB);Te&&Ot(r,z,Fe)}if(_e&&Array.isArray(ke(n.errors,z))){const Fe=se(ke(n.errors,z),Ee.argA,Ee.argB);Te&&Ot(n.errors,z,Fe),b5(n.errors,z)}if(p.touchedFields&&_e&&Array.isArray(ke(n.touchedFields,z))){const Fe=se(ke(n.touchedFields,z),Ee.argA,Ee.argB);Te&&Ot(n.touchedFields,z,Fe)}p.dirtyFields&&(n.dirtyFields=Hu(i,o)),g.state.next({name:z,isDirty:F(z,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ot(o,z,X)},V=(z,X)=>{Ot(n.errors,z,X),g.state.next({errors:n.errors})},L=z=>{n.errors=z,g.state.next({errors:n.errors,isValid:!1})},R=(z,X,se,Ee)=>{const Te=ke(r,z);if(Te){const _e=ke(o,z,dn(se)?ke(i,z):se);dn(_e)||Ee&&Ee.defaultChecked||X?Ot(o,z,X?_e:Fy(Te._f)):ue(z,_e),l.mount&&A()}},B=(z,X,se,Ee,Te)=>{let _e=!1,Fe=!1;const qe={name:z};if(!e.disabled){const Xe=!!(ke(r,z)&&ke(r,z)._f&&ke(r,z)._f.disabled);if(!se||Ee){p.isDirty&&(Fe=n.isDirty,n.isDirty=qe.isDirty=F(),_e=Fe!==qe.isDirty);const ut=Xe||go(ke(i,z),X);Fe=!!(!Xe&&ke(n.dirtyFields,z)),ut||Xe?yn(n.dirtyFields,z):Ot(n.dirtyFields,z,!0),qe.dirtyFields=n.dirtyFields,_e=_e||p.dirtyFields&&Fe!==!ut}if(se){const ut=ke(n.touchedFields,z);ut||(Ot(n.touchedFields,z,se),qe.touchedFields=n.touchedFields,_e=_e||p.touchedFields&&ut!==se)}_e&&Te&&g.state.next(qe)}return _e?qe:{}},k=(z,X,se,Ee)=>{const Te=ke(n.errors,z),_e=p.isValid&&Vi(X)&&n.isValid!==X;if(e.delayError&&se?(h=S(()=>V(z,se)),h(e.delayError)):(clearTimeout(f),h=null,se?Ot(n.errors,z,se):yn(n.errors,z)),(se?!go(Te,se):Te)||!yr(Ee)||_e){const Fe={...Ee,..._e&&Vi(X)?{isValid:X}:{},errors:n.errors,name:z};n={...n,...Fe},g.state.next(Fe)}},I=async z=>{P(z,!0);const X=await e.resolver(o,e.context,R5(z||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return P(z),X},D=async z=>{const{errors:X}=await I(z);if(z)for(const se of z){const Ee=ke(X,se);Ee?Ot(n.errors,se,Ee):yn(n.errors,se)}else n.errors=X;return X},N=async(z,X,se={valid:!0})=>{for(const Ee in z){const Te=z[Ee];if(Te){const{_f:_e,...Fe}=Te;if(_e){const qe=u.array.has(_e.name),Xe=Te._f&&C5(Te._f);Xe&&p.validatingFields&&P([Ee],!0);const ut=await gA(Te,u.disabled,o,T,e.shouldUseNativeValidation&&!X,qe);if(Xe&&p.validatingFields&&P([Ee]),ut[_e.name]&&(se.valid=!1,X))break;!X&&(ke(ut,_e.name)?qe?T5(n.errors,ut,_e.name):Ot(n.errors,_e.name,ut[_e.name]):yn(n.errors,_e.name))}!yr(Fe)&&await N(Fe,X,se)}}return se.valid},j=()=>{for(const z of u.unMount){const X=ke(r,z);X&&(X._f.refs?X._f.refs.every(se=>!Ly(se)):!Ly(X._f.ref))&&ot(z)}u.unMount=new Set},F=(z,X)=>!e.disabled&&(z&&X&&Ot(o,z,X),!go(H(),i)),M=(z,X,se)=>E5(z,u,{...l.mount?o:dn(X)?i:Fi(z)?{[z]:X}:X},se,X),Ve=z=>Rp(ke(l.mount?o:i,z,e.shouldUnregister?ke(i,z,[]):[])),ue=(z,X,se={})=>{const Ee=ke(r,z);let Te=X;if(Ee){const _e=Ee._f;_e&&(!_e.disabled&&Ot(o,z,tb(X,_e)),Te=Df(_e.ref)&&rr(X)?"":X,XP(_e.ref)?[..._e.ref.options].forEach(Fe=>Fe.selected=Te.includes(Fe.value)):_e.refs?hh(_e.ref)?_e.refs.length>1?_e.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray(Te)?!!Te.find(qe=>qe===Fe.value):Te===Fe.value)):_e.refs[0]&&(_e.refs[0].checked=!!Te):_e.refs.forEach(Fe=>Fe.checked=Fe.value===Te):k_(_e.ref)?_e.ref.value="":(_e.ref.value=Te,_e.ref.type||g.values.next({name:z,values:{...o}})))}(se.shouldDirty||se.shouldTouch)&&B(z,Te,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&ce(z)},J=(z,X,se)=>{for(const Ee in X){const Te=X[Ee],_e=`${z}.${Ee}`,Fe=ke(r,_e);(u.array.has(z)||ln(Te)||Fe&&!Fe._f)&&!ya(Te)?J(_e,Te,se):ue(_e,Te,se)}},le=(z,X,se={})=>{const Ee=ke(r,z),Te=u.array.has(z),_e=Wr(X);Ot(o,z,_e),Te?(g.array.next({name:z,values:{...o}}),(p.isDirty||p.dirtyFields)&&se.shouldDirty&&g.state.next({name:z,dirtyFields:Hu(i,o),isDirty:F(z,_e)})):Ee&&!Ee._f&&!rr(_e)?J(z,_e,se):ue(z,_e,se),hA(z,u)&&g.state.next({...n}),g.values.next({name:l.mount?z:void 0,values:{...o}})},te=async z=>{l.mount=!0;const X=z.target;let se=X.name,Ee=!0;const Te=ke(r,se),_e=()=>X.type?Fy(Te._f):p5(z),Fe=qe=>{Ee=Number.isNaN(qe)||ya(qe)&&isNaN(qe.getTime())||go(qe,ke(o,se,qe))};if(Te){let qe,Xe;const ut=_e(),Jt=z.type===uA.BLUR||z.type===uA.FOCUS_OUT,es=!I5(Te._f)&&!e.resolver&&!ke(n.errors,se)&&!Te._f.deps||P5(Jt,ke(n.touchedFields,se),n.isSubmitted,_,y),rn=hA(se,u,Jt);Ot(o,se,ut),Jt?(Te._f.onBlur&&Te._f.onBlur(z),h&&h(0)):Te._f.onChange&&Te._f.onChange(z);const or=B(se,ut,Jt,!1),Mr=!yr(or)||rn;if(!Jt&&g.values.next({name:se,type:z.type,values:{...o}}),es)return p.isValid&&(e.mode==="onBlur"&&Jt?A():Jt||A()),Mr&&g.state.next({name:se,...rn?{}:or});if(!Jt&&rn&&g.state.next({...n}),e.resolver){const{errors:Gr}=await I([se]);if(Fe(ut),Ee){const ts=vA(n.errors,r,se),Qr=vA(Gr,r,ts.name||se);qe=Qr.error,se=Qr.name,Xe=yr(Gr)}}else P([se],!0),qe=(await gA(Te,u.disabled,o,T,e.shouldUseNativeValidation))[se],P([se]),Fe(ut),Ee&&(qe?Xe=!1:p.isValid&&(Xe=await N(r,!0)));Ee&&(Te._f.deps&&ce(Te._f.deps),k(se,Xe,qe,or))}},ve=(z,X)=>{if(ke(n.errors,X)&&z.focus)return z.focus(),1},ce=async(z,X={})=>{let se,Ee;const Te=Xd(z);if(e.resolver){const _e=await D(dn(z)?z:Te);se=yr(_e),Ee=z?!Te.some(Fe=>ke(_e,Fe)):se}else z?(Ee=(await Promise.all(Te.map(async _e=>{const Fe=ke(r,_e);return await N(Fe&&Fe._f?{[_e]:Fe}:Fe)}))).every(Boolean),!(!Ee&&!n.isValid)&&A()):Ee=se=await N(r);return g.state.next({...!Fi(z)||p.isValid&&se!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:se}:{},errors:n.errors}),X.shouldFocus&&!Ee&&fc(r,ve,z?Te:u.mount),Ee},H=z=>{const X={...l.mount?o:i};return dn(z)?X:Fi(z)?ke(X,z):z.map(se=>ke(X,se))},oe=(z,X)=>({invalid:!!ke((X||n).errors,z),isDirty:!!ke((X||n).dirtyFields,z),error:ke((X||n).errors,z),isValidating:!!ke(n.validatingFields,z),isTouched:!!ke((X||n).touchedFields,z)}),de=z=>{z&&Xd(z).forEach(X=>yn(n.errors,X)),g.state.next({errors:z?n.errors:{}})},Ge=(z,X,se)=>{const Ee=(ke(r,z,{_f:{}})._f||{}).ref,Te=ke(n.errors,z)||{},{ref:_e,message:Fe,type:qe,...Xe}=Te;Ot(n.errors,z,{...Xe,...X,ref:Ee}),g.state.next({name:z,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},$e=(z,X)=>Li(z)?g.values.subscribe({next:se=>z(M(void 0,X),se)}):M(z,X,!0),ot=(z,X={})=>{for(const se of z?Xd(z):u.mount)u.mount.delete(se),u.array.delete(se),X.keepValue||(yn(r,se),yn(o,se)),!X.keepError&&yn(n.errors,se),!X.keepDirty&&yn(n.dirtyFields,se),!X.keepTouched&&yn(n.touchedFields,se),!X.keepIsValidating&&yn(n.validatingFields,se),!e.shouldUnregister&&!X.keepDefaultValue&&yn(i,se);g.values.next({values:{...o}}),g.state.next({...n,...X.keepDirty?{isDirty:F()}:{}}),!X.keepIsValid&&A()},ct=({disabled:z,name:X,field:se,fields:Ee})=>{(Vi(z)&&l.mount||z||u.disabled.has(X))&&(z?u.disabled.add(X):u.disabled.delete(X),B(X,Fy(se?se._f:ke(Ee,X)._f),!1,!1,!0))},dt=(z,X={})=>{let se=ke(r,z);const Ee=Vi(X.disabled)||Vi(e.disabled);return Ot(r,z,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:z}},name:z,mount:!0,...X}}),u.mount.add(z),se?ct({field:se,disabled:Vi(X.disabled)?X.disabled:e.disabled,name:z}):R(z,!0,X.value),{...Ee?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:Ku(X.min),max:Ku(X.max),minLength:Ku(X.minLength),maxLength:Ku(X.maxLength),pattern:Ku(X.pattern)}:{},name:z,onChange:te,onBlur:te,ref:Te=>{if(Te){dt(z,X),se=ke(r,z);const _e=dn(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Fe=A5(_e),qe=se._f.refs||[];if(Fe?qe.find(Xe=>Xe===_e):_e===se._f.ref)return;Ot(r,z,{_f:{...se._f,...Fe?{refs:[...qe.filter(Ly),_e,...Array.isArray(ke(i,z))?[{}]:[]],ref:{type:_e.type,name:z}}:{ref:_e}}}),R(z,!1,void 0,_e)}else se=ke(r,z,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(g5(u.array,z)&&l.action)&&u.unMount.add(z)}}},et=()=>e.shouldFocusError&&fc(r,ve,u.mount),kt=z=>{Vi(z)&&(g.state.next({disabled:z}),fc(r,(X,se)=>{const Ee=ke(r,se);Ee&&(X.disabled=Ee._f.disabled||z,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(Te=>{Te.disabled=Ee._f.disabled||z}))},0,!1))},Zt=(z,X)=>async se=>{let Ee;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let Te=Wr(o);if(u.disabled.size)for(const _e of u.disabled)Ot(Te,_e,void 0);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:Fe}=await I();n.errors=_e,Te=Fe}else await N(r);if(yn(n.errors,"root"),yr(n.errors)){g.state.next({errors:{}});try{await z(Te,se)}catch(_e){Ee=_e}}else X&&await X({...n.errors},se),et(),setTimeout(et);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yr(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},sr=(z,X={})=>{ke(r,z)&&(dn(X.defaultValue)?le(z,Wr(ke(i,z))):(le(z,X.defaultValue),Ot(i,z,Wr(X.defaultValue))),X.keepTouched||yn(n.touchedFields,z),X.keepDirty||(yn(n.dirtyFields,z),n.isDirty=X.defaultValue?F(z,Wr(ke(i,z))):F()),X.keepError||(yn(n.errors,z),p.isValid&&A()),g.state.next({...n}))},Xt=(z,X={})=>{const se=z?Wr(z):i,Ee=Wr(se),Te=yr(z),_e=Te?i:Ee;if(X.keepDefaultValues||(i=se),!X.keepValues){if(X.keepDirtyValues){const Fe=new Set([...u.mount,...Object.keys(Hu(i,o))]);for(const qe of Array.from(Fe))ke(n.dirtyFields,qe)?Ot(_e,qe,ke(o,qe)):le(qe,ke(_e,qe))}else{if(P_&&dn(z))for(const Fe of u.mount){const qe=ke(r,Fe);if(qe&&qe._f){const Xe=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Df(Xe)){const ut=Xe.closest("form");if(ut){ut.reset();break}}}}r={}}o=e.shouldUnregister?X.keepDefaultValues?Wr(i):{}:Wr(_e),g.array.next({values:{..._e}}),g.values.next({values:{..._e}})}u={mount:X.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!X.keepIsValid||!!X.keepDirtyValues,l.watch=!!e.shouldUnregister,g.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!go(z,i)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:X.keepDirtyValues?X.keepDefaultValues&&o?Hu(i,o):n.dirtyFields:X.keepDefaultValues&&z?Hu(i,z):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Or=(z,X)=>Xt(Li(z)?z(o):z,X);return{control:{register:dt,unregister:ot,getFieldState:oe,handleSubmit:Zt,setError:Ge,_executeSchema:I,_getWatch:M,_getDirty:F,_updateValid:A,_removeUnmounted:j,_updateFieldArray:O,_updateDisabledField:ct,_getFieldArray:Ve,_reset:Xt,_resetDefaultValues:()=>Li(e.defaultValues)&&e.defaultValues().then(z=>{Or(z,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:kt,_subjects:g,_proxyFormState:p,_setErrors:L,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state(z){l=z},get _defaultValues(){return i},get _names(){return u},set _names(z){u=z},get _formState(){return n},set _formState(z){n=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:ce,register:dt,handleSubmit:Zt,watch:$e,setValue:le,getValues:H,reset:Or,resetField:sr,clearErrors:de,unregister:ot,setError:Ge,setFocus:(z,X={})=>{const se=ke(r,z),Ee=se&&se._f;if(Ee){const Te=Ee.refs?Ee.refs[0]:Ee.ref;Te.focus&&(Te.focus(),X.shouldSelect&&Li(Te.select)&&Te.select())}},getFieldState:oe}}function nb(t={}){const e=vn.useRef(void 0),n=vn.useRef(void 0),[r,i]=vn.useState({isDirty:!1,isValidating:!1,isLoading:Li(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Li(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...D5(t),formState:r});const o=e.current.control;return o._options=t,w5({subject:o._subjects.state,next:l=>{_5(l,o._proxyFormState,o._updateFormState)&&i({...o._formState})}}),vn.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),vn.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==r.isDirty&&o._subjects.state.next({isDirty:l})}},[o,r.isDirty]),vn.useEffect(()=>{t.values&&!go(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),vn.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),vn.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),vn.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=v5(r,o),e.current}var St;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of o)l[u]=i[u];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},t.find=(i,o)=>{for(const l of i)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(St||(St={}));var Dv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Dv||(Dv={}));const Pe=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Es=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},ye=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),N5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class kr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,h=0;for(;h<l.path.length;){const f=l.path[h];h===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return i(this),r}static assert(e){if(!(e instanceof kr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}kr.create=t=>new kr(t);const Ql=(t,e)=>{let n;switch(t.code){case ye.invalid_type:t.received===Pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ye.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,St.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(t.keys,", ")}`;break;case ye.invalid_union:n="Invalid input";break;case ye.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(t.options)}`;break;case ye.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(t.options)}, received '${t.received}'`;break;case ye.invalid_arguments:n="Invalid function arguments";break;case ye.invalid_return_type:n="Invalid function return type";break;case ye.invalid_date:n="Invalid date";break;case ye.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:St.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ye.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ye.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ye.custom:n="Invalid input";break;case ye.invalid_intersection_types:n="Intersection results could not be merged";break;case ye.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ye.not_finite:n="Number must be finite";break;default:n=e.defaultError,St.assertNever(t)}return{message:n}};let rb=Ql;function O5(t){rb=t}function Mf(){return rb}const Vf=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const h=r.filter(f=>!!f).slice().reverse();for(const f of h)u=f(l,{data:e,defaultError:u}).message;return{...i,path:o,message:u}},M5=[];function Ae(t,e){const n=Mf(),r=Vf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ql?void 0:Ql].filter(i=>!!i)});t.common.issues.push(r)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return Zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Je;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Je=Object.freeze({status:"aborted"}),bl=t=>({status:"dirty",value:t}),ir=t=>({status:"valid",value:t}),Nv=t=>t.status==="aborted",Ov=t=>t.status==="dirty",Ca=t=>t.status==="valid",kc=t=>typeof Promise<"u"&&t instanceof Promise;function Lf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ib(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Be||(Be={}));var nc,rc;class Gi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _A=(t,e)=>{if(Ca(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new kr(t.common.issues);return this._error=n,this._error}}};function lt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,u)=>{var h,f;const{message:p}=t;return l.code==="invalid_enum_value"?{message:p??u.defaultError}:typeof u.data>"u"?{message:(h=p??r)!==null&&h!==void 0?h:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(f=p??n)!==null&&f!==void 0?f:u.defaultError}},description:i}}class ht{get description(){return this._def.description}_getType(e){return Es(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(kc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},o=this._parseSync({data:e,path:i.path,parent:i});return _A(i,o)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return Ca(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>Ca(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(kc(i)?i:Promise.resolve(i));return _A(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const l=e(i),u=()=>o.addIssue({code:ye.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Si({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Wi.create(this,this._def)}nullable(){return Lo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wi.create(this)}promise(){return Zl.create(this,this._def)}or(e){return Mc.create([this,e],this._def)}and(e){return Vc.create(this,e,this._def)}transform(e){return new Si({...lt(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Bc({...lt(this._def),innerType:this,defaultValue:n,typeName:Ze.ZodDefault})}brand(){return new N_({typeName:Ze.ZodBranded,type:this,...lt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zc({...lt(this._def),innerType:this,catchValue:n,typeName:Ze.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return dh.create(this,e)}readonly(){return $c.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V5=/^c[^\s-]{8,}$/i,L5=/^[0-9a-z]+$/,F5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,U5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,j5=/^[a-z0-9_-]{21}$/i,B5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,q5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uy;const W5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,K5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,G5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Z5=new RegExp(`^${sb}$`);function ob(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function X5(t){return new RegExp(`^${ob(t)}$`)}function ab(t){let e=`${sb}T${ob(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function J5(t,e){return!!((e==="v4"||!e)&&W5.test(t)||(e==="v6"||!e)&&K5.test(t))}function ez(t,e){if(!B5.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function tz(t,e){return!!((e==="v4"||!e)&&H5.test(t)||(e==="v6"||!e)&&G5.test(t))}class yi extends ht{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pe.string){const o=this._getOrReturnCtx(e);return Ae(o,{code:ye.invalid_type,expected:Pe.string,received:o.parsedType}),Je}const r=new Zn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(i=this._getOrReturnCtx(e,i),l?Ae(i,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&Ae(i,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")$5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"email",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Uy||(Uy=new RegExp(q5,"u")),Uy.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"emoji",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")U5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"uuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")j5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"nanoid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")V5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")L5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid2",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")F5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ulid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ae(i,{validation:"url",code:ye.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"regex",code:ye.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?ab(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Z5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?X5(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?z5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"duration",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?J5(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ip",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?ez(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"jwt",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?tz(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cidr",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Q5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"base64",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Y5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"base64url",code:ye.invalid_string,message:o.message}),r.dirty()):St.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ye.invalid_string,...Be.errToObj(r)})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Be.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Be.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Be.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Be.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Be.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Be.errToObj(n)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new yi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yi.create=t=>{var e;return new yi({checks:[],typeName:Ze.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...lt(t)})};function nz(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class Oo extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pe.number){const o=this._getOrReturnCtx(e);return Ae(o,{code:ye.invalid_type,expected:Pe.number,received:o.parsedType}),Je}let r;const i=new Zn;for(const o of this._def.checks)o.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?nz(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.not_finite,message:o.message}),i.dirty()):St.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Be.toString(n))}setLimit(e,n,r,i){return new Oo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Be.toString(i)}]})}_addCheck(e){return new Oo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Oo.create=t=>new Oo({checks:[],typeName:Ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class Mo extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Pe.bigint)return this._getInvalidInput(e);let r;const i=new Zn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):St.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:ye.invalid_type,expected:Pe.bigint,received:n.parsedType}),Je}gte(e,n){return this.setLimit("min",e,!0,Be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Be.toString(n))}setLimit(e,n,r,i){return new Mo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Be.toString(i)}]})}_addCheck(e){return new Mo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mo.create=t=>{var e;return new Mo({checks:[],typeName:Ze.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...lt(t)})};class Dc extends ht{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pe.boolean){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.boolean,received:r.parsedType}),Je}return ir(e.data)}}Dc.create=t=>new Dc({typeName:Ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class Ia extends ht{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pe.date){const o=this._getOrReturnCtx(e);return Ae(o,{code:ye.invalid_type,expected:Pe.date,received:o.parsedType}),Je}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ae(o,{code:ye.invalid_date}),Je}const r=new Zn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):St.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ia.create=t=>new Ia({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ze.ZodDate,...lt(t)});class Ff extends ht{_parse(e){if(this._getType(e)!==Pe.symbol){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.symbol,received:r.parsedType}),Je}return ir(e.data)}}Ff.create=t=>new Ff({typeName:Ze.ZodSymbol,...lt(t)});class Nc extends ht{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.undefined,received:r.parsedType}),Je}return ir(e.data)}}Nc.create=t=>new Nc({typeName:Ze.ZodUndefined,...lt(t)});class Oc extends ht{_parse(e){if(this._getType(e)!==Pe.null){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.null,received:r.parsedType}),Je}return ir(e.data)}}Oc.create=t=>new Oc({typeName:Ze.ZodNull,...lt(t)});class Yl extends ht{constructor(){super(...arguments),this._any=!0}_parse(e){return ir(e.data)}}Yl.create=t=>new Yl({typeName:Ze.ZodAny,...lt(t)});class Sa extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ir(e.data)}}Sa.create=t=>new Sa({typeName:Ze.ZodUnknown,...lt(t)});class Os extends ht{_parse(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:ye.invalid_type,expected:Pe.never,received:n.parsedType}),Je}}Os.create=t=>new Os({typeName:Ze.ZodNever,...lt(t)});class Uf extends ht{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.void,received:r.parsedType}),Je}return ir(e.data)}}Uf.create=t=>new Uf({typeName:Ze.ZodVoid,...lt(t)});class wi extends ht{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Pe.array)return Ae(n,{code:ye.invalid_type,expected:Pe.array,received:n.parsedType}),Je;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(l||u)&&(Ae(n,{code:l?ye.too_big:ye.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ae(n,{code:ye.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ae(n,{code:ye.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>i.type._parseAsync(new Gi(n,l,n.path,u)))).then(l=>Zn.mergeArray(r,l));const o=[...n.data].map((l,u)=>i.type._parseSync(new Gi(n,l,n.path,u)));return Zn.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new wi({...this._def,minLength:{value:e,message:Be.toString(n)}})}max(e,n){return new wi({...this._def,maxLength:{value:e,message:Be.toString(n)}})}length(e,n){return new wi({...this._def,exactLength:{value:e,message:Be.toString(n)}})}nonempty(e){return this.min(1,e)}}wi.create=(t,e)=>new wi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...lt(e)});function xl(t){if(t instanceof Gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Wi.create(xl(r))}return new Gt({...t._def,shape:()=>e})}else return t instanceof wi?new wi({...t._def,type:xl(t.element)}):t instanceof Wi?Wi.create(xl(t.unwrap())):t instanceof Lo?Lo.create(xl(t.unwrap())):t instanceof Qi?Qi.create(t.items.map(e=>xl(e))):t}class Gt extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=St.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Pe.object){const f=this._getOrReturnCtx(e);return Ae(f,{code:ye.invalid_type,expected:Pe.object,received:f.parsedType}),Je}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Os&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||u.push(f);const h=[];for(const f of l){const p=o[f],g=i.data[f];h.push({key:{status:"valid",value:f},value:p._parse(new Gi(i,g,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Os){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of u)h.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")u.length>0&&(Ae(i,{code:ye.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of u){const g=i.data[p];h.push({key:{status:"valid",value:p},value:f._parse(new Gi(i,g,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of h){const g=await p.key,y=await p.value;f.push({key:g,value:y,alwaysSet:p.alwaysSet})}return f}).then(f=>Zn.mergeObjectSync(r,f)):Zn.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,l,u;const h=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Be.errToObj(e).message)!==null&&u!==void 0?u:h}:{message:h}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ze.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const n={};return St.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Gt({...this._def,shape:()=>n})}omit(e){const n={};return St.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Gt({...this._def,shape:()=>n})}deepPartial(){return xl(this)}partial(e){const n={};return St.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Gt({...this._def,shape:()=>n})}required(e){const n={};return St.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Wi;)o=o._def.innerType;n[r]=o}}),new Gt({...this._def,shape:()=>n})}keyof(){return lb(St.objectKeys(this.shape))}}Gt.create=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strip",catchall:Os.create(),typeName:Ze.ZodObject,...lt(e)});Gt.strictCreate=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strict",catchall:Os.create(),typeName:Ze.ZodObject,...lt(e)});Gt.lazycreate=(t,e)=>new Gt({shape:t,unknownKeys:"strip",catchall:Os.create(),typeName:Ze.ZodObject,...lt(e)});class Mc extends ht{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new kr(u.ctx.common.issues));return Ae(n,{code:ye.invalid_union,unionErrors:l}),Je}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const h of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=h._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!o&&(o={result:p,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(h=>new kr(h));return Ae(n,{code:ye.invalid_union,unionErrors:u}),Je}}get options(){return this._def.options}}Mc.create=(t,e)=>new Mc({options:t,typeName:Ze.ZodUnion,...lt(e)});const ws=t=>t instanceof Fc?ws(t.schema):t instanceof Si?ws(t.innerType()):t instanceof Uc?[t.value]:t instanceof Vo?t.options:t instanceof jc?St.objectValues(t.enum):t instanceof Bc?ws(t._def.innerType):t instanceof Nc?[void 0]:t instanceof Oc?[null]:t instanceof Wi?[void 0,...ws(t.unwrap())]:t instanceof Lo?[null,...ws(t.unwrap())]:t instanceof N_||t instanceof $c?ws(t.unwrap()):t instanceof zc?ws(t._def.innerType):[];class Cp extends ht{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.object)return Ae(n,{code:ye.invalid_type,expected:Pe.object,received:n.parsedType}),Je;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(Ae(n,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const l=ws(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,o)}}return new Cp({typeName:Ze.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...lt(r)})}}function Mv(t,e){const n=Es(t),r=Es(e);if(t===e)return{valid:!0,data:t};if(n===Pe.object&&r===Pe.object){const i=St.objectKeys(e),o=St.objectKeys(t).filter(u=>i.indexOf(u)!==-1),l={...t,...e};for(const u of o){const h=Mv(t[u],e[u]);if(!h.valid)return{valid:!1};l[u]=h.data}return{valid:!0,data:l}}else if(n===Pe.array&&r===Pe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const l=t[o],u=e[o],h=Mv(l,u);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===Pe.date&&r===Pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vc extends ht{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,l)=>{if(Nv(o)||Nv(l))return Je;const u=Mv(o.value,l.value);return u.valid?((Ov(o)||Ov(l))&&n.dirty(),{status:n.value,value:u.data}):(Ae(r,{code:ye.invalid_intersection_types}),Je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vc.create=(t,e,n)=>new Vc({left:t,right:e,typeName:Ze.ZodIntersection,...lt(n)});class Qi extends ht{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.array)return Ae(r,{code:ye.invalid_type,expected:Pe.array,received:r.parsedType}),Je;if(r.data.length<this._def.items.length)return Ae(r,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new Gi(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>Zn.mergeArray(n,l)):Zn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Qi({...this._def,rest:e})}}Qi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qi({items:t,typeName:Ze.ZodTuple,rest:null,...lt(e)})};class Lc extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.object)return Ae(r,{code:ye.invalid_type,expected:Pe.object,received:r.parsedType}),Je;const i=[],o=this._def.keyType,l=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new Gi(r,u,r.path,u)),value:l._parse(new Gi(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Zn.mergeObjectAsync(n,i):Zn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ht?new Lc({keyType:e,valueType:n,typeName:Ze.ZodRecord,...lt(r)}):new Lc({keyType:yi.create(),valueType:e,typeName:Ze.ZodRecord,...lt(n)})}}class jf extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.map)return Ae(r,{code:ye.invalid_type,expected:Pe.map,received:r.parsedType}),Je;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([u,h],f)=>({key:i._parse(new Gi(r,u,r.path,[f,"key"])),value:o._parse(new Gi(r,h,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of l){const f=await h.key,p=await h.value;if(f.status==="aborted"||p.status==="aborted")return Je;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const h of l){const f=h.key,p=h.value;if(f.status==="aborted"||p.status==="aborted")return Je;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}}}}jf.create=(t,e,n)=>new jf({valueType:e,keyType:t,typeName:Ze.ZodMap,...lt(n)});class Pa extends ht{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.set)return Ae(r,{code:ye.invalid_type,expected:Pe.set,received:r.parsedType}),Je;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ae(r,{code:ye.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ae(r,{code:ye.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function l(h){const f=new Set;for(const p of h){if(p.status==="aborted")return Je;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((h,f)=>o._parse(new Gi(r,h,r.path,f)));return r.common.async?Promise.all(u).then(h=>l(h)):l(u)}min(e,n){return new Pa({...this._def,minSize:{value:e,message:Be.toString(n)}})}max(e,n){return new Pa({...this._def,maxSize:{value:e,message:Be.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Pa.create=(t,e)=>new Pa({valueType:t,minSize:null,maxSize:null,typeName:Ze.ZodSet,...lt(e)});class Ml extends ht{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.function)return Ae(n,{code:ye.invalid_type,expected:Pe.function,received:n.parsedType}),Je;function r(u,h){return Vf({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mf(),Ql].filter(f=>!!f),issueData:{code:ye.invalid_arguments,argumentsError:h}})}function i(u,h){return Vf({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mf(),Ql].filter(f=>!!f),issueData:{code:ye.invalid_return_type,returnTypeError:h}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof Zl){const u=this;return ir(async function(...h){const f=new kr([]),p=await u._def.args.parseAsync(h,o).catch(_=>{throw f.addIssue(r(h,_)),f}),g=await Reflect.apply(l,this,p);return await u._def.returns._def.type.parseAsync(g,o).catch(_=>{throw f.addIssue(i(g,_)),f})})}else{const u=this;return ir(function(...h){const f=u._def.args.safeParse(h,o);if(!f.success)throw new kr([r(h,f.error)]);const p=Reflect.apply(l,this,f.data),g=u._def.returns.safeParse(p,o);if(!g.success)throw new kr([i(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ml({...this._def,args:Qi.create(e).rest(Sa.create())})}returns(e){return new Ml({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ml({args:e||Qi.create([]).rest(Sa.create()),returns:n||Sa.create(),typeName:Ze.ZodFunction,...lt(r)})}}class Fc extends ht{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Fc.create=(t,e)=>new Fc({getter:t,typeName:Ze.ZodLazy,...lt(e)});class Uc extends ht{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ae(n,{received:n.data,code:ye.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Uc.create=(t,e)=>new Uc({value:t,typeName:Ze.ZodLiteral,...lt(e)});function lb(t,e){return new Vo({values:t,typeName:Ze.ZodEnum,...lt(e)})}class Vo extends ht{constructor(){super(...arguments),nc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{expected:St.joinValues(r),received:n.parsedType,code:ye.invalid_type}),Je}if(Lf(this,nc)||ib(this,nc,new Set(this._def.values)),!Lf(this,nc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{received:n.data,code:ye.invalid_enum_value,options:r}),Je}return ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}nc=new WeakMap;Vo.create=lb;class jc extends ht{constructor(){super(...arguments),rc.set(this,void 0)}_parse(e){const n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Pe.string&&r.parsedType!==Pe.number){const i=St.objectValues(n);return Ae(r,{expected:St.joinValues(i),received:r.parsedType,code:ye.invalid_type}),Je}if(Lf(this,rc)||ib(this,rc,new Set(St.getValidEnumValues(this._def.values))),!Lf(this,rc).has(e.data)){const i=St.objectValues(n);return Ae(r,{received:r.data,code:ye.invalid_enum_value,options:i}),Je}return ir(e.data)}get enum(){return this._def.values}}rc=new WeakMap;jc.create=(t,e)=>new jc({values:t,typeName:Ze.ZodNativeEnum,...lt(e)});class Zl extends ht{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.promise&&n.common.async===!1)return Ae(n,{code:ye.invalid_type,expected:Pe.promise,received:n.parsedType}),Je;const r=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return ir(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zl.create=(t,e)=>new Zl({type:t,typeName:Ze.ZodPromise,...lt(e)});class Si extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:l=>{Ae(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return Je;const h=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return h.status==="aborted"?Je:h.status==="dirty"||n.value==="dirty"?bl(h.value):h});{if(n.value==="aborted")return Je;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?Je:u.status==="dirty"||n.value==="dirty"?bl(u.value):u}}if(i.type==="refinement"){const l=u=>{const h=i.refinement(u,o);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Je:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Je:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ca(l))return l;const u=i.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ca(l)?Promise.resolve(i.transform(l.value,o)).then(u=>({status:n.value,value:u})):l);St.assertNever(i)}}Si.create=(t,e,n)=>new Si({schema:t,typeName:Ze.ZodEffects,effect:e,...lt(n)});Si.createWithPreprocess=(t,e,n)=>new Si({schema:e,effect:{type:"preprocess",transform:t},typeName:Ze.ZodEffects,...lt(n)});class Wi extends ht{_parse(e){return this._getType(e)===Pe.undefined?ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wi.create=(t,e)=>new Wi({innerType:t,typeName:Ze.ZodOptional,...lt(e)});class Lo extends ht{_parse(e){return this._getType(e)===Pe.null?ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lo.create=(t,e)=>new Lo({innerType:t,typeName:Ze.ZodNullable,...lt(e)});class Bc extends ht{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bc.create=(t,e)=>new Bc({innerType:t,typeName:Ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lt(e)});class zc extends ht{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return kc(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new kr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:Ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lt(e)});class Bf extends ht{_parse(e){if(this._getType(e)!==Pe.nan){const r=this._getOrReturnCtx(e);return Ae(r,{code:ye.invalid_type,expected:Pe.nan,received:r.parsedType}),Je}return{status:"valid",value:e.data}}}Bf.create=t=>new Bf({typeName:Ze.ZodNaN,...lt(t)});const rz=Symbol("zod_brand");class N_ extends ht{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class dh extends ht{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Je:o.status==="dirty"?(n.dirty(),bl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new dh({in:e,out:n,typeName:Ze.ZodPipeline})}}class $c extends ht{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ca(i)&&(i.value=Object.freeze(i.value)),i);return kc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}$c.create=(t,e)=>new $c({innerType:t,typeName:Ze.ZodReadonly,...lt(e)});function ub(t,e={},n){return t?Yl.create().superRefine((r,i)=>{var o,l;if(!t(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,h=(l=(o=u.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0,f=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...f,fatal:h})}}):Yl.create()}const iz={object:Gt.lazycreate};var Ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const sz=(t,e={message:`Input not instance of ${t.name}`})=>ub(n=>n instanceof t,e),cb=yi.create,hb=Oo.create,oz=Bf.create,az=Mo.create,db=Dc.create,lz=Ia.create,uz=Ff.create,cz=Nc.create,hz=Oc.create,dz=Yl.create,fz=Sa.create,pz=Os.create,mz=Uf.create,gz=wi.create,yz=Gt.create,vz=Gt.strictCreate,_z=Mc.create,wz=Cp.create,Ez=Vc.create,Tz=Qi.create,Sz=Lc.create,xz=jf.create,Az=Pa.create,Rz=Ml.create,Cz=Fc.create,Iz=Uc.create,Pz=Vo.create,bz=jc.create,kz=Zl.create,wA=Si.create,Dz=Wi.create,Nz=Lo.create,Oz=Si.createWithPreprocess,Mz=dh.create,Vz=()=>cb().optional(),Lz=()=>hb().optional(),Fz=()=>db().optional(),Uz={string:t=>yi.create({...t,coerce:!0}),number:t=>Oo.create({...t,coerce:!0}),boolean:t=>Dc.create({...t,coerce:!0}),bigint:t=>Mo.create({...t,coerce:!0}),date:t=>Ia.create({...t,coerce:!0})},jz=Je;var vo=Object.freeze({__proto__:null,defaultErrorMap:Ql,setErrorMap:O5,getErrorMap:Mf,makeIssue:Vf,EMPTY_PATH:M5,addIssueToContext:Ae,ParseStatus:Zn,INVALID:Je,DIRTY:bl,OK:ir,isAborted:Nv,isDirty:Ov,isValid:Ca,isAsync:kc,get util(){return St},get objectUtil(){return Dv},ZodParsedType:Pe,getParsedType:Es,ZodType:ht,datetimeRegex:ab,ZodString:yi,ZodNumber:Oo,ZodBigInt:Mo,ZodBoolean:Dc,ZodDate:Ia,ZodSymbol:Ff,ZodUndefined:Nc,ZodNull:Oc,ZodAny:Yl,ZodUnknown:Sa,ZodNever:Os,ZodVoid:Uf,ZodArray:wi,ZodObject:Gt,ZodUnion:Mc,ZodDiscriminatedUnion:Cp,ZodIntersection:Vc,ZodTuple:Qi,ZodRecord:Lc,ZodMap:jf,ZodSet:Pa,ZodFunction:Ml,ZodLazy:Fc,ZodLiteral:Uc,ZodEnum:Vo,ZodNativeEnum:jc,ZodPromise:Zl,ZodEffects:Si,ZodTransformer:Si,ZodOptional:Wi,ZodNullable:Lo,ZodDefault:Bc,ZodCatch:zc,ZodNaN:Bf,BRAND:rz,ZodBranded:N_,ZodPipeline:dh,ZodReadonly:$c,custom:ub,Schema:ht,ZodSchema:ht,late:iz,get ZodFirstPartyTypeKind(){return Ze},coerce:Uz,any:dz,array:gz,bigint:az,boolean:db,date:lz,discriminatedUnion:wz,effect:wA,enum:Pz,function:Rz,instanceof:sz,intersection:Ez,lazy:Cz,literal:Iz,map:xz,nan:oz,nativeEnum:bz,never:pz,null:hz,nullable:Nz,number:hb,object:yz,oboolean:Fz,onumber:Lz,optional:Dz,ostring:Vz,pipeline:Mz,preprocess:Oz,promise:kz,record:Sz,set:Az,strictObject:vz,string:cb,symbol:uz,transformer:wA,tuple:Tz,undefined:cz,union:_z,unknown:fz,void:mz,NEVER:jz,ZodIssueCode:ye,quotelessJson:N5,ZodError:kr});const EA=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ke(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},fb=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?EA(r.ref,n,t):r.refs&&r.refs.forEach(i=>EA(i,n,t))}},Bz=(t,e)=>{e.shouldUseNativeValidation&&fb(t,e);const n={};for(const r in t){const i=ke(e.fields,r),o=Object.assign(t[r]||{},{ref:i&&i.ref});if(zz(e.names||Object.keys(t),r)){const l=Object.assign({},ke(n,r));Ot(l,"root",o),Ot(n,r,l)}else Ot(n,r,o)}return n},zz=(t,e)=>t.some(n=>n.startsWith(e+"."));var $z=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,o=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var h=n[l].types,f=h&&h[r.code];n[l]=QP(l,e,n,i,f?[].concat(f,r.message):r.message)}t.shift()}return n},pb=function(t,e,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(l,u){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(f){return o.shouldUseNativeValidation&&fb({},o),{errors:{},values:n.raw?r:f}})}catch(f){return u(f)}return h&&h.then?h.then(void 0,u):h}(0,function(l){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(l))return{values:{},errors:Bz($z(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const qz=()=>{const{addNoteModalOpen:t,setAddNoteModalOpen:e}=W.useContext(xo);W.useContext(xo);const{userDetails:n,setUserDetails:r}=W.useContext(Wc),i=vo.object({title:vo.string().min(1,{message:"This field is required"}),subject:vo.string().min(1,{message:"This field is required"}),note:vo.string().min(1,{message:"Enter your note briefly"})}),{register:o,handleSubmit:l,formState:{errors:u}}=nb({resolver:pb(i)}),h=f=>{const p={...f,userId:n.uid};HU(p).then(g=>{console.log("Document written with ID: ",g.id),e(!1)}).catch(g=>{console.error("Error adding document: ",g)})};return ie.jsx(ie.Fragment,{children:t&&ie.jsxs(Ta.div,{className:"rounded-lg bg-white w-96 overflow-hidden",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,type:"spring"},children:[ie.jsxs("div",{className:"py-2 bg-primary px-5 flex items-center justify-center relative",children:[ie.jsx("p",{className:"text-white text-sm font-medium",children:"Add Note"}),ie.jsx(uI,{className:"absolute right-2 w-5 h-5 text-gray-300",onClick:()=>e(!1)})]}),ie.jsxs("form",{className:"space-y-3 p-5",onSubmit:l(h),children:[ie.jsx(Sf,{id:"title",label:"Title",type:"text",register:o("title"),error:u.title}),ie.jsx(Sf,{id:"subject",label:"Subject",type:"text",register:o("subject"),error:u.subject}),ie.jsx(HP,{id:"note",label:"Note",type:"text",register:o("note"),error:u.note}),ie.jsx(xf,{text:"Add",loading:!1,className:"bg-secondary w-full"})]})]})})},Wz=()=>{const{editNoteModalOpen:t,setEditNoteModalOpen:e}=W.useContext(xo),{selectedNote:n,setSelectedNote:r}=W.useContext(qc),i=vo.object({editTitle:vo.string().min(1,{message:"This field is required"}),editSubject:vo.string().min(1,{message:"This field is required"}),editNote:vo.string().min(1,{message:"Enter your note briefly"})}),{register:o,handleSubmit:l,setValue:u,watch:h,formState:{errors:f}}=nb({resolver:pb(i),defaultValues:{editTitle:(n==null?void 0:n.title)||"",editSubject:(n==null?void 0:n.subject)||"",editNote:(n==null?void 0:n.note)||""}});W.useEffect(()=>{n&&(u("editTitle",n.title||""),u("editSubject",n.subject||""),u("editNote",n.note||""))},[n,u]);const p=g=>{console.log(g),QU("notes",n.id,g).then(y=>{console.log("Updated document with ID:",n.id),e(!1),r(null)}).catch(y=>{console.error("Error Updating document:",y)})};return ie.jsx(ie.Fragment,{children:t&&ie.jsxs(Ta.div,{className:"rounded-lg bg-white w-96 overflow-hidden",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,type:"spring"},children:[ie.jsxs("div",{className:"py-2 bg-primary px-5 flex items-center justify-center relative",children:[ie.jsx("p",{className:"text-white text-sm font-medium",children:"Edit Note"}),ie.jsx(uI,{className:"absolute right-2 w-5 h-5 text-gray-300 cursor-pointer",onClick:()=>e(!1)})]}),ie.jsxs("form",{className:"space-y-3 p-5",onSubmit:l(p),children:[ie.jsx(Sf,{id:"editTitle",label:"Title",type:"text",value:h("editTitle"),onChange:g=>u("editTitle",g.target.value),register:o("editTitle"),error:f.editTitle}),ie.jsx(Sf,{id:"editSubject",label:"Subject",type:"text",value:h("editSubject"),onChange:g=>u("editSubject",g.target.value),register:o("editSubject"),error:f.editSubject}),ie.jsx(HP,{id:"editNote",label:"Note",type:"text",value:h("editNote"),onChange:g=>u("editNote",g.target.value),register:o("editNote"),error:f.editNote}),ie.jsx(xf,{text:"Save",loading:!1,className:"bg-secondary w-full"})]})]})})},Hz=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(null),[i,o]=W.useState(!1),[l,u]=W.useState(!1),[h,f]=W.useState(!1),[p,g]=W.useState(!1),[y,_]=W.useState(!1),[T,S]=W.useState("home");return W.useEffect(()=>{k4($0,A=>{A?(console.log("User signed in:",A),r(A)):console.log("No user is signed in")})},[n]),W.useEffect(()=>{const A=setTimeout(()=>{n||u(!0)},3e3);return()=>clearTimeout(A)},[n,u]),ie.jsx(xo.Provider,{value:{signOutModalOpen:i,setSignOutModalOpen:o,signInModalOpen:l,setSigninModalOpen:u,addNoteModalOpen:h,setAddNoteModalOpen:f,editNoteModalOpen:p,setEditNoteModalOpen:g},children:ie.jsx(Wc.Provider,{value:{userDetails:n,setUserDetails:r},children:ie.jsx(qc.Provider,{value:{notesList:t,setNotesList:e,selectedNote:y,setSelectedNote:_,selectedMenu:T,setSelectedMenu:S},children:ie.jsxs("div",{className:"bg-bg flex h-screen overflow-hidden",children:[ie.jsx(xO,{}),ie.jsx("div",{children:ie.jsx(sN,{})}),(l||i||h||p)&&ie.jsxs("div",{className:"bg-black h-screen w-full absolute inset-0 bg-opacity-30 flex items-center justify-center z-50",children:[ie.jsx(d5,{}),ie.jsx(f5,{}),ie.jsx(qz,{}),ie.jsx(Wz,{})]})]})})})})},Kz="/Keep-Notes/assets/homeBg-XGJAmq9G.webp",jy=(t,e,n)=>({hidden:{y:t==="up"?40:t==="down"?-40:0,x:t==="right"?40:t==="left"?-40:0,opacity:n},show:{x:0,y:0,opacity:1,transition:{type:"tween",duration:.5,delay:e,ease:[.25,.25,.25,.75]}}}),TA=()=>{const{selectedMenu:t,setSelectedMenu:e}=W.useContext(qc),n=FA();return ie.jsxs("div",{className:"h-screen w-screen relative",children:[ie.jsx("img",{src:Kz,alt:"homebg",className:"object-cover object-right w-full h-full absolute top-0 left-0 z-0"}),ie.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-black to-transparent z-10 opacity-80"}),ie.jsxs("div",{className:"absolute top-1/4 left-20 right-96 z-10 space-y-5",children:[ie.jsx(Ta.h1,{className:"font-bold text-4xl text-white tracking-widest",variants:jy("left",.3,0),initial:"hidden",whileInView:"show",viewport:{once:!0},children:"KEEP NOTES"}),ie.jsx(Ta.p,{className:"text-zinc-200 text-sm pb-5",variants:jy("left",.5,0),initial:"hidden",whileInView:"show",viewport:{once:!0},children:"Keep Notes is a sleek and intuitive note-taking app designed to help you capture, organize, and manage your thoughts and ideas effortlessly. Whether you're jotting down detailed plans or important to-dos, Keep Notes makes it easy to keep everything in one place. With its clean and user-friendly interface, you can easily create, edit, and categorize your notes."}),ie.jsxs(Ta.div,{className:"border-2 border-zinc-200 rounded-md py-2 px-3 text-center w-fit mx-auto flex items-center gap-2 cursor-pointer",variants:jy("up",.8,0),initial:"hidden",whileInView:"show",viewport:{once:!0},onClick:()=>{n("/notes"),e("notes")},children:[ie.jsx("p",{className:"text-white text-sm font-semibold",children:"Get Start"}),ie.jsx(Mk,{className:"w-5 h-5 text-white"})]})]})]})},Gz=bN([{path:"/",element:ie.jsx(Hz,{}),children:[{path:"/",element:ie.jsx(TA,{})},{path:"/notes",element:ie.jsx(Rj,{})},{path:"*",element:ie.jsx(TA,{})}]}],{basename:"/Keep-Notes/",future:{v7_partialHydration:!0}});Rk.createRoot(document.getElementById("root")).render(ie.jsx(W.StrictMode,{children:ie.jsx(nN,{router:Gz})}));
